{"version":3,"file":"static/js/740.4439e659.chunk.js","mappings":"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","sources":["shared/antd/ionicon/assets/icon-telegram.svg","shared/antd/ionicon/customs.tsx","shared/antd/ionicon/index.tsx","app/page/sideBar/communityPools/search.tsx","shared/dataloader/constant.ts","shared/dataloader/request.ts","shared/dataloader/cache.ts","shared/dataloader/index.ts","shared/util.ts","app/hooks/usePoolTvl.ts","app/hooks/useMintTotalValue.ts","app/components/poolTVL.tsx","app/constant/index.ts","app/components/poolCardStatus.tsx","shared/antd/mint/mintAvatar.tsx","shared/antd/mint/mintName.tsx","shared/antd/mint/mintSymbol.tsx","app/configs/manifest.config.ts","app/configs/sol.config.ts","app/configs/stat.config.ts","app/configs/fee.config.ts","app/configs/route.config.ts","app/configs/index.ts","app/helper/api.ts","app/model/stat.controller.ts","app/page/sideBar/components/poolCard.tsx","app/page/sideBar/communityPools/listPools.tsx","app/model/main.controller.ts","app/page/sideBar/communityPools/index.tsx","app/page/sideBar/components/lptCard.tsx","app/page/sideBar/yourPools/listMyPools.tsx","app/page/sideBar/yourPools/index.tsx","shared/antd/numericInput.tsx","app/page/sideBar/newPool/selectPools.tsx","shared/hooks/useMintDecimals.ts","app/page/sideBar/newPool/amountSelect.tsx","app/helper/index.ts","app/hooks/useMintPrice.ts","app/page/sideBar/newPool/index.tsx","app/page/sideBar/sentrePools/index.tsx","app/page/sideBar/depositedPools/index.tsx","app/model/settings.controller.ts","app/components/settingsButton.tsx","app/page/sideBar/index.tsx","app/components/swapButton.tsx","app/page/poolDetails/poolDetailsHeader.tsx","app/components/poolPrice.tsx","app/page/poolDetails/liquidityPosition/price.tsx","app/components/deposit/summary.tsx","app/components/amount.tsx","app/components/deposit/fullSide.tsx","app/components/deposit/index.tsx","app/components/withdraw/lpt.tsx","app/components/withdraw/info.tsx","app/components/withdraw/index.tsx","app/page/poolDetails/liquidityPosition/liquidityAction.tsx","app/page/poolDetails/liquidityPosition/index.tsx","app/page/poolDetails/management/FeeInput.tsx","app/page/poolDetails/management/fee.tsx","app/page/poolDetails/management/freeze.tsx","app/page/poolDetails/management/transferOwner.tsx","app/page/poolDetails/management/index.tsx","app/components/chart.tsx","app/stat/entities/daily-report.ts","app/stat/logic/daily-report.ts","shared/pdb/ipfs.ts","shared/pdb/index.ts","app/stat/entities/trans-log.ts","app/stat/adapters/solana/client.ts","app/stat/constants/transaction.ts","app/stat/helpers/date.ts","app/stat/logic/pool/poolTranslog.ts","app/stat/logic/translog.ts","app/stat/constants/sol.ts","app/stat/logic/pool/pool.ts","app/page/poolDetails/totalValueLocked.tsx","app/page/poolDetails/volume24h.tsx","app/page/poolDetails/booster/redeem/action.tsx","app/components/caption.tsx","app/components/orderStatus.tsx","app/page/poolDetails/booster/redeem/order.tsx","app/page/poolDetails/booster/redeem/index.tsx","app/hooks/useNextOrderIndex.ts","app/page/poolDetails/booster/reinvestment/confirm.tsx","app/page/poolDetails/booster/reinvestment/form.tsx","app/page/poolDetails/booster/reinvestment/discount.tsx","app/page/poolDetails/booster/reinvestment/index.tsx","app/model/retailers.controller.ts","app/page/poolDetails/booster/admin/newRetailer.tsx","app/page/poolDetails/booster/admin/retailerState.tsx","app/page/poolDetails/booster/admin/action.tsx","app/page/poolDetails/booster/admin/order.tsx","app/model/orders.controller.ts","app/page/poolDetails/booster/admin/index.tsx","app/page/poolDetails/booster/index.tsx","app/page/poolDetails/index.tsx","app/components/viewPoolButton.tsx","app/model/lpts.controller.ts","app/components/watcher/lptWatcher.tsx","app/components/watcher/retailerWatcher.tsx","app/components/watcher/orderWatcher.tsx","app/page/index.tsx","app/widget/header.tsx","app/widget/components/lptsPools/itemLPT.tsx","app/widget/components/lptsPools/index.tsx","app/widget/components/pools/itemPool.tsx","app/widget/components/pools/index.tsx","app/widget/index.tsx","shared/devTools.ts","app/model/index.ts","app/bootstrap.app.tsx","os/configs/sol.config.ts","os/configs/register.config.ts","os/configs/index.ts","os/providers/tokenProvider/supplementary.ts","os/providers/tokenProvider/index.ts","shared/runtime.ts","shared/storage.ts"],"sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgIconTelegram({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"inherit\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 50 50\",\n    width: \"50px\",\n    height: \"50px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M46.137,6.552c-0.75-0.636-1.928-0.727-3.146-0.238l-0.002,0C41.708,6.828,6.728,21.832,5.304,22.445 c-0.259,0.09-2.521,0.934-2.288,2.814c0.208,1.695,2.026,2.397,2.248,2.478l8.893,3.045c0.59,1.964,2.765,9.21,3.246,10.758 c0.3,0.965,0.789,2.233,1.646,2.494c0.752,0.29,1.5,0.025,1.984-0.355l5.437-5.043l8.777,6.845l0.209,0.125 c0.596,0.264,1.167,0.396,1.712,0.396c0.421,0,0.825-0.079,1.211-0.237c1.315-0.54,1.841-1.793,1.896-1.935l6.556-34.077 C47.231,7.933,46.675,7.007,46.137,6.552z M22,32l-3,8l-3-10l23-17L22,32z\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconTelegram);\nexport default __webpack_public_path__ + \"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg\";\nexport { ForwardRef as ReactComponent };","import IconTele from './assets/icon-telegram.svg'\n\nexport const CUSTOM_ICONS: Record<string, string> = {\n  'logo-telegram': IconTele,\n}\n","/**\n * IonIcon 5\n * Credit https://ionic.io/ionicons\n */\n\nimport { forwardRef } from 'react'\nimport { CUSTOM_ICONS } from './customs'\n\n/**\n * IonIcon\n * @param name The icon name. You can find it here https://ionic.io/ionicons\n * @param className To modify the span class\n */\nconst IonIcon = forwardRef<\n  HTMLElement,\n  { name: string; className?: string } & any\n>(({ name, className, ...props }, ref) => {\n  const cln = className ? 'anticon ' + className : 'anticon'\n\n  return (\n    <span className={cln} {...props}>\n      {CUSTOM_ICONS[name] ? (\n        <ion-icon ref={ref} src={CUSTOM_ICONS[name]} />\n      ) : (\n        <ion-icon ref={ref} name={name} />\n      )}\n    </span>\n  )\n})\n\nexport default IonIcon\n","import { useCallback, useEffect, useState } from 'react'\nimport { account, PoolData } from '@senswap/sen-js'\n\nimport { Card, Input, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { useMint } from 'senhub/providers'\n\nconst KEYSIZE = 3\n\nconst Search = ({\n  pools,\n  onChange,\n}: {\n  pools: Array<PoolData & { address: string }>\n  onChange: (value: Array<PoolData & { address: string }> | undefined) => void\n}) => {\n  const [keyword, setKeyword] = useState('')\n  const { tokenProvider } = useMint()\n\n  const search = useCallback(async () => {\n    if (!keyword || keyword.length < KEYSIZE) return onChange(undefined)\n    if (account.isAddress(keyword)) {\n      const poolData = pools.find(({ address }) => address === keyword)\n      if (!poolData) return onChange([])\n      return onChange([poolData])\n    }\n    const tokenInfos = await tokenProvider.find(keyword)\n    if (!tokenInfos) return onChange(undefined)\n    const mintAddress = tokenInfos.map(({ address }) => address)\n    const searchedPools = pools.filter((data) => {\n      const { mint_a, mint_b } = data\n      if (mintAddress.includes(mint_a)) return true\n      if (mintAddress.includes(mint_b)) return true\n      return false\n    })\n    return onChange(searchedPools)\n  }, [pools, keyword, onChange, tokenProvider])\n\n  useEffect(() => {\n    search()\n  }, [search])\n\n  return (\n    <Card bodyStyle={{ padding: 8 }} bordered={false} className=\"lp-card\">\n      <Input\n        placeholder=\"Search\"\n        value={keyword}\n        size=\"small\"\n        bordered={false}\n        prefix={\n          <Button\n            type=\"text\"\n            style={{ marginLeft: -7 }}\n            size=\"small\"\n            onClick={keyword ? () => setKeyword('') : () => {}}\n            icon={\n              <IonIcon name={keyword ? 'close-outline' : 'search-outline'} />\n            }\n          />\n        }\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n          setKeyword(e.target.value)\n        }\n      />\n    </Card>\n  )\n}\n\nexport default Search\n","export type LimitConfig = {\n  calls: number\n  time: number\n}\n\nexport type CacheConfig = {\n  ttl: number // millisecond\n}\n\nexport type SingleFlightConfig = {\n  limit?: LimitConfig\n  cache?: CacheConfig\n}\n\n// 10 request per 1 second\nexport const DEFAULT_LIMIT_CONFIG: LimitConfig = {\n  calls: 10,\n  time: 1000,\n}\n\n// 10 request per 1 second\nexport const DEFAULT_CACHE_CONFIG: CacheConfig = {\n  ttl: 30000,\n}\n\nexport const DEFAULT_SINGLE_FLIGHT_CONFIG: SingleFlightConfig = {\n  limit : DEFAULT_LIMIT_CONFIG,\n  cache: DEFAULT_CACHE_CONFIG\n}","export interface IRequestQueue {\n  key: string\n  add(resolve: any, reject: any): void\n  resolves(data: any): void\n  rejects(error: any): void\n}\n\nexport class RequestQueue implements IRequestQueue {\n  key = ''\n  private resolveQueue: any[] = []\n  private rejectQueue: any[] = []\n  constructor(key: string) {\n    this.key = key\n  }\n\n  add(resolve: any, reject: any) {\n    this.resolveQueue.push(resolve)\n    this.rejectQueue.push(reject)\n  }\n\n  resolves(data: any) {\n    while (this.resolveQueue.length > 0) {\n      const resolve = this.resolveQueue.shift()\n      resolve(data)\n    }\n  }\n\n  rejects(error: any) {\n    while (this.rejectQueue.length > 0) {\n      const reject = this.rejectQueue.shift()\n      reject(error)\n    }\n  }\n}\n","import { DEFAULT_CACHE_CONFIG } from './constant'\nimport { CacheConfig } from './constant'\n\nexport class SingleFlightCache {\n  private static mapCache = new Map<string, any>()\n\n  static set(\n    key: string,\n    value: any,\n    configs: CacheConfig = DEFAULT_CACHE_CONFIG,\n  ) {\n    this.mapCache.set(key, value)\n    setTimeout(() => {\n      this.mapCache.delete(key)\n    }, configs.ttl)\n  }\n\n  static get(key: string) {\n    return this.mapCache.get(key)\n  }\n}\n","import { DEFAULT_SINGLE_FLIGHT_CONFIG, SingleFlightConfig } from './constant'\n\nimport { IRequestQueue, RequestQueue } from './request'\nimport { SingleFlightCache } from './cache'\n\nexport class DataLoader {\n  static mapInstance = new Map<string, SingleFlight>()\n\n  private static getSingleFlight(configs: SingleFlightConfig): SingleFlight {\n    const instanceKey = JSON.stringify(configs)\n    if (this.mapInstance.has(instanceKey)) {\n      const instance = this.mapInstance.get(instanceKey)\n      if (instance) return instance\n    }\n\n    let newSingleFlight = new SingleFlight(configs)\n    this.mapInstance.set(instanceKey, newSingleFlight)\n    return newSingleFlight\n  }\n\n  static async load<T>(\n    requestKey: string | object,\n    callback: () => Promise<T>,\n    configs: SingleFlightConfig = {},\n  ): Promise<T> {\n    if (typeof requestKey === 'object') requestKey = JSON.stringify(requestKey)\n\n    let singleFlight = DataLoader.getSingleFlight(configs)\n    DataLoader.mapInstance.set(requestKey, singleFlight)\n    const newRequest = new RequestQueue(requestKey)\n    return singleFlight.load<T>(newRequest, callback)\n  }\n}\n\nclass SingleFlight {\n  private config: SingleFlightConfig\n  private intervalRequest: any\n  private timeLogs: number[] = []\n\n  private mapRequestCalling = new Map<string, IRequestQueue>()\n  private requestQueue: IRequestQueue[] = []\n\n  constructor(configs: SingleFlightConfig) {\n    this.config = Object.assign(DEFAULT_SINGLE_FLIGHT_CONFIG, configs)\n  }\n\n  async load<T>(newRequest: IRequestQueue, callback: () => Promise<T>) {\n    const cacheData = SingleFlightCache.get(newRequest.key)\n    if (cacheData) return Promise.resolve(cacheData)\n\n    let isFetch = false\n    let request = this.mapRequestCalling.get(newRequest.key)\n    if (!request) {\n      request = newRequest\n      isFetch = true\n      this.mapRequestCalling.set(request.key, request)\n    }\n\n    return new Promise((resolve, reject) => {\n      if (!request) return reject('Not found request!')\n      request.add(resolve, reject)\n      if (isFetch) {\n        this.fetch<T>(request, callback)\n      }\n    })\n  }\n\n  private fetch<T>(request: IRequestQueue, callback: () => Promise<T>) {\n    if (!this.validateLimit()) {\n      return this.addRequestQueue(request, callback)\n    }\n    this.createTimeLogs()\n\n    callback()\n      .then((response) => {\n        SingleFlightCache.set(request.key, response, this.config.cache)\n        request.resolves(response)\n      })\n      .catch((error) => {\n        request.rejects(error)\n      })\n      .finally(() => {\n        this.mapRequestCalling.delete(request.key)\n        this.fetchRequestQueue(callback)\n      })\n  }\n\n  private fetchRequestQueue(callback: () => Promise<any>) {\n    if (!this.validateLimit()) return\n    const request = this.requestQueue.shift()\n    if (request) this.load(request, callback)\n\n    if (this.requestQueue.length === 0 && this.intervalRequest) {\n      clearInterval(this.intervalRequest)\n    }\n  }\n\n  private addRequestQueue(\n    request: IRequestQueue,\n    callback: () => Promise<any>,\n  ) {\n    this.requestQueue.push(request)\n    this.intervalRequest = setInterval(() => {\n      this.fetchRequestQueue(callback)\n    }, this.config.limit?.time)\n  }\n\n  private validateLimit(): boolean {\n    return true\n  }\n\n  private createTimeLogs() {\n    if (!this.config.limit) return\n\n    const now = new Date().getTime()\n    this.timeLogs.push(now)\n    if (this.timeLogs.length > this.config.limit?.calls) {\n      this.timeLogs.shift()\n    }\n  }\n}\n","import { account, utils } from '@senswap/sen-js'\nimport numbro from 'numbro'\n\nimport { net } from 'shared/runtime'\nimport { DataLoader } from './dataloader'\n\n/**\n * Delay by async/await\n * @param ms - milisenconds\n * @returns\n */\nexport const asyncWait = (ms: number): Promise<void> => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\n/**\n * Shorten a long address\n * @param address - The long address\n * @param num - The number of the heading and trailing characters\n * @param delimiter - The delimiter\n * @returns Shortened address\n */\nexport const shortenAddress = (address: string, num = 4, delimiter = '...') => {\n  return (\n    address.substring(0, num) +\n    delimiter +\n    address.substring(address.length - num, address.length)\n  )\n}\n\n/**\n * Build a explorer url by context including addresses or transaction ids\n * @param addressOrTxId - Address or TxId\n * @returns\n */\nexport const explorer = (addressOrTxId: string): string => {\n  if (account.isAddress(addressOrTxId)) {\n    return `https://explorer.solana.com/address/${addressOrTxId}?cluster=${net}`\n  }\n  return `https://explorer.solana.com/tx/${addressOrTxId}?cluster=${net}`\n}\n\n/**\n * Wrapped Numbro - https://numbrojs.com/old-format.html\n * @param value - value\n * @returns\n */\nexport const numeric = (\n  value?: number | string | BigInt,\n): ReturnType<typeof numbro> => {\n  if (!value) return numbro('0')\n  return numbro(value)\n}\n\n/**\n * Generate a random color\n * @param seed - Seed\n * @param opacity - Opacity\n * @returns\n */\nexport const randomColor = (seed?: string, opacity?: string | number) => {\n  let hash = Math.floor(Math.random() * 16777215)\n  if (seed) {\n    hash = 0\n    for (let i = 0; i < seed.length; i++) {\n      hash = seed.charCodeAt(i) + ((hash << 5) - hash)\n    }\n  }\n  var rgb = [0, 0, 0]\n  for (let i = 0; i < 3; i++) {\n    var value = (hash >> (i * 8)) & 255\n    rgb[i] = value\n  }\n  return `rgba(${rgb[0]}, 100, ${rgb[1]},${opacity || 1})`\n}\n\n/**\n * Fetch coingecko data with cache\n * @param ticket - Token ticket\n * @returns\n */\nexport const fetchCGK = async (ticket = '') => {\n  return DataLoader.load('fetchCGK' + ticket, () => utils.parseCGK(ticket))\n}\n","import { usePool } from 'senhub/providers'\nimport { useCallback, useEffect, useState } from 'react'\nimport { useMintTotalValue } from './useMintTotalValue'\n\nexport const usePoolTvl = (poolAddress?: string) => {\n  const { pools } = usePool()\n  const [tvl, setTvl] = useState(0)\n  const { getMintTotalValue } = useMintTotalValue()\n\n  const getTvl = useCallback(\n    async (poolAddress: string) => {\n      const poolData = pools[poolAddress]\n      if (!poolData) return 0\n      const { reserve_a, reserve_b, mint_a, mint_b } = poolData\n      const totalA = await getMintTotalValue({\n        mintAddress: mint_a,\n        amount: reserve_a,\n      })\n      const totalB = await getMintTotalValue({\n        mintAddress: mint_b,\n        amount: reserve_b,\n      })\n      return totalA + totalB\n    },\n    [getMintTotalValue, pools],\n  )\n\n  const updateTvl = useCallback(\n    async (poolAddress?: string) => {\n      if (!poolAddress) return setTvl(0)\n      const poolTvl = await getTvl(poolAddress)\n      setTvl(poolTvl)\n    },\n    [getTvl],\n  )\n\n  useEffect(() => {\n    updateTvl(poolAddress)\n  }, [updateTvl, poolAddress])\n\n  return { tvl, getTvl }\n}\n","import { useCallback } from 'react'\nimport { Swap, utils } from '@senswap/sen-js'\n\nimport { useMint, usePool } from 'senhub/providers'\nimport { fetchCGK } from 'shared/util'\n\nexport const useMintTotalValue = () => {\n  const { tokenProvider, getMint } = useMint()\n  const { pools } = usePool()\n\n  const getTokenUsd = useCallback(\n    async (mintAddress: string, amount: bigint) => {\n      try {\n        const tokenInfo = await tokenProvider.findByAddress(mintAddress)\n        const ticket = tokenInfo?.extensions?.coingeckoId\n        if (!ticket) throw new Error('Cant not find coingeckoId')\n\n        const cgkData = await fetchCGK(ticket)\n        return (\n          Number(utils.undecimalize(amount, tokenInfo.decimals)) * cgkData.price\n        )\n      } catch (error) {\n        return 0\n      }\n    },\n    [tokenProvider],\n  )\n\n  const getMintTotalValue = useCallback(\n    async ({\n      mintAddress,\n      amount,\n    }: {\n      mintAddress: string\n      amount: bigint\n    }) => {\n      const tokenInfo = await tokenProvider.findByAddress(mintAddress)\n      if (tokenInfo) return getTokenUsd(mintAddress, amount)\n\n      // Get Mint Lpt total value\n      const poolData = Object.values(pools).find(\n        (pool) => pool.mint_lpt === mintAddress,\n      )\n      if (!poolData) return 0\n      const { reserve_a, reserve_b, mint_a, mint_b } = poolData\n      if (reserve_a * reserve_b === BigInt(0)) return 0\n      const {\n        [mintAddress]: { supply },\n      } = await getMint({ address: mintAddress })\n      const { deltaA, deltaB } = Swap.oracle.withdraw(\n        amount,\n        supply,\n        reserve_a,\n        reserve_b,\n      )\n      const balanceA: number = await getMintTotalValue({\n        mintAddress: mint_a,\n        amount: deltaA,\n      })\n      const balanceB: number = await getMintTotalValue({\n        mintAddress: mint_b,\n        amount: deltaB,\n      })\n      return balanceA + balanceB\n    },\n    [getMint, getTokenUsd, tokenProvider, pools],\n  )\n  return { getMintTotalValue }\n}\n","import { numeric } from 'shared/util'\nimport { usePoolTvl } from 'app/hooks/usePoolTvl'\n\nconst PoolTVL = ({ poolAddress }: { poolAddress: string }) => {\n  const { tvl } = usePoolTvl(poolAddress)\n  return <span>${numeric(tvl).format('0,0.[00]a')}</span>\n}\n\nexport default PoolTVL\n","export enum PoolStatus {\n  Frozen = 2,\n  Active = 1,\n}\n\nexport enum OrderState {\n  Uninitialized = 0,\n  Open = 1,\n  Approved = 2,\n  Done = 3,\n  Rejected = 4,\n  Canceled = 5,\n}\n\nexport enum PoolTabs {\n  Sentre = 'sentre-pools',\n  Deposited = 'deposited-pools',\n  YourPools = 'your-pools',\n  Community = 'community-pools',\n}\n\nexport enum QueryParams {\n  address = 'poolAddress',\n  category = 'category',\n}\n\nexport const VESTING = [\n  { locktime: 7, discount: 0.05 },\n  { locktime: 30, discount: 0.25 },\n  { locktime: 60, discount: 0.35 },\n  { locktime: 90, discount: 0.4 },\n]\n","import { Space } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { usePool, useWallet } from 'senhub/providers'\nimport { PoolStatus } from 'app/constant'\n\nconst PoolCardStatus = ({ poolAddress }: { poolAddress: string }) => {\n  const { pools } = usePool()\n  const poolData = pools[poolAddress] || {}\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const isFrozen = poolData.state === PoolStatus.Frozen\n  const isOwner = walletAddress === poolData?.owner\n\n  return (\n    <Space>\n      {isFrozen && <IonIcon name=\"snow-outline\" style={{ fontSize: 16 }} />}\n      {isOwner && <IonIcon name=\"person-outline\" style={{ fontSize: 16 }} />}\n    </Space>\n  )\n}\n\nexport default PoolCardStatus\n","import { ReactNode, useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\n\nimport { Avatar } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { useMint, usePool } from 'senhub/providers'\n\nconst DEFAULT_AVATARS: Array<string | undefined> = [undefined]\n\nexport type MintAvatarProps = {\n  mintAddress: string\n  size?: number\n  icon?: ReactNode\n  reversed?: boolean\n}\n\n/**\n * Mint/Token avatar, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param size - Avatar size. Default 24px.\n * @param icon - Fallback icon for unknown token\n * @param reversed - (Optional) The default LP token avatar is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintAvatar = ({\n  mintAddress,\n  size = 24,\n  icon = <IonIcon name=\"diamond-outline\" />,\n  reversed = false,\n  ...props\n}: MintAvatarProps) => {\n  const [avatars, setAvatars] = useState(DEFAULT_AVATARS)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveAvatar = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.logoURI) return token.logoURI\n      return undefined\n    },\n    [tokenProvider],\n  )\n\n  const deriveAvatars = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setAvatars(DEFAULT_AVATARS)\n    // LP mint\n    const poolData = Object.values(pools).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const avatars = await Promise.all([mint_a, mint_b].map(deriveAvatar))\n      if (reversed) avatars.reverse()\n      return setAvatars(avatars)\n    }\n    // Normal mint\n    const avatar = await deriveAvatar(mintAddress)\n    return setAvatars([avatar])\n  }, [mintAddress, reversed, deriveAvatar, pools])\n\n  useEffect(() => {\n    deriveAvatars()\n  }, [deriveAvatars])\n\n  if (avatars.length === 1)\n    return (\n      <Avatar\n        src={avatars[0]}\n        size={size}\n        style={{ backgroundColor: '#2D3355', border: 'none' }}\n        {...props}\n      >\n        {icon}\n      </Avatar>\n    )\n  return (\n    <Avatar.Group style={{ display: 'block', whiteSpace: 'nowrap' }} {...props}>\n      {avatars.map((avatar, i) => (\n        <Avatar\n          key={i}\n          src={avatar}\n          size={size}\n          style={{ backgroundColor: '#2D3355', border: 'none' }}\n        >\n          {icon}\n        </Avatar>\n      ))}\n    </Avatar.Group>\n  )\n}\n\nexport default MintAvatar\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\n\nimport { useMint, usePool } from 'senhub/providers'\n\nconst DEFAULT_NAME = 'Unknown Token'\n\n/**\n * Mint/Token name, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the names is combined by 2 token names. The separator is to separate them.\n * @param reversed - (Optional) The default LP token names is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintName = ({\n  mintAddress,\n  separator = '  ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [name, setName] = useState(DEFAULT_NAME)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveName = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.name) return token.name\n      return DEFAULT_NAME\n    },\n    [tokenProvider],\n  )\n\n  const deriveNames = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setName(DEFAULT_NAME)\n    // LP mint\n    const poolData = Object.values(pools).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const names = await Promise.all([mint_a, mint_b].map(deriveName))\n      if (reversed) names.reverse()\n      return setName(`${names.join(separator)} LP`)\n    }\n    // Normal mint\n    const name = await deriveName(mintAddress)\n    return setName(name)\n  }, [mintAddress, reversed, deriveName, pools, separator])\n\n  useEffect(() => {\n    deriveNames()\n  }, [deriveNames])\n\n  return <span>{name}</span>\n}\n\nexport default MintName\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\n\nimport { useMint, usePool } from 'senhub/providers'\n\nconst DEFAULT_SYMBOL = 'TOKN'\n\n/**\n * Mint/Token symbol, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the symbols is combined by 2 token symbols. The separator is to separate them.\n * @param reversed - (Optional) The default LP token symbol is A-B. The reversed is to change it to B-A\n * @returns symbol\n */\nconst MintSymbol = ({\n  mintAddress,\n  separator = '  ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [symbol, setSymbol] = useState(DEFAULT_SYMBOL)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveSymbol = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.symbol) return token.symbol\n      return address.substring(0, 4)\n    },\n    [tokenProvider],\n  )\n\n  const deriveSymbols = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setSymbol(DEFAULT_SYMBOL)\n    // LP mint\n    const poolData = Object.values(pools).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const symbols = await Promise.all([mint_a, mint_b].map(deriveSymbol))\n      if (reversed) symbols.reverse()\n      return setSymbol(symbols.join(separator))\n    }\n    // Normal mint\n    const symbol = await deriveSymbol(mintAddress)\n    return setSymbol(symbol)\n  }, [mintAddress, reversed, deriveSymbol, pools, separator])\n\n  useEffect(() => {\n    deriveSymbols()\n  }, [deriveSymbols])\n\n  return <span>{symbol}</span>\n}\n\nexport default MintSymbol\n","import { Env } from 'shared/runtime'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string' ||\n  typeof process.env.REACT_APP_SENHUB !== 'string'\n)\n  throw new Error('Please add REACT_APP_ID, REACT_APP_URL in .env!')\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  appId: string\n  url: string\n  senhub: string\n}\n\nconst shared = {\n  appId: process.env.REACT_APP_ID,\n  url: process.env.REACT_APP_URL,\n  senhub: process.env.REACT_APP_SENHUB,\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    ...shared,\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    ...shared,\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    ...shared,\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Purchasing } from '@senswap/sen-js'\n\nimport { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Config = {\n  // For lp\n  swapAddress: string\n  taxmanAddress: string\n  senOwner: string[]\n  // For purchasing\n  sntrAddress: string\n  purchasingAddress: string\n  spltAddress: string\n  splataAddress: string\n  nodeUrl: string\n  purchasing: Purchasing\n}\n\nconst configs: Record<Net, Config> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    // For lp\n    swapAddress: '4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF',\n    taxmanAddress: '8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9',\n    senOwner: ['GJLqpmDxxrV9xruee2vFvEoTho7VVQHRtuHH8nfoAE54'],\n    // For purchasing\n    sntrAddress: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n    purchasingAddress: 'FHeonxeZFH76K57KGRWgsmE97tiupcHDjvWNKMQDmdVd',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n    nodeUrl: 'https://api.devnet.solana.com',\n    get purchasing() {\n      return new Purchasing(\n        this.purchasingAddress,\n        this.spltAddress,\n        this.splataAddress,\n        this.nodeUrl,\n      )\n    },\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    // For lp\n    swapAddress: '',\n    taxmanAddress: '',\n    senOwner: [],\n    // For purchasing\n    sntrAddress: '',\n    purchasingAddress: '',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n    nodeUrl: 'https://api.testnet.solana.com',\n    get purchasing() {\n      return new Purchasing(\n        this.purchasingAddress,\n        this.spltAddress,\n        this.splataAddress,\n        this.nodeUrl,\n      )\n    },\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    // For lp\n    swapAddress: 'SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV',\n    taxmanAddress: '9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e',\n    senOwner: ['Cs6jYywHTAgdvjxn8xG4VkJJH8DXXy7zbtatzMUWoCMG'],\n    // For purchasing\n    sntrAddress: 'SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M',\n    purchasingAddress: 'Ecw8Vh3cwwwwMsaU63mW6knKMsuaiSakVDvKxB5nyhFC',\n    spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n    nodeUrl: 'https://api.mainnet-beta.solana.com',\n    get purchasing() {\n      return new Purchasing(\n        this.purchasingAddress,\n        this.spltAddress,\n        this.splataAddress,\n        this.nodeUrl,\n      )\n    },\n  },\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Config = {\n  baseURL: string\n}\n\nconst config: Record<Net, Config> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    baseURL: 'https://stat-dev.sentre.io',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    baseURL: 'https://stat-dev.sentre.io',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    baseURL: 'https://stat.sentre.io',\n  },\n}\n\n/**\n * Module exports\n */\nexport default config\n","import { Env } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Config = {\n  exoticFee: bigint\n  exoticTax: bigint\n  correlatedFee: bigint\n  correlatedTax: bigint\n}\n\nconst config: Record<Env, Config> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    exoticFee: BigInt(2500000),\n    exoticTax: BigInt(0),\n    correlatedFee: BigInt(500000),\n    correlatedTax: BigInt(0),\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    exoticFee: BigInt(2500000),\n    exoticTax: BigInt(0),\n    correlatedFee: BigInt(500000),\n    correlatedTax: BigInt(0),\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    exoticFee: BigInt(2500000),\n    exoticTax: BigInt(0),\n    correlatedFee: BigInt(500000),\n    correlatedTax: BigInt(0),\n  },\n}\n\n/**\n * Module exports\n */\nexport default config\n","import { Env } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Config = {\n  myRoute: string\n  swapRoute: string\n  farmRoute: string\n}\n\nconst config: Record<Env, Config> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    myRoute: '/app/senhub',\n    swapRoute: '/app/sen_swap',\n    farmRoute: '/app/sen_farming',\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    myRoute: '/app/sen_lp',\n    swapRoute: '/app/sen_swap',\n    farmRoute: '/app/sen_farming',\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    myRoute: '/app/sen_lp',\n    swapRoute: '/app/sen_swap',\n    farmRoute: '/app/sen_farming',\n  },\n}\n\n/**\n * Module exports\n */\nexport default config\n","import { net, env } from 'shared/runtime'\nimport manifest from './manifest.config'\nimport sol from './sol.config'\nimport stat from './stat.config'\nimport fee from './fee.config'\nimport route from './route.config'\n\nconst configs = {\n  manifest: manifest[env],\n  sol: sol[net],\n  stat: stat[net],\n  fee: fee[env],\n  route: route[env],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import axios from 'axios'\n\nconst api = {\n  // Authentication header\n  auth: async (auth: boolean | object = false) => {\n    if (typeof auth === 'object') return auth\n    if (!auth) return null\n    const wallet = window.sentre.wallet\n    if (!wallet) throw new Error('Wallet is not connected')\n    const datetime = Number(new Date()) + 10000 // Valid in 10s\n    const msg = datetime.toString() + Math.floor(Math.random() * 10 ** 16)\n    const data = await wallet.signMessage(msg)\n    const authHeader = JSON.stringify(data)\n    return { Authorization: authHeader }\n  },\n  // Create\n  post: async (\n    url: string,\n    params: any = null,\n    auth: boolean | object = false,\n  ) => {\n    const authHeader = await api.auth(auth)\n    try {\n      const { data } = await axios({\n        method: 'post',\n        url: url,\n        data: params,\n        headers: authHeader,\n      })\n      if (data.status === 'ERROR') throw new Error(data.error)\n      return data\n    } catch (er: any) {\n      if (!er.response) throw new Error(er.message)\n      const {\n        response: {\n          data: { error },\n        },\n      } = er\n      throw new Error(error)\n    }\n  },\n  // Read\n  get: async (\n    url: string,\n    params: any = null,\n    auth: boolean | object = false,\n  ) => {\n    const authHeader = await api.auth(auth)\n    try {\n      const { data } = await axios({\n        method: 'get',\n        url: url,\n        params: params,\n        headers: authHeader,\n      })\n      if (data.status === 'ERROR') throw new Error(data.error)\n      return data\n    } catch (er: any) {\n      if (!er.response) throw new Error(er.message)\n      const {\n        response: {\n          data: { error },\n        },\n      } = er\n      throw new Error(error)\n    }\n  },\n  // Update\n  put: async (\n    url: string,\n    params: any = null,\n    auth: boolean | object = false,\n  ) => {\n    const authHeader = await api.auth(auth)\n    try {\n      const { data } = await axios({\n        method: 'put',\n        url: url,\n        data: params,\n        headers: authHeader,\n      })\n      if (data.status === 'ERROR') throw new Error(data.error)\n      return data\n    } catch (er: any) {\n      if (!er.response) throw new Error(er.message)\n      const {\n        response: {\n          data: { error },\n        },\n      } = er\n      throw new Error(error)\n    }\n  },\n  // Delete\n  delete: async (\n    url: string,\n    params: any = null,\n    auth: boolean | object = false,\n  ) => {\n    const authHeader = await api.auth(auth)\n    try {\n      const { data } = await axios({\n        method: 'delete',\n        url: url,\n        data: params,\n        headers: authHeader,\n      })\n      if (data.status === 'ERROR') throw new Error(data.error)\n      return data\n    } catch (er: any) {\n      if (!er.response) throw new Error(er.message)\n      const {\n        response: {\n          data: { error },\n        },\n      } = er\n      throw new Error(error)\n    }\n  },\n}\n\nexport default api\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport config from 'app/configs'\n\nimport api from 'app/helper/api'\n\nexport enum StatPool {\n  endpointDetail = 'public/api/v1/detail/pools',\n}\n\ntype StatDetails = {\n  tvl: number\n  tvl24h: number\n  volume: number\n  volume24h: number\n  fee: number\n  fee24h: number\n  roi: number\n}\n\ntype StatData = {\n  details: StatDetails\n}\n\nconst {\n  stat: { baseURL },\n} = config\n\nexport type State = Record<string, StatData>\n\nconst NAME = 'stat'\nconst initialState: State = {}\n\n/**\n * Actions\n */\n\nexport const fetchStatPoolData = createAsyncThunk<\n  State,\n  { address: string },\n  { state: any }\n>(`${NAME}/fetchStatPoolData`, async ({ address }, { getState }) => {\n  try {\n    const state = getState()\n    const cacheData = state.stat[address]\n    if (cacheData) return { [address]: cacheData }\n\n    const details = await api.get(\n      `${baseURL}/${StatPool.endpointDetail}/${address}`,\n    )\n\n    return { [address]: { details } }\n  } catch (error) {\n    return {}\n  }\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      fetchStatPoolData.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { Fragment, ReactElement, useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { Row, Col, Card, Space, Typography, Divider, Tooltip } from 'antd'\nimport PoolTVL from 'app/components/poolTVL'\nimport PoolCardStatus from 'app/components/poolCardStatus'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\n\nimport { numeric } from 'shared/util'\nimport { AppState } from 'app/model'\nimport { fetchStatPoolData } from 'app/model/stat.controller'\nimport { PoolStatus } from 'app/constant'\nimport { usePool } from 'senhub/providers'\n\nconst PoolCard = ({\n  poolAddress,\n  onClick = () => {},\n  action = <Fragment />,\n  selected = false,\n}: {\n  poolAddress: string\n  onClick?: () => void\n  action?: ReactElement\n  selected?: boolean\n}) => {\n  const dispatch = useDispatch()\n  const { pools } = usePool()\n  const details = useSelector(\n    (state: AppState) => state.stat[poolAddress]?.details,\n  )\n  const { state: poolState, mint_lpt: mintLptAddress } =\n    pools[poolAddress] || {}\n\n  const apy = useMemo(() => {\n    if (!details) return 0\n    const roi = details.roi || 0\n    return Math.pow(1 + roi / 100, 365) - 1\n  }, [details])\n\n  useEffect(() => {\n    if (!account.isAddress(poolAddress)) return\n    dispatch(fetchStatPoolData({ address: poolAddress }))\n  }, [dispatch, poolAddress])\n\n  const frozen = poolState === PoolStatus.Frozen\n  const cardStyle = selected ? 'card-active lp-card' : 'lp-card'\n\n  return (\n    <Card\n      className={cardStyle}\n      bodyStyle={{ padding: 12, height: 78 }}\n      onClick={onClick}\n      bordered={selected}\n      hoverable\n    >\n      <Row gutter={[12, 12]} wrap={false} align=\"middle\">\n        <Col span={24} flex=\"auto\">\n          <Space direction=\"vertical\">\n            <Space>\n              <MintAvatar mintAddress={mintLptAddress} size={24} />\n              <Typography.Text type={frozen ? 'secondary' : undefined}>\n                <MintSymbol mintAddress={mintLptAddress} />\n              </Typography.Text>\n            </Space>\n            <Space>\n              <Tooltip title=\"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.\">\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  TVL:\n                </Typography.Text>\n              </Tooltip>\n              <Typography.Text>\n                <PoolTVL poolAddress={poolAddress} />\n              </Typography.Text>\n              <Divider type=\"vertical\" style={{ margin: 0 }} />\n              <Typography.Text type=\"secondary\" className=\"caption\">\n                APY:\n              </Typography.Text>\n              <Typography.Text>\n                {numeric(apy).format('0,0.[00]%')}\n              </Typography.Text>\n            </Space>\n          </Space>\n        </Col>\n        <Col>\n          <Space size={2}>\n            <PoolCardStatus poolAddress={poolAddress} />\n            {action}\n          </Space>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default PoolCard\n","import { ReactElement, useMemo, useState, Fragment, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account, PoolData } from '@senswap/sen-js'\nimport LazyLoad from '@senswap/react-lazyload'\n\nimport { Row, Col, Empty } from 'antd'\nimport Search from './search'\nimport PoolCard from '../components/poolCard'\n\nimport { usePool } from 'senhub/providers'\nimport configs from 'app/configs'\nimport { AppState } from 'app/model'\n\nconst {\n  sol: { senOwner },\n} = configs\n\nconst ListAllPools = ({\n  onClick = () => {},\n  selectedPoolAddress,\n  action = () => <Fragment />,\n}: {\n  onClick?: (poolAddress: string) => void\n  selectedPoolAddress?: string\n  action?: (poolAddress: string) => ReactElement\n}) => {\n  const [searchedPools, setSearchedPools] = useState<\n    Array<PoolData & { address: string }> | undefined\n  >()\n  const {\n    settings: { showArchived },\n  } = useSelector((state: AppState) => state)\n  const { pools } = usePool()\n\n  const sortedPools = useMemo(\n    () =>\n      Object.keys(pools)\n        .map((address) => ({ address, ...pools[address] }))\n        .filter(({ owner }) => !senOwner.includes(owner))\n        .filter((pool) => {\n          const { reserve_a, reserve_b } = pool || {}\n          const empty = !reserve_a || !reserve_b\n          return showArchived || !empty\n        })\n        .sort(\n          (\n            { reserve_a: firstRa, reserve_b: firstRb },\n            { reserve_a: secondRa, reserve_b: secondRb },\n          ) => {\n            const firstK = firstRa * firstRb\n            const secondK = secondRa * secondRb\n            if (firstK > secondK) return -1\n            if (firstK < secondK) return 1\n            return 0\n          },\n        ),\n    [pools, showArchived],\n  )\n\n  useEffect(() => {\n    if (!account.isAddress(selectedPoolAddress)) return\n    const element = document.getElementById(selectedPoolAddress)\n    const container = document.getElementById('scroll-container')\n    if (container && element?.offsetTop) container.scrollTop = element.offsetTop\n  }, [selectedPoolAddress])\n\n  return (\n    <Row gutter={[12, 12]} justify=\"center\">\n      <Col span={24}>\n        <Search onChange={setSearchedPools} pools={sortedPools} />\n      </Col>\n      {!(searchedPools || sortedPools).length && (\n        <Col>\n          <Empty />\n        </Col>\n      )}\n      {(searchedPools || sortedPools).map(({ address: poolAddress }, i) => (\n        <Col id={poolAddress} span={24} key={i}>\n          <LazyLoad height={78} overflow>\n            <PoolCard\n              poolAddress={poolAddress}\n              action={action(poolAddress)}\n              onClick={() => onClick(poolAddress)}\n              selected={selectedPoolAddress === poolAddress}\n            />\n          </LazyLoad>\n        </Col>\n      ))}\n    </Row>\n  )\n}\n\nexport default ListAllPools\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\nexport type State = {\n  selectedPoolAddress: string\n  visible: boolean\n  selectedCategoryPool: string\n}\n\nconst NAME = 'main'\nconst initialState: State = {\n  selectedPoolAddress: '',\n  visible: false,\n  selectedCategoryPool: '',\n}\n\n/**\n * Actions\n */\n\nexport const selectPool = createAsyncThunk(\n  `${NAME}/selectPool`,\n  async (poolAddress: string) => {\n    return { selectedPoolAddress: poolAddress, selectedLptAddress: '' }\n  },\n)\nexport const selectCategoryPool = createAsyncThunk(\n  `${NAME}/selectCategoryPool`,\n  async (category: string) => {\n    return { selectedCategoryPool: category }\n  },\n)\nexport const handleOpenDrawer = createAsyncThunk(\n  `${NAME}/handleOpenDrawer`,\n  async (condition: boolean) => {\n    return { visible: condition }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        selectPool.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        handleOpenDrawer.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        selectCategoryPool.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { MouseEvent, useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\n\nimport { Button, Col, Row } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport ListAllPools from './listPools'\n\nimport configs from 'app/configs'\nimport { AppDispatch, AppState } from 'app/model'\nimport { handleOpenDrawer, selectPool } from 'app/model/main.controller'\nimport { PoolTabs, QueryParams } from 'app/constant'\n\nconst {\n  route: { myRoute },\n} = configs\n\nconst CommunityPools = () => {\n  const history = useHistory()\n  const dispatch = useDispatch<AppDispatch>()\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n\n  const setActivePoolAddress = useCallback(\n    async (address: string) => {\n      await dispatch(selectPool(address))\n      await dispatch(handleOpenDrawer(false))\n      return history.push(\n        `${myRoute}?${QueryParams.address}=${address}&${QueryParams.category}=${PoolTabs.Community}`,\n      )\n    },\n    [dispatch, history],\n  )\n\n  const action = useCallback(\n    (poolAddress) => {\n      return (\n        <Button\n          type=\"text\"\n          onClick={(e: MouseEvent<HTMLButtonElement>) => {\n            e.stopPropagation()\n            setActivePoolAddress(poolAddress)\n          }}\n          icon={\n            <IonIcon\n              name=\"arrow-forward-outline\"\n              style={{ fontSize: 12, color: '#7A7B85' }}\n            />\n          }\n        />\n      )\n    },\n    [setActivePoolAddress],\n  )\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <ListAllPools\n          action={action}\n          selectedPoolAddress={selectedPoolAddress}\n          onClick={setActivePoolAddress}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default CommunityPools\n","import { Fragment, ReactElement } from 'react'\nimport { utils } from '@senswap/sen-js'\n\nimport { Row, Col, Card, Space, Typography, Divider, Tooltip } from 'antd'\nimport PoolTVL from 'app/components/poolTVL'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport PoolCardStatus from 'app/components/poolCardStatus'\n\nimport { LPTData } from 'app/model/lpts.controller'\nimport { PoolStatus } from 'app/constant'\nimport { numeric } from 'shared/util'\nimport { usePool } from 'senhub/providers'\n\nconst DECIMAL = 9\n\nconst LPTCard = ({\n  data,\n  onClick = () => {},\n  action = <Fragment />,\n  selected = false,\n}: {\n  data: LPTData\n  onClick?: () => void\n  action: ReactElement\n  selected?: boolean\n}) => {\n  const { pool: poolAddress, amount } = data\n  const lp = utils.undecimalize(amount, DECIMAL)\n  const cardStyle = selected ? 'card-active lp-card' : 'lp-card'\n  const isFrozen = data.state === PoolStatus.Frozen\n  const { pools } = usePool()\n\n  const mintLptAddress = pools?.[poolAddress]?.mint_lpt || ''\n\n  return (\n    <Card\n      className={cardStyle}\n      bodyStyle={{ padding: 12, height: 78 }}\n      onClick={onClick}\n      bordered={selected}\n      hoverable\n    >\n      <Row gutter={[12, 12]} align=\"middle\" wrap={false}>\n        <Col flex=\"auto\">\n          <Space direction=\"vertical\">\n            <Space size=\"middle\">\n              <MintAvatar mintAddress={mintLptAddress} size={24} />\n              <Typography.Text type={isFrozen ? 'secondary' : undefined}>\n                <MintSymbol mintAddress={mintLptAddress} />\n              </Typography.Text>\n            </Space>\n            <Space>\n              <Tooltip title=\"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.\">\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  TVL:\n                </Typography.Text>\n              </Tooltip>\n              <Typography.Text>\n                <PoolTVL poolAddress={poolAddress} />\n              </Typography.Text>\n              <Divider type=\"vertical\" style={{ margin: 0 }} />\n              <Typography.Text type=\"secondary\" className=\"caption\">\n                My LP:\n              </Typography.Text>\n              <Typography.Text>\n                {numeric(lp).format('0,0.[00]')}\n              </Typography.Text>\n            </Space>\n          </Space>\n        </Col>\n        <Col>\n          <Space size={2}>\n            <PoolCardStatus poolAddress={poolAddress} /> {action}\n          </Space>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default LPTCard\n","import { ReactElement, Fragment, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport LazyLoad from '@senswap/react-lazyload'\n\nimport { Row, Col, Empty } from 'antd'\nimport LPTCard from '../components/lptCard'\n\nimport { AppState } from 'app/model'\nimport { usePool, useWallet } from 'senhub/providers'\n\nconst ListMyPools = ({\n  onClick = () => {},\n  selectedPoolAddress,\n  action = () => <Fragment />,\n}: {\n  onClick?: (poolAddress: string) => void\n  selectedPoolAddress?: string\n  action?: (poolAddress: string) => ReactElement\n}) => {\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const { pools } = usePool()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const lptAddresses = useMemo(\n    () =>\n      Object.keys(lpts).filter((lptAddress) => {\n        const { pool: poolAddress } = lpts[lptAddress]\n        return pools[poolAddress]?.owner === walletAddress\n      }),\n    [lpts, pools, walletAddress],\n  )\n\n  return (\n    <Row gutter={[12, 12]} justify=\"center\">\n      {!lptAddresses.length && (\n        <Col>\n          <Empty />\n        </Col>\n      )}\n      {lptAddresses.map((lptAddress, i) => {\n        const { pool: poolAddress } = lpts[lptAddress]\n        return (\n          <Col span={24} key={lptAddress + i}>\n            <LazyLoad height={78} overflow>\n              <LPTCard\n                data={lpts[lptAddress]}\n                action={action(poolAddress)}\n                onClick={() => onClick(poolAddress)}\n                selected={selectedPoolAddress === poolAddress}\n              />\n            </LazyLoad>\n          </Col>\n        )\n      })}\n    </Row>\n  )\n}\n\nexport default ListMyPools\n","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\n\nimport { Row, Col, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport ListMyPools from './listMyPools'\n\nimport { handleOpenDrawer, selectPool } from 'app/model/main.controller'\nimport { AppDispatch, AppState } from 'app/model'\nimport configs from 'app/configs'\nimport { PoolTabs, QueryParams } from 'app/constant'\n\nconst {\n  route: { myRoute },\n} = configs\n\nconst YourPools = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    main: { selectedPoolAddress },\n  } = useSelector((state: AppState) => state)\n  const history = useHistory()\n\n  const setActiveAddress = useCallback(\n    (poolAddress: string) => {\n      dispatch(selectPool(poolAddress))\n      dispatch(handleOpenDrawer(false))\n\n      return history.push(\n        `${myRoute}?${QueryParams.address}=${poolAddress}&${QueryParams.category}=${PoolTabs.YourPools}`,\n      )\n    },\n    [dispatch, history],\n  )\n  const action = useCallback(\n    (poolAddress) => (\n      <Button\n        type=\"text\"\n        onClick={() => setActiveAddress(poolAddress)}\n        size=\"small\"\n        icon={\n          <IonIcon\n            name=\"arrow-forward-outline\"\n            style={{ fontSize: 12, color: '#7A7B85' }}\n          />\n        }\n      />\n    ),\n    [setActiveAddress],\n  )\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <ListMyPools\n          action={action}\n          selectedPoolAddress={selectedPoolAddress}\n          onClick={setActiveAddress}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default YourPools\n","import { ChangeEvent, useState, forwardRef, useCallback, useRef } from 'react'\n\nimport { Input, Tooltip, Space, InputProps } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nlet timeoutId: ReturnType<typeof setTimeout> | undefined\n\n/**\n * Numeric Input\n * - Check balance based on the max\n * - Only accept numeric characters\n * @remarks The props of input follows the same as https://ant.design/components/input/#API. Extra & Overrided props\n * @param max - Maximum\n * @param onValue - A triggerred function if a valid number\n */\nconst NumericInput = forwardRef(\n  (\n    {\n      max,\n      onValue = () => {},\n      onChange = () => {},\n      ...props\n    }: InputProps & {\n      onValue?: (val: string) => void\n      max?: string | number\n    },\n    ref: any,\n  ) => {\n    const [error, setError] = useState('')\n    const [cursor, setCursor] = useState<number | null>(null)\n    const innerRef = useRef(ref)\n\n    // Handle amount\n    const onAmount = useCallback(\n      (val: string) => {\n        const onError = (er: string) => {\n          if (timeoutId) {\n            clearTimeout(timeoutId)\n            timeoutId = undefined\n          }\n          setError(er)\n          timeoutId = setTimeout(() => setError(''), 500)\n        }\n        const reg = /^\\d*(\\.\\d*)?$/\n        if (!reg.test(val)) return onError('Invalid character')\n        if (max && parseFloat(val) > parseFloat(max.toString()))\n          return onError('Not enough balance')\n        return onValue(val)\n      },\n      [max, onValue],\n    )\n\n    // Handle cursor jumping\n    // To prevent autofocus on mobile, we must strictly check cursor different from null\n    if (cursor !== null) innerRef?.current?.setSelectionRange(cursor, cursor)\n\n    return (\n      <Tooltip\n        title={\n          <Space>\n            <IonIcon name=\"warning\" />\n            {error}\n          </Space>\n        }\n        visible={!!error}\n      >\n        <Input\n          {...props}\n          onChange={(e: ChangeEvent<HTMLInputElement>) => {\n            onChange(e)\n            setCursor(e.target.selectionStart)\n            onAmount(e.target.value || '')\n          }}\n          ref={innerRef}\n        />\n      </Tooltip>\n    )\n  },\n)\n\nexport default NumericInput\n","import { Space, Select, Divider, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport IonIcon from 'shared/antd/ionicon'\nimport Avatar from 'antd/lib/avatar/avatar'\n\nconst DEFAULT_VALUE = 'Select'\n\nconst SelectPools = ({\n  mintAddresses,\n  activeMintAddress,\n  onSelect,\n}: {\n  mintAddresses: string[]\n  activeMintAddress: string\n  onSelect: (mintAddress: string) => void\n}) => {\n  return (\n    <Select\n      onChange={onSelect}\n      value={activeMintAddress || DEFAULT_VALUE}\n      bordered={false}\n      suffixIcon={<Divider type=\"vertical\" style={{ margin: 0 }} />}\n      style={{ marginLeft: -7 }}\n    >\n      <Select.Option value={DEFAULT_VALUE}>\n        <Space>\n          <Avatar>\n            <IonIcon name=\"help-outline\" />\n          </Avatar>\n          <Typography.Text>{DEFAULT_VALUE}</Typography.Text>\n        </Space>\n      </Select.Option>\n      {mintAddresses.map((mintAddress, i) => {\n        return (\n          <Select.Option key={i} value={mintAddress}>\n            <Space>\n              <MintAvatar mintAddress={mintAddress} />\n              <MintSymbol mintAddress={mintAddress} />\n            </Space>\n          </Select.Option>\n        )\n      })}\n    </Select>\n  )\n}\n\nexport default SelectPools\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from 'senhub/providers'\n\n/**\n * Get token decimals from multiple resources. This hook needs MintProvider for work.\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * @param mintAddress Mint address\n * @returns Decimals\n */\nconst useMintDecimals = (mintAddress: string) => {\n  const [decimals, setDecimals] = useState<number | undefined>(undefined)\n  const { getDecimals } = useMint()\n\n  const fetchDecimals = useCallback(async () => {\n    try {\n      const decimals = await getDecimals(mintAddress)\n      return setDecimals(decimals)\n    } catch (er: any) {\n      return setDecimals(undefined)\n    }\n  }, [mintAddress, getDecimals])\n\n  useEffect(() => {\n    fetchDecimals()\n  }, [fetchDecimals])\n\n  return decimals\n}\n\nexport default useMintDecimals\n","import { useCallback, useEffect, useState } from 'react'\nimport { useAccount, useWallet } from 'senhub/providers'\nimport { account, utils } from '@senswap/sen-js'\n\nimport { Row, Col, Button, Typography, Space } from 'antd'\nimport NumericInput from 'shared/antd/numericInput'\nimport SelectPools from './selectPools'\nimport { MintSymbol } from 'shared/antd/mint'\n\nimport { numeric } from 'shared/util'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\n\nexport type AmountSelectOnChnage = {\n  amount: bigint\n  mintAddress: string\n}\n\nconst AmountSelect = ({\n  mintAddresses,\n  onChange,\n  suggestion,\n}: {\n  mintAddresses: string[]\n  onChange: ({ amount, mintAddress }: AmountSelectOnChnage) => void\n  suggestion?: number\n}) => {\n  const [amount, setAmount] = useState('')\n  const [activeMintAddress, setActiveMintAddress] = useState<string>('Select')\n  const [accountAddress, setAccountAddress] = useState('')\n  const { accounts } = useAccount()\n  const decimals = useMintDecimals(activeMintAddress) || 0\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const { amount: a } = accounts[accountAddress] || { amount: '0' }\n  const balance = utils.undecimalize(a, decimals) || '0'\n\n  const getAccountAddress = useCallback(async () => {\n    const { splt } = window.sentre\n    if (!account.isAddress(activeMintAddress)) return\n    const address = await splt.deriveAssociatedAddress(\n      walletAddress,\n      activeMintAddress,\n    )\n    return setAccountAddress(address)\n  }, [activeMintAddress, walletAddress])\n\n  const onAmount = useCallback(\n    async (val: string) => {\n      await setAmount(val)\n      if (!account.isAddress(activeMintAddress)) return\n      if (!decimals)\n        return onChange({ amount: BigInt(0), mintAddress: activeMintAddress })\n      return onChange({\n        amount: utils.decimalize(val, decimals),\n        mintAddress: activeMintAddress,\n      })\n    },\n    [onChange, decimals, activeMintAddress],\n  )\n\n  const onSelect = useCallback(\n    async (mintAddress) => {\n      await setActiveMintAddress(mintAddress)\n      // Return amount\n      if (!decimals || !parseFloat(amount))\n        return onChange({ amount: BigInt(0), mintAddress })\n      return onChange({\n        amount: utils.decimalize(amount, decimals),\n        mintAddress,\n      })\n    },\n    [onChange, decimals, amount],\n  )\n\n  useEffect(() => {\n    getAccountAddress()\n  }, [getAccountAddress])\n\n  return (\n    <Row gutter={[4, 4]}>\n      <NumericInput\n        placeholder=\"0\"\n        value={amount}\n        onValue={onAmount}\n        prefix={\n          <SelectPools\n            mintAddresses={mintAddresses}\n            activeMintAddress={activeMintAddress}\n            onSelect={onSelect}\n          />\n        }\n        size=\"large\"\n        suffix={\n          <Button\n            type=\"text\"\n            style={{ marginRight: -7 }}\n            onClick={() => onAmount(balance)}\n          >\n            MAX\n          </Button>\n        }\n        max={balance}\n      />\n      <Col span={24}>\n        <Row gutter={[4, 4]}>\n          <Col span={24} flex=\"auto\">\n            {suggestion ? (\n              <Space size={4}>\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  Recommend:\n                </Typography.Text>\n                <Typography.Text\n                  type=\"danger\"\n                  className=\"caption\"\n                  onClick={() => onAmount((suggestion || 0).toString())}\n                >\n                  {numeric(suggestion).format('0,0.[0000]a')}\n                </Typography.Text>\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  <MintSymbol mintAddress={activeMintAddress} />\n                </Typography.Text>\n              </Space>\n            ) : null}\n          </Col>\n          <Col>\n            <Typography.Text type=\"secondary\" className=\"caption\">\n              Available: {numeric(balance).format('0,0.[0000]')}{' '}\n              <MintSymbol mintAddress={activeMintAddress} />\n            </Typography.Text>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default AmountSelect\n","import { PoolData } from '@senswap/sen-js'\nimport { explorer } from 'shared/util'\n\nexport const notifySuccess = (content: string, txId: string) => {\n  return window.notify({\n    type: 'success',\n    description: `${content} successfully. Click to view details.`,\n    onClick: () => window.open(explorer(txId), '_blank'),\n  })\n}\n\nexport const notifyError = (er: any) => {\n  return window.notify({\n    type: 'error',\n    description: er.message,\n  })\n}\n\nexport const extractReserve = (mintAddress: string, poolData: PoolData) => {\n  const { mint_a, mint_b, reserve_a, reserve_b } = poolData\n  if (mintAddress === mint_a) return reserve_a\n  if (mintAddress === mint_b) return reserve_b\n  return BigInt(0)\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { utils } from '@senswap/sen-js'\n\nimport { useMint, usePool } from 'senhub/providers'\nimport { fetchCGK } from 'shared/util'\n\n/**\n * @param mintAddress\n * @param strict true: if has token unknown => returns 0\n * @returns\n */\nexport const useMintPrice = (mintAddress: string, strict?: boolean) => {\n  const { tokenProvider, getMint, getDecimals } = useMint()\n  const { pools } = usePool()\n  const [mintPrice, setMintPrice] = useState(0)\n\n  const getTokenPrice = useCallback(\n    async (tokenAddress: string) => {\n      const tokenInfo = await tokenProvider.findByAddress(tokenAddress)\n      const ticket = tokenInfo?.extensions?.coingeckoId\n      if (!ticket) {\n        if (strict) throw new Error('Unknown Token')\n        return 0\n      }\n      const cgkData = await fetchCGK(ticket)\n      const price = cgkData.price\n      if (!price) {\n        if (strict) throw new Error('Not find on Cgk')\n        return 0\n      }\n      return price\n    },\n    [strict, tokenProvider],\n  )\n\n  const getTokenUsd = useCallback(\n    async (mintAddress: string, amountBigint: bigint) => {\n      const mintPrice = await getTokenPrice(mintAddress)\n      const mintDecimals = await getDecimals(mintAddress)\n      const amount = Number(utils.undecimalize(amountBigint, mintDecimals))\n      return amount * mintPrice\n    },\n    [getDecimals, getTokenPrice],\n  )\n\n  const getMintLptPrice = useCallback(\n    async (lptAddress: string) => {\n      const poolData = Object.values(pools).find(\n        (pool) => pool.mint_lpt === lptAddress,\n      )\n      if (!poolData) return 0\n      const { reserve_a, reserve_b, mint_a, mint_b } = poolData\n      if (reserve_a * reserve_b === BigInt(0)) return 0\n      const {\n        [lptAddress]: { supply },\n      } = await getMint({ address: lptAddress })\n      const balanceA: number = await getTokenUsd(mint_a, reserve_a)\n      const balanceB: number = await getTokenUsd(mint_b, reserve_b)\n      return (balanceA + balanceB) / Number(utils.undecimalize(supply, 9))\n    },\n    [getMint, getTokenUsd, pools],\n  )\n\n  const getMintPrice = useCallback(\n    async (mintAddress: string) => {\n      try {\n        const tokenInfo = await tokenProvider.findByAddress(mintAddress)\n        // mint lpt\n        if (!tokenInfo) {\n          const mintLptPrice = await getMintLptPrice(mintAddress)\n          return setMintPrice(mintLptPrice)\n        }\n        // token\n        const ticket = tokenInfo.extensions?.coingeckoId\n        if (!ticket) return setMintPrice(0)\n        const cgkData = await fetchCGK(ticket)\n        return setMintPrice(cgkData.price)\n      } catch (error) {\n        return 0\n      }\n    },\n    [getMintLptPrice, tokenProvider],\n  )\n\n  useEffect(() => {\n    getMintPrice(mintAddress)\n  }, [getMintPrice, mintAddress])\n\n  return mintPrice\n}\n","import { Fragment, useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useAccount, usePool, useWallet } from 'senhub/providers'\nimport { account, utils } from '@senswap/sen-js'\n\nimport { Row, Col, Modal, Button, Typography, Space } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport AmountSelect, { AmountSelectOnChnage } from './amountSelect'\n\nimport { notifyError, notifySuccess } from 'app/helper'\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\nimport { useMintPrice } from 'app/hooks/useMintPrice'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\n\nconst {\n  sol: { taxmanAddress },\n  fee: { exoticFee, exoticTax },\n} = configs\n\nconst NewPool = () => {\n  const [visible, setVisible] = useState(false)\n  const [reserveA, setReserveA] = useState(BigInt(0))\n  const [mintAddressA, setMintAddressA] = useState('')\n  const [reserveB, setReserveB] = useState(BigInt(0))\n  const [mintAddressB, setMintAddressB] = useState('')\n  const [isMintAChanged, setIsMintAChanged] = useState(false)\n  const [suggestions, setSuggestions] = useState([0, 0])\n  const { lpts } = useSelector((state: AppState) => state)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { accounts } = useAccount()\n  const { pools } = usePool()\n\n  // String combination of mint_a and mint_b\n  const existedPoolKeys = Object.values(pools).map(\n    ({ mint_a, mint_b }) => `${mint_a}${mint_b}`,\n  )\n  // Check the pool whether exists\n  const isExisted =\n    existedPoolKeys.includes(`${mintAddressA}${mintAddressB}`) ||\n    existedPoolKeys.includes(`${mintAddressB}${mintAddressA}`)\n  // Filtered the valid mints (exclude lp tokens)\n  const exclusiveMintAddresses = Object.values(lpts)\n    .map(({ pool }) => pools[pool]?.mint_lpt)\n    .filter((mintAddress) => account.isAddress(mintAddress))\n  const filteredMintAddress = Object.values(accounts)\n    .map(({ mint }) => mint)\n    .filter((mintAddress) => !exclusiveMintAddresses.includes(mintAddress))\n  // Mint info\n  const mintAPrice = useMintPrice(mintAddressA)\n  const decimalsA = useMintDecimals(mintAddressA) || 0\n  const mintBPrice = useMintPrice(mintAddressB)\n  const decimalsB = useMintDecimals(mintAddressB) || 0\n  // Valid to supply\n  const isValid =\n    reserveA &&\n    reserveB &&\n    account.isAddress(mintAddressA) &&\n    account.isAddress(mintAddressB)\n\n  const onSelectMintA = ({ amount, mintAddress }: AmountSelectOnChnage) => {\n    setReserveA(amount)\n    setMintAddressA(mintAddress)\n    setIsMintAChanged(true)\n  }\n\n  const onSelectMintB = ({ amount, mintAddress }: AmountSelectOnChnage) => {\n    setReserveB(amount)\n    setMintAddressB(mintAddress)\n    setIsMintAChanged(false)\n  }\n\n  const onNewPool = async () => {\n    try {\n      const { swap, splt, wallet } = window.sentre\n      if (!wallet || !account.isAddress(walletAddress))\n        throw new Error('Wallet is not connected')\n      if (!account.isAddress(mintAddressA) || !account.isAddress(mintAddressB))\n        throw new Error('Please select both tokens')\n      const mintAddresses = [mintAddressA, mintAddressB]\n      const srcAddresses = await Promise.all(\n        mintAddresses.map((mintAddress) =>\n          splt.deriveAssociatedAddress(walletAddress, mintAddress),\n        ),\n      )\n      const { txId } = await swap.initializePool(\n        reserveA,\n        reserveB,\n        exoticFee,\n        exoticTax,\n        walletAddress,\n        srcAddresses[0],\n        srcAddresses[1],\n        taxmanAddress,\n        wallet,\n      )\n      setVisible(false)\n      return notifySuccess('Create a new pool', txId)\n    } catch (er) {\n      return notifyError(er)\n    }\n  }\n\n  const onClose = () => {\n    setVisible(false)\n    setMintAddressA('')\n    setMintAddressB('')\n    setSuggestions([0, 0])\n  }\n\n  useEffect(() => {\n    if (isMintAChanged && mintBPrice) {\n      const amount =\n        (Number(utils.undecimalize(reserveA, decimalsA)) * mintAPrice) /\n        mintBPrice\n      return setSuggestions([0, amount])\n    }\n    if (!isMintAChanged && mintAPrice) {\n      const amount =\n        (Number(utils.undecimalize(reserveB, decimalsB)) * mintBPrice) /\n        mintAPrice\n      return setSuggestions([amount, 0])\n    }\n    return setSuggestions([0, 0])\n  }, [\n    isMintAChanged,\n    reserveA,\n    mintAPrice,\n    decimalsA,\n    reserveB,\n    mintBPrice,\n    decimalsB,\n  ])\n\n  return (\n    <Fragment>\n      <Button\n        type=\"primary\"\n        icon={<IonIcon name=\"add-outline\" />}\n        onClick={() => setVisible(!visible)}\n      >\n        New\n      </Button>\n      <Modal\n        visible={visible}\n        onCancel={onClose}\n        closeIcon={<IonIcon name=\"close\" />}\n        footer={null}\n        destroyOnClose={true}\n        centered={true}\n      >\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <Typography.Title level={4}>New Pool</Typography.Title>\n          </Col>\n          <Col span={24}>\n            <Typography.Text type=\"secondary\">\n              <strong className=\"content\">Liquidity Provider Incentive.</strong>{' '}\n              Liquidity providers earn a 0.25% fee on all trades proportional to\n              their share of the pool. Fees are accrued into the pool and can be\n              claimed by withdrawing your liquidity.\n            </Typography.Text>\n          </Col>\n          <Col span={24}>\n            <AmountSelect\n              mintAddresses={filteredMintAddress}\n              onChange={onSelectMintA}\n              suggestion={suggestions[0]}\n            />\n          </Col>\n          <Col span={24}>\n            <AmountSelect\n              mintAddresses={filteredMintAddress}\n              onChange={onSelectMintB}\n              suggestion={suggestions[1]}\n            />\n          </Col>\n          <Col span={24}>\n            <Row gutter={[16, 16]}>\n              <Col span={24}>\n                <Button\n                  type=\"primary\"\n                  onClick={onNewPool}\n                  disabled={!isValid}\n                  block\n                >\n                  Supply\n                </Button>\n              </Col>\n              {isExisted && (\n                <Col span={24}>\n                  <Space align=\"start\">\n                    <Typography.Text className=\"caption\" type=\"danger\">\n                      <IonIcon name=\"warning-outline\" />\n                    </Typography.Text>\n                    <Typography.Text className=\"caption\" type=\"danger\">\n                      A pool of the desired pair of tokens had already created.\n                      We highly recommend to deposit your liquidity to the pool\n                      instead.\n                    </Typography.Text>\n                  </Space>\n                </Col>\n              )}\n            </Row>\n          </Col>\n        </Row>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default NewPool\n","import { useCallback, useEffect, MouseEvent } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { useHistory, useLocation } from 'react-router-dom'\n\nimport { Button, Col, Empty, Row } from 'antd'\nimport PoolCard from '../components/poolCard'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport configs from 'app/configs'\nimport { usePool } from 'senhub/providers'\nimport { handleOpenDrawer, selectPool } from 'app/model/main.controller'\nimport { AppState } from 'app/model'\nimport { PoolTabs, QueryParams } from 'app/constant'\n\nconst {\n  sol: { senOwner },\n  route: { myRoute },\n} = configs\n\nconst SentrePools = () => {\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const {\n    main: { selectedPoolAddress },\n    settings: { showArchived },\n  } = useSelector((state: AppState) => state)\n  const { pools } = usePool()\n  const query = new URLSearchParams(useLocation().search)\n  const poolAddress = query.get(QueryParams.address) || ''\n\n  const listSentrePools = Object.keys(pools)\n    .filter((poolAddr) => {\n      const { owner } = pools[poolAddr] || {}\n      return senOwner.includes(owner)\n    })\n    .filter((poolAddr) => {\n      const { reserve_a, reserve_b } = pools[poolAddr] || {}\n      const empty = !reserve_a || !reserve_b\n      return showArchived || !empty\n    })\n\n  const setActivePoolAddress = async (address: string) => {\n    await dispatch(selectPool(address))\n    await dispatch(handleOpenDrawer(false))\n    query.set(QueryParams.address, address)\n    query.set(QueryParams.category, PoolTabs.Sentre)\n    return history.push(`${myRoute}?${query.toString()}`)\n  }\n\n  const onInit = useCallback(\n    (address) => {\n      const addr = account.isAddress(poolAddress) ? poolAddress : address\n      return dispatch(selectPool(addr))\n    },\n    [dispatch, poolAddress],\n  )\n\n  useEffect(() => {\n    if (!listSentrePools.length || selectedPoolAddress) return\n    onInit(listSentrePools[0])\n  }, [listSentrePools, onInit, selectedPoolAddress])\n\n  return (\n    <Row gutter={[12, 12]} justify=\"center\">\n      {!listSentrePools.length && (\n        <Col>\n          <Empty />\n        </Col>\n      )}\n      {listSentrePools.map((poolAddress, idx) => {\n        return (\n          <Col span={24} key={poolAddress + idx}>\n            <PoolCard\n              poolAddress={poolAddress}\n              action={\n                <Button\n                  type=\"text\"\n                  onClick={(e: MouseEvent<HTMLButtonElement>) => {\n                    e.stopPropagation()\n                    setActivePoolAddress(poolAddress)\n                  }}\n                  icon={\n                    <IonIcon\n                      name=\"arrow-forward-outline\"\n                      style={{ fontSize: 12, color: '#7A7B85' }}\n                    />\n                  }\n                />\n              }\n              onClick={() => setActivePoolAddress(poolAddress)}\n              selected={selectedPoolAddress === poolAddress}\n            />\n          </Col>\n        )\n      })}\n    </Row>\n  )\n}\n\nexport default SentrePools\n","import { useDispatch, useSelector } from 'react-redux'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport LazyLoad from '@senswap/react-lazyload'\n\nimport { Row, Col, Button, Empty } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport LPTCard from '../components/lptCard'\n\nimport { AppState } from 'app/model'\nimport { handleOpenDrawer, selectPool } from 'app/model/main.controller'\nimport { PoolTabs, QueryParams } from 'app/constant'\nimport configs from 'app/configs'\n\nconst {\n  route: { myRoute },\n} = configs\n\nconst DepositedPools = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const {\n    main: { selectedPoolAddress },\n  } = useSelector((state: AppState) => state)\n  const query = new URLSearchParams(useLocation().search)\n\n  const setActiveAddress = (address: string) => {\n    dispatch(selectPool(address))\n    dispatch(handleOpenDrawer(false))\n    query.set(QueryParams.address, address)\n    query.set(QueryParams.category, PoolTabs.Sentre)\n    return history.push(`${myRoute}?${query.toString()}`)\n  }\n\n  const action = (poolAddress: string) => {\n    return (\n      <Button\n        type=\"text\"\n        onClick={() => setActiveAddress(poolAddress)}\n        icon={\n          <IonIcon\n            name=\"arrow-forward-outline\"\n            style={{ fontSize: 12, color: '#7A7B85' }}\n          />\n        }\n      />\n    )\n  }\n\n  return (\n    <Row gutter={[12, 12]} justify=\"center\">\n      {!Object.keys(lpts).length && (\n        <Col>\n          <Empty />\n        </Col>\n      )}\n      {Object.keys(lpts).map((lptAddress, i) => {\n        const { pool: poolAddress } = lpts[lptAddress]\n        return (\n          <Col span={24} key={lptAddress + i}>\n            <LazyLoad height={78} overflow>\n              <LPTCard\n                data={lpts[lptAddress]}\n                action={action(poolAddress)}\n                onClick={() => setActiveAddress(poolAddress)}\n                selected={selectedPoolAddress === poolAddress}\n              />\n            </LazyLoad>\n          </Col>\n        )\n      })}\n    </Row>\n  )\n}\n\nexport default DepositedPools\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\nexport type State = {\n  showArchived: boolean\n}\n\nconst NAME = 'settings'\nconst initialState: State = {\n  showArchived: false,\n}\n\n/**\n * Actions\n */\n\nexport const setShowArchived = createAsyncThunk(\n  `${NAME}/setShowArchived`,\n  async (showArchived: boolean) => {\n    return { showArchived }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      setShowArchived.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Row, Col, Popover, Space, Switch, Typography, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { RootDispatch } from 'os/store'\nimport { AppState } from 'app/model'\nimport { setShowArchived } from 'app/model/settings.controller'\n\nconst SettingsButton = () => {\n  const dispatch = useDispatch<RootDispatch>()\n  const {\n    settings: { showArchived },\n  } = useSelector((state: AppState) => state)\n\n  return (\n    <Popover\n      zIndex={1000}\n      content={\n        <Row gutter={[8, 8]} style={{ maxWidth: 224 }}>\n          <Col span={24}>\n            <Space size=\"large\">\n              <Switch\n                size=\"small\"\n                checked={showArchived}\n                onChange={(checked) => dispatch(setShowArchived(checked))}\n              />\n              <Typography.Text>Show archived pools</Typography.Text>\n            </Space>\n          </Col>\n        </Row>\n      }\n      trigger=\"click\"\n      placement=\"topRight\"\n    >\n      <Button type=\"text\" icon={<IonIcon name=\"cog-outline\" />} />\n    </Popover>\n  )\n}\n\nexport default SettingsButton\n","import { useEffect, useMemo, useState } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nimport { Col, Row, Select } from 'antd'\nimport CommunityPools from './communityPools'\nimport YourPools from './yourPools'\nimport NewPool from './newPool'\nimport SentrePools from './sentrePools'\nimport DepositedPools from './depositedPools'\n\nimport SettingsButton from 'app/components/settingsButton'\nimport { PoolTabs, QueryParams } from 'app/constant'\n\nconst SideBar = () => {\n  const [selectedTab, setSelectedTab] = useState<PoolTabs>(PoolTabs.Sentre)\n  const query = new URLSearchParams(useLocation().search)\n  const poolCategory = query.get(QueryParams.category) || ''\n\n  const handleChange = (value: PoolTabs) => {\n    setSelectedTab(value)\n  }\n\n  const poolsSelected = useMemo(() => {\n    if (selectedTab === PoolTabs.Sentre) return <SentrePools />\n    if (selectedTab === PoolTabs.Community) return <CommunityPools />\n    if (selectedTab === PoolTabs.Deposited) return <DepositedPools />\n    return <YourPools />\n  }, [selectedTab])\n\n  useEffect(() => {\n    if (!poolCategory) return\n    return setSelectedTab(poolCategory as PoolTabs)\n  }, [poolCategory])\n\n  return (\n    <Row gutter={[12, 24]} className=\"side-bar\">\n      <Col span={24}>\n        <Row gutter={[8, 8]} wrap={false}>\n          <Col>\n            <SettingsButton />\n          </Col>\n          <Col flex=\"auto\">\n            <Select\n              value={selectedTab}\n              onChange={handleChange}\n              className=\"header-sidebar\"\n            >\n              <Select.Option value={PoolTabs.Sentre}>\n                Sentre pools\n              </Select.Option>\n              <Select.Option value={PoolTabs.Deposited}>\n                Deposited pools\n              </Select.Option>\n              <Select.Option value={PoolTabs.YourPools}>\n                Your pools\n              </Select.Option>\n              <Select.Option value={PoolTabs.Community}>\n                Community pools\n              </Select.Option>\n            </Select>\n          </Col>\n          <Col>\n            <NewPool />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24} className=\"body-sidebar scrollbar\" id=\"scroll-container\">\n        {poolsSelected}\n      </Col>\n    </Row>\n  )\n}\n\nexport default SideBar\n","import { useHistory } from 'react-router-dom'\n\nimport { Button, Col, Row, Space, Typography, Popover } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport configs from 'app/configs'\nimport { PoolStatus } from 'app/constant'\nimport { usePool } from 'senhub/providers'\n\nconst {\n  route: { swapRoute },\n} = configs\n\nexport const SwapAction = ({ poolAddress }: { poolAddress: string }) => {\n  const history = useHistory()\n  const { pools } = usePool()\n  const frozen = pools?.[poolAddress].state === PoolStatus.Frozen\n\n  const onSwap = (originalRoute: boolean) => {\n    return history.push({\n      pathname: swapRoute,\n      state: { poolAddress, originalRoute },\n    })\n  }\n\n  return (\n    <Row gutter={[24, 12]} style={{ width: 256 }}>\n      <Col span={24}>\n        <Space direction=\"vertical\" size={0}>\n          <Space>\n            <IonIcon style={{ color: '#FA8C16' }} name=\"alert-circle-outline\" />\n            <Typography.Title level={5}>Choose the route</Typography.Title>\n          </Space>\n          <Typography.Text type=\"secondary\">\n            We recommend choosing the best route to optimize the price.\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col style={{ textAlign: 'right' }} span={24}>\n        <Space>\n          <Button size=\"small\" disabled={frozen} onClick={() => onSwap(true)}>\n            Original route\n          </Button>\n          <Button size=\"small\" onClick={() => onSwap(false)} type=\"primary\">\n            Best route\n          </Button>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nconst SwapButton = ({ poolAddress }: { poolAddress: string }) => {\n  return (\n    <Popover\n      trigger=\"click\"\n      placement=\"bottomLeft\"\n      content={<SwapAction poolAddress={poolAddress} />}\n    >\n      <Button block>Swap</Button>\n    </Popover>\n  )\n}\n\nexport default SwapButton\n","import { useCallback, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { Button, Col, Popover, Row, Space, Tooltip, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport SwapButton from 'app/components/swapButton'\n\nimport { asyncWait } from 'shared/util'\nimport { usePool } from 'senhub/providers'\nimport configs from 'app/configs'\n\nconst {\n  route: { farmRoute },\n} = configs\n\nconst PoolDetailsHeader = ({ poolAddress }: { poolAddress: string }) => {\n  const [copied, setCopied] = useState(false)\n  const history = useHistory()\n  const { pools } = usePool()\n  const { mint_lpt } = pools?.[poolAddress] || {}\n\n  const onCopy = async () => {\n    setCopied(true)\n    await asyncWait(1500)\n    setCopied(false)\n  }\n  const goFarming = useCallback(() => {\n    return history.push(`${farmRoute}?search=${poolAddress}`)\n  }, [history, poolAddress])\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col flex=\"auto\">\n        <Space>\n          <Space size={4}>\n            <MintAvatar mintAddress={mint_lpt} size={32} />\n            <Typography.Title level={5}>\n              <MintSymbol mintAddress={mint_lpt} />\n            </Typography.Title>\n          </Space>\n          <Popover\n            placement=\"bottom\"\n            content={\n              <Space align=\"center\">\n                <Tooltip title=\"Copied\" visible={copied} arrowPointAtCenter>\n                  <CopyToClipboard text={poolAddress}>\n                    <Button\n                      type=\"text\"\n                      size=\"small\"\n                      icon={<IonIcon name=\"copy-outline\" />}\n                      onClick={onCopy}\n                    />\n                  </CopyToClipboard>\n                </Tooltip>\n                <Space direction=\"vertical\" size={4}>\n                  <Typography.Text type=\"secondary\">\n                    PoolAddress\n                  </Typography.Text>\n                  <Typography.Text style={{ wordBreak: 'break-all' }}>\n                    {poolAddress}\n                  </Typography.Text>\n                </Space>\n              </Space>\n            }\n          >\n            <Button\n              type=\"text\"\n              icon={<IonIcon name=\"alert-circle-outline\" />}\n            />\n          </Popover>\n        </Space>\n      </Col>\n      <Col>\n        <Space>\n          <SwapButton poolAddress={poolAddress} />\n          <Button onClick={goFarming}>Go Farming</Button>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\nexport default PoolDetailsHeader\n","import { utils } from '@senswap/sen-js'\n\nimport { Space, Typography } from 'antd'\nimport { MintSymbol } from 'shared/antd/mint'\n\nimport { usePool } from 'senhub/providers'\nimport { numeric } from 'shared/util'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\n\nconst PoolPrice = ({\n  poolAddress,\n  reversed = false,\n}: {\n  poolAddress: string\n  reversed?: boolean\n}) => {\n  const { pools } = usePool()\n\n  const { mint_a, mint_b, reserve_a, reserve_b, mint_lpt } =\n    pools[poolAddress] || {}\n  const decimalsA = useMintDecimals(mint_a) || 0\n  const decimalsB = useMintDecimals(mint_b) || 0\n  const amountA = Number(utils.undecimalize(reserve_a, decimalsA))\n  const amountB = Number(utils.undecimalize(reserve_b, decimalsB))\n\n  const price = amountB ? amountA / amountB : 0\n  const reversedPrice = amountA ? amountB / amountA : 0\n\n  return (\n    <Space>\n      <Typography.Text>\n        {numeric(reversed ? reversedPrice : price).format('0,0.[0000]')}\n      </Typography.Text>\n      <MintSymbol mintAddress={mint_lpt} reversed={reversed} separator=\" / \" />\n    </Space>\n  )\n}\n\nexport default PoolPrice\n","import { useState } from 'react'\n\nimport { Button, Space } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport { MintAvatar } from 'shared/antd/mint'\n\nimport { usePool } from 'senhub/providers'\nimport PoolPrice from 'app/components/poolPrice'\n\nconst Price = ({ poolAddress }: { poolAddress: string }) => {\n  const { pools } = usePool()\n  const [isReverse, setIsReverse] = useState(true)\n\n  const { mint_lpt } = pools[poolAddress] || {}\n\n  return (\n    <Space>\n      <MintAvatar mintAddress={mint_lpt} reversed={isReverse} />\n      <PoolPrice poolAddress={poolAddress} reversed={isReverse} />\n      <Button\n        type=\"text\"\n        onClick={() => setIsReverse(!isReverse)}\n        icon={<IonIcon name=\"swap-horizontal-outline\" />}\n      />\n    </Space>\n  )\n}\n\nexport default Price\n","import { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { utils } from '@senswap/sen-js'\n\nimport { Row, Col, Card, Typography, Space, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport PoolPrice from 'app/components/poolPrice'\nimport { MintSymbol } from 'shared/antd/mint'\n\nimport { AppState } from 'app/model'\nimport { useMint, usePool } from 'senhub/providers'\nimport { numeric } from 'shared/util'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\n\nconst Summary = ({\n  value = '0',\n  poolAddress,\n}: {\n  value?: string\n  poolAddress: string\n}) => {\n  const [isReverse, setIsReverse] = useState(false)\n  const [totalLPT, setTotalLPT] = useState('0')\n  const { lpts } = useSelector((state: AppState) => state)\n  const { getMint } = useMint()\n  const { pools } = usePool()\n\n  const { mint_a, mint_b, reserve_a, reserve_b, mint_lpt } =\n    pools[poolAddress] || {}\n  const decimalsA = useMintDecimals(mint_a) || 0\n  const decimalsB = useMintDecimals(mint_b) || 0\n  const reserveA = utils.undecimalize(reserve_a, decimalsA)\n  const reserveB = utils.undecimalize(reserve_b, decimalsB)\n\n  const lptAddress =\n    Object.keys(lpts).find((key) => lpts[key].pool === poolAddress) || ''\n  const { amount } = lpts[lptAddress] || {}\n  const lpt = Number(utils.undecimalize(amount || BigInt(0), 9))\n\n  useEffect(() => {\n    ;(async () => {\n      const {\n        [mint_lpt]: { supply, decimals },\n      } = await getMint({ address: mint_lpt })\n      return setTotalLPT(utils.undecimalize(supply, decimals))\n    })()\n  }, [mint_lpt, getMint])\n\n  return (\n    <Card bordered={false} className=\"deposit-card\">\n      <Row gutter={[12, 12]}>\n        <Col span={24}>\n          <Row gutter={[12, 12]}>\n            <Col flex=\"auto\">\n              <Typography.Text type=\"secondary\">In-Pool Price</Typography.Text>\n            </Col>\n            <Col>\n              <Space>\n                <Button\n                  type=\"text\"\n                  style={{ width: 'auto', height: 'auto' }}\n                  icon={<IonIcon name=\"swap-horizontal-outline\" />}\n                  onClick={() => setIsReverse(!isReverse)}\n                />\n                <PoolPrice poolAddress={poolAddress} reversed={isReverse} />\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[12, 12]}>\n            <Col flex=\"auto\">\n              <Typography.Text type=\"secondary\">\n                Pool Composition\n              </Typography.Text>\n            </Col>\n            <Col>\n              <Space size={4}>\n                <Typography.Text>\n                  {numeric(reserveA).format('0,0.[00]a')}{' '}\n                  <MintSymbol mintAddress={mint_a} />\n                </Typography.Text>\n                <Typography.Title level={5}> + </Typography.Title>\n                <Typography.Text>\n                  {numeric(reserveB).format('0,0.[00]a')}{' '}\n                  <MintSymbol mintAddress={mint_b} />\n                </Typography.Text>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[12, 12]}>\n            <Col flex=\"auto\">\n              <Typography.Text type=\"secondary\">My Current LP</Typography.Text>\n            </Col>\n            <Col>\n              <Typography.Text>\n                {numeric(lpt).format('0,0.[0000]')} LP\n              </Typography.Text>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[8, 8]}>\n            <Col flex=\"auto\">\n              <Typography.Text type=\"secondary\">Total LP</Typography.Text>\n            </Col>\n            <Col>\n              <Typography.Text>\n                {numeric(totalLPT).format('0,0.[0000]')} LP\n              </Typography.Text>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[12, 12]}>\n            <Col flex=\"auto\">\n              <Typography.Text type=\"secondary\">\n                You will reveice\n              </Typography.Text>\n            </Col>\n            <Col>\n              <Space size={4}>\n                <Typography.Title level={5}>\n                  {numeric(value).format('0,0.[0000]')}\n                </Typography.Title>\n                <Typography.Title level={5}>LP</Typography.Title>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default Summary\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { account, utils } from '@senswap/sen-js'\n\nimport { Row, Col, Typography, Space, Button, Divider } from 'antd'\nimport NumericInput from 'shared/antd/numericInput'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\n\nimport { useAccount, useWallet } from 'senhub/providers'\nimport { numeric } from 'shared/util'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\n\n/**\n * Single amount input\n */\nconst Amount = ({\n  mintAddress,\n  onChange,\n  value,\n}: {\n  mintAddress: string\n  onChange: (value: bigint) => void\n  value: bigint\n}) => {\n  const [amount, setAmount] = useState('')\n  const [associatedAddress, setAssociatedAddress] = useState<string>('')\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { accounts } = useAccount()\n  const decimals = useMintDecimals(mintAddress) || 0\n\n  const accountData = accounts?.[associatedAddress]\n\n  const balance = useMemo(() => {\n    const { amount } = accountData || {}\n    if (!amount || !decimals) return '0'\n    return utils.undecimalize(amount, decimals) || '0'\n  }, [accountData, decimals])\n\n  const onAmount = useCallback(\n    async (val: string) => {\n      await setAmount(val)\n      if (!decimals || !parseFloat(val)) return onChange(BigInt(0))\n      return onChange(utils.decimalize(val, decimals))\n    },\n    [decimals, onChange],\n  )\n\n  const setAmountFromProps = useCallback(() => {\n    const newAmount = utils.undecimalize(value, decimals || 0)\n    if (Number(newAmount) === Number(amount)) return\n    setAmount(newAmount)\n    // ignore  'amount' because this function only  call after change 'value' from props\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [decimals, value])\n\n  const fetchAssociatedAddress = useCallback(async () => {\n    const { splt } = window.sentre\n    try {\n      const associatedAddress = await account.deriveAssociatedAddress(\n        walletAddress,\n        mintAddress,\n        splt.spltProgramId.toBase58(),\n        splt.splataProgramId.toBase58(),\n      )\n      setAssociatedAddress(associatedAddress)\n    } catch (er) {}\n  }, [mintAddress, walletAddress])\n\n  useEffect(() => {\n    fetchAssociatedAddress()\n  }, [fetchAssociatedAddress])\n\n  useEffect(() => {\n    setAmountFromProps()\n  }, [setAmountFromProps])\n\n  const notEnoughBalance = Number(amount) > Number(balance)\n\n  return (\n    <Row gutter={[4, 4]}>\n      <Col span={24}>\n        <NumericInput\n          placeholder=\"0\"\n          value={amount}\n          onValue={onAmount}\n          size=\"large\"\n          prefix={\n            <Space style={{ marginLeft: -4, marginRight: 7, lineHeight: 1 }}>\n              <MintAvatar mintAddress={mintAddress} />\n              <Divider type=\"vertical\" style={{ margin: 0 }} />\n            </Space>\n          }\n          suffix={\n            <Button\n              type=\"text\"\n              style={{ marginRight: -7 }}\n              size=\"small\"\n              onClick={() => onAmount(balance)}\n            >\n              MAX\n            </Button>\n          }\n          max={balance}\n        />\n      </Col>\n      <Col flex=\"auto\">\n        {notEnoughBalance && (\n          <Typography.Text style={{ fontSize: 12 }} type=\"danger\">\n            Not enough balance.\n          </Typography.Text>\n        )}\n      </Col>\n      <Col>\n        <Typography.Text style={{ fontSize: 12 }} type=\"secondary\">\n          Available: {numeric(balance).format('0,0.[0000]')}{' '}\n          <MintSymbol mintAddress={mintAddress} />\n        </Typography.Text>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Amount\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { account, Swap, utils } from '@senswap/sen-js'\n\nimport { Row, Col, Button, Radio, Space, Tag, RadioChangeEvent } from 'antd'\nimport Summary from './summary'\nimport Amount from 'app/components/amount'\nimport { MintSymbol } from 'shared/antd/mint'\n\nimport { explorer } from 'shared/util'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { useAccount, useMint, usePool, useWallet } from 'senhub/providers'\n\nconst FullSide = ({\n  poolAddress,\n  onClose = () => {},\n  onChange = () => {},\n}: {\n  poolAddress: string\n  onClose?: () => void\n  onChange?: (mint: string) => void\n}) => {\n  const [loading, setLoading] = useState(false)\n  const [lpt, setLPT] = useState('')\n  const [amounts, setAmounts] = useState<bigint[]>([BigInt(0), BigInt(0)])\n  const [selectMint, setSelectMint] = useState<string>('all')\n  const [disabled, setDisabled] = useState(true)\n  const { pools } = usePool()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { getMint } = useMint()\n  const { accounts } = useAccount()\n\n  const {\n    mint_a,\n    mint_b,\n    reserve_a,\n    reserve_b,\n    mint_lpt,\n    fee_ratio,\n    tax_ratio,\n  } = pools[poolAddress]\n  const mintAddresses = [mint_a, mint_b]\n  const decimalA = useMintDecimals(mint_a) || 0\n  const decimalB = useMintDecimals(mint_b) || 0\n  const decimals = useMemo(() => {\n    return [decimalA, decimalB]\n  }, [decimalA, decimalB])\n  const ratio = useMemo(() => {\n    return (\n      Number(utils.undecimalize(reserve_a, decimalA)) /\n      Number(utils.undecimalize(reserve_b, decimalB))\n    )\n  }, [decimalA, decimalB, reserve_a, reserve_b])\n\n  const getSuggestMintAmount = useCallback(\n    (amount: bigint, index: number) => {\n      if (!decimals) return BigInt(0)\n      const suggestDecimal = index === 0 ? decimals[1] : decimals[0]\n      const parseAmount = Number(utils.undecimalize(amount, decimals[index]))\n      let suggestAmount = parseAmount * ratio\n      if (index === 0) suggestAmount = parseAmount / ratio\n      return utils.decimalize(suggestAmount, suggestDecimal)\n    },\n    [decimals, ratio],\n  )\n\n  const onAmounts = (mintAddress: string, amount: bigint) => {\n    if (!account.isAddress(mintAddress) || !amount)\n      return setAmounts([BigInt(0), BigInt(0)])\n    const index = mintAddresses.findIndex((mint) => mint === mintAddress)\n    if (index === -1) return\n    let newAmounts = [...amounts]\n    if (selectMint === 'all')\n      newAmounts[0] = newAmounts[1] = getSuggestMintAmount(amount, index)\n    newAmounts[index] = amount\n    setAmounts(newAmounts)\n  }\n\n  const estimateLPT = useCallback(async () => {\n    if (!account.isAddress(walletAddress)) return setLPT('')\n    try {\n      const {\n        [mint_lpt]: { supply },\n      } = await getMint({ address: mint_lpt })\n      const { lpt } = Swap.oracle.sided_deposit(\n        amounts[0],\n        amounts[1],\n        reserve_a,\n        reserve_b,\n        supply,\n        fee_ratio,\n        tax_ratio,\n      )\n      return setLPT(utils.undecimalize(lpt, 9))\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    }\n  }, [\n    amounts,\n    fee_ratio,\n    getMint,\n    mint_lpt,\n    reserve_a,\n    reserve_b,\n    tax_ratio,\n    walletAddress,\n  ])\n\n  const onDeposit = async () => {\n    setLoading(true)\n    const { splt, swap, wallet } = window.sentre\n    const [srcAAddress, srcBAddress] = await Promise.all(\n      mintAddresses.map((mintAddress) =>\n        splt.deriveAssociatedAddress(walletAddress, mintAddress),\n      ),\n    )\n    if (!wallet) return\n    try {\n      const { txId } = await swap.addSidedLiquidity(\n        amounts[0],\n        amounts[1],\n        poolAddress,\n        srcAAddress,\n        srcBAddress,\n        wallet,\n      )\n      onClose()\n      return window.notify({\n        type: 'success',\n        description: 'Deposit liquidity successfully. Click to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    estimateLPT()\n  }, [estimateLPT])\n\n  useEffect(() => {\n    setAmounts([BigInt(0), BigInt(0)])\n  }, [selectMint])\n\n  const validateInput = useCallback(async () => {\n    const { splt } = window.sentre\n    // get wallet account mint A\n    const accAddrMintA = await splt.deriveAssociatedAddress(\n      walletAddress,\n      mint_a,\n    )\n    const accMintA = accounts[accAddrMintA]\n    // get wallet account mint B\n    const accAddrMintB = await splt.deriveAssociatedAddress(\n      walletAddress,\n      mint_b,\n    )\n    const accMintB = accounts[accAddrMintB]\n    const amountMintA = accMintA?.amount || 0\n    const amountMintB = accMintB?.amount || 0\n    const disabled = amounts[0] > amountMintA || amounts[1] > amountMintB\n    setDisabled(disabled)\n  }, [accounts, amounts, mint_a, mint_b, walletAddress])\n\n  useEffect(() => {\n    validateInput()\n  }, [validateInput])\n\n  const onSelectMint = (event: RadioChangeEvent) => {\n    setSelectMint(event.target.value)\n    onChange(event.target.value)\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Radio.Group\n          onChange={(e) => {\n            onSelectMint(e)\n          }}\n          value={selectMint}\n        >\n          <Radio value={'all'}>\n            <Space size={4}>\n              <MintSymbol mintAddress={mint_lpt} separator=\"+\" />\n              <Tag className=\"deposit-tag\">0 Fee</Tag>\n            </Space>\n          </Radio>\n\n          {mintAddresses.map((mintAddress, idx) => (\n            <Radio value={mintAddress} key={mintAddress + idx}>\n              <MintSymbol mintAddress={mintAddress} />\n            </Radio>\n          ))}\n        </Radio.Group>\n      </Col>\n      {mintAddresses.map(\n        (mintAddress, i) =>\n          (mintAddress === selectMint || selectMint === 'all') && (\n            <Col key={mintAddress + i} span={24}>\n              <Amount\n                mintAddress={mintAddress}\n                value={amounts[i]}\n                onChange={(amount) => onAmounts(mintAddress, amount)}\n              />\n            </Col>\n          ),\n      )}\n      <Col span={24}>\n        <Summary value={lpt} poolAddress={poolAddress} />\n      </Col>\n      <Col span={24}>\n        <Button\n          type=\"primary\"\n          onClick={onDeposit}\n          disabled={!Number(lpt) || disabled}\n          block\n          loading={loading}\n        >\n          Deposit\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default FullSide\n","import { utils } from '@senswap/sen-js'\n\nimport { Row, Col, Typography } from 'antd'\nimport FullSide from './fullSide'\n\nimport { usePool } from 'senhub/providers'\nimport { useState } from 'react'\n\nconst FEE_DECIMALS_PERCENT = 7\n\nconst Deposit = ({\n  poolAddress,\n  onClose = () => {},\n}: {\n  poolAddress: string\n  onClose?: () => void\n}) => {\n  const { pools } = usePool()\n  const [selectMint, setSelectMint] = useState('all')\n  const { fee_ratio, tax_ratio } = pools[poolAddress] || {}\n  const feeRatio = fee_ratio || BigInt(0)\n  const taxRatio = tax_ratio || BigInt(0)\n\n  const totalRatio = utils.undecimalize(\n    feeRatio + taxRatio,\n    FEE_DECIMALS_PERCENT,\n  )\n  const asymmetric = selectMint !== 'all'\n  const asymmetricColor = asymmetric ? '#F9575E' : 'inherit'\n  const asymmetricType = asymmetric ? undefined : 'secondary'\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Typography.Title level={5}>Deposit Liquidity</Typography.Title>\n      </Col>\n      <Col span={24}>\n        <Typography.Paragraph type=\"secondary\">\n          <strong>Liquidity provider incentive.</strong> Liquidity providers\n          earn a {totalRatio}% fee on all trades proportional to their share of\n          the pool. Fees are accrued into the pool and can be claimed by\n          withdrawing your liquidity.\n        </Typography.Paragraph>\n        <Typography.Paragraph type={asymmetricType}>\n          <strong style={{ color: asymmetricColor }}>\n            Asymmetric Deposit.\n          </strong>{' '}\n          Instead of depositing amounts of tokens proportionally, Asymmetric\n          Deposit allows you to deposit even one side of token. The pool will\n          automatically re-balance itself.\n        </Typography.Paragraph>\n      </Col>\n      <Col span={24}>\n        <FullSide\n          poolAddress={poolAddress}\n          onClose={onClose}\n          onChange={setSelectMint}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Deposit\n","import { useCallback, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { utils } from '@senswap/sen-js'\n\nimport { Row, Col, Typography, Space, Button, Divider } from 'antd'\nimport NumericInput from 'shared/antd/numericInput'\nimport { MintAvatar, MintName } from 'shared/antd/mint'\n\nimport { numeric } from 'shared/util'\nimport { usePool } from 'senhub/providers'\nimport { AppState } from 'app/model'\n\n/**\n * Single amount input\n */\nconst LPT = ({\n  lptAddress,\n  onChange,\n}: {\n  lptAddress: string\n  onChange: (value: bigint) => void\n}) => {\n  const [lpt, setLPT] = useState('')\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const { pools } = usePool()\n  const { amount, pool } = lpts?.[lptAddress] || {}\n  const { mint_lpt } = pools?.[pool] || {}\n\n  const balance = useMemo(() => {\n    if (!amount) return '0'\n    return utils.undecimalize(amount, 9) || '0'\n  }, [amount])\n\n  const onLPT = useCallback(\n    async (val: string) => {\n      await setLPT(val)\n      // Return amount\n      if (!parseFloat(val)) return onChange(BigInt(0))\n      return onChange(utils.decimalize(val, 9))\n    },\n    [onChange],\n  )\n  return (\n    <Row gutter={[4, 4]} justify=\"end\">\n      <Col span={24}>\n        <NumericInput\n          placeholder=\"Amount of LP\"\n          value={lpt}\n          onValue={onLPT}\n          size=\"large\"\n          prefix={\n            <Space\n              style={{\n                marginLeft: -7,\n                marginRight: 7,\n                fontSize: 12,\n                lineHeight: 1,\n              }}\n            >\n              <MintAvatar mintAddress={mint_lpt} size={24} />\n              <Typography.Text>\n                <MintName mintAddress={mint_lpt} />\n              </Typography.Text>\n              <Divider type=\"vertical\" style={{ margin: 0 }} />\n            </Space>\n          }\n          suffix={\n            <Button\n              type=\"text\"\n              style={{ marginRight: -7 }}\n              size=\"small\"\n              onClick={() => onLPT(balance)}\n            >\n              MAX\n            </Button>\n          }\n          max={balance}\n        />\n      </Col>\n      <Col>\n        <Typography.Text style={{ fontSize: 12 }} type=\"secondary\">\n          Available: {numeric(balance).format('0,0.[0000]')} LPT\n        </Typography.Text>\n      </Col>\n    </Row>\n  )\n}\n\nexport default LPT\n","import { Row, Col, Card, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\n\nimport { numeric } from 'shared/util'\n\nconst Info = ({\n  mintAddresses,\n  amounts,\n}: {\n  mintAddresses: string[]\n  amounts: string[]\n}) => {\n  return (\n    <Card bordered={false} className=\"deposit-card\">\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Typography.Text>You will receive</Typography.Text>\n        </Col>\n        {mintAddresses.map((mintAddress, i) => (\n          <Col span={24} key={i}>\n            <Row gutter={[8, 8]} justify=\"space-between\" align=\"middle\">\n              <Col>\n                <MintAvatar mintAddress={mintAddress} size={32} />\n              </Col>\n              <Col>\n                <Typography.Title level={5} style={{ margin: 0 }}>\n                  {numeric(amounts[i] || 0).format('0,0.[0000]')}{' '}\n                  <MintSymbol mintAddress={mintAddress} />\n                </Typography.Title>\n              </Col>\n            </Row>\n          </Col>\n        ))}\n      </Row>\n    </Card>\n  )\n}\n\nexport default Info\n","import { useCallback, useEffect, useState } from 'react'\nimport { Swap, utils } from '@senswap/sen-js'\nimport { useSelector } from 'react-redux'\n\nimport { Row, Col, Typography, Button } from 'antd'\nimport LPT from './lpt'\nimport Info from './info'\n\nimport { explorer } from 'shared/util'\nimport { useMint, usePool, useWallet } from 'senhub/providers'\nimport { AppState } from 'app/model'\n\nconst Withdraw = ({\n  poolAddress,\n  onClose = () => {},\n}: {\n  poolAddress: string\n  onClose?: () => void\n}) => {\n  const [lpt, setLPT] = useState(BigInt(0))\n  const [supply, setSupply] = useState<bigint | undefined>()\n  const [amounts, setAmounts] = useState<string[]>([])\n  const [decimals, setDecimals] = useState([0, 0])\n  const [loading, setLoading] = useState(false)\n  const lpts = useSelector((state: AppState) => state.lpts)\n\n  const lptAddress =\n    Object.keys(lpts).find((key) => lpts[key].pool === poolAddress) || ''\n  const lptPoolAddress = lpts?.[lptAddress]?.pool\n\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { pools } = usePool()\n  const { getMint } = useMint()\n\n  const { mint_a, mint_b, mint_lpt, reserve_a, reserve_b } =\n    pools?.[lptPoolAddress] || {}\n  const mintAddresses = [mint_a, mint_b]\n\n  const fetchData = useCallback(async () => {\n    try {\n      const {\n        [mint_lpt]: { supply },\n      } = await getMint({ address: mint_lpt })\n      setSupply(supply)\n    } catch (er) {}\n    try {\n      const {\n        [mint_a]: { decimals: decimalsA },\n      } = await getMint({ address: mint_a })\n      const {\n        [mint_b]: { decimals: decimalsB },\n      } = await getMint({ address: mint_b })\n      setDecimals([decimalsA, decimalsB])\n    } catch (er) {}\n  }, [mint_a, mint_b, mint_lpt, getMint])\n\n  const onWithdraw = async () => {\n    if (!lpt) return\n    setLoading(true)\n    const { swap, wallet, splt } = window.sentre\n    const dstAddresses = await Promise.all(\n      mintAddresses.map((mintAddress) =>\n        splt.deriveAssociatedAddress(walletAddress, mintAddress),\n      ),\n    )\n    if (!wallet) return\n    try {\n      const { txId } = await swap.removeLiquidity(\n        lpt,\n        poolAddress,\n        dstAddresses[0],\n        dstAddresses[1],\n        wallet,\n      )\n      onClose()\n      return window.notify({\n        type: 'success',\n        description: 'Withdraw liquidity successfully. Click to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    if (!supply) {\n      setAmounts([])\n    } else {\n      const { deltaA, deltaB } = Swap.oracle.withdraw(\n        lpt,\n        supply,\n        reserve_a,\n        reserve_b,\n      )\n      const deltas = [deltaA, deltaB]\n      const amounts = deltas.map((delta, i) =>\n        utils.undecimalize(delta, decimals[i]),\n      )\n      setAmounts(amounts)\n    }\n  }, [reserve_a, reserve_b, lpt, supply, decimals])\n  useEffect(() => {\n    fetchData()\n  }, [fetchData])\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Typography.Title level={5}>Withdraw Liquidity</Typography.Title>\n      </Col>\n      <Col span={24}>\n        <LPT lptAddress={lptAddress} onChange={setLPT} />\n      </Col>\n      <Col span={24}>\n        <Info mintAddresses={mintAddresses} amounts={amounts} />\n      </Col>\n      <Col span={24}>\n        <Button\n          type=\"primary\"\n          onClick={onWithdraw}\n          disabled={!lpt}\n          block\n          loading={loading}\n        >\n          Withdraw\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Withdraw\n","import { useState } from 'react'\n\nimport { Button, Col, Modal, Row } from 'antd'\nimport Deposit from 'app/components/deposit'\nimport Withdraw from 'app/components/withdraw'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst LiquidityAction = ({\n  poolAddress,\n  lpt,\n}: {\n  poolAddress: string\n  lpt?: number\n}) => {\n  const [depositVisible, setDepositVisible] = useState(false)\n  const [withdrawVisible, setWithdrawVisible] = useState(false)\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={12}>\n        <Button\n          onClick={() => setWithdrawVisible(true)}\n          icon={<IonIcon name=\"log-out-outline\" />}\n          disabled={!lpt}\n          block\n        >\n          Withdraw\n        </Button>\n      </Col>\n      <Col span={12}>\n        <Button\n          onClick={() => setDepositVisible(true)}\n          type=\"primary\"\n          icon={<IonIcon name=\"log-in-outline\" />}\n          block\n        >\n          Deposit\n        </Button>\n      </Col>\n      <Modal\n        visible={depositVisible}\n        onCancel={() => setDepositVisible(false)}\n        closeIcon={<IonIcon name=\"close\" />}\n        footer={null}\n        destroyOnClose={true}\n        centered={true}\n      >\n        <Deposit\n          poolAddress={poolAddress}\n          onClose={() => setDepositVisible(false)}\n        />\n      </Modal>\n      <Modal\n        visible={withdrawVisible}\n        onCancel={() => setWithdrawVisible(false)}\n        closeIcon={<IonIcon name=\"close\" />}\n        footer={null}\n        destroyOnClose={true}\n        centered={true}\n      >\n        <Withdraw\n          poolAddress={poolAddress}\n          onClose={() => setWithdrawVisible(false)}\n        />\n      </Modal>\n    </Row>\n  )\n}\n\nexport default LiquidityAction\n","import { ReactNode, useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account, utils } from '@senswap/sen-js'\n\nimport { Card, Col, Row, Space, Typography } from 'antd'\nimport Price from './price'\nimport LiquidityAction from './liquidityAction'\nimport { MintSymbol } from 'shared/antd/mint'\n\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\nimport { useMint, usePool } from 'senhub/providers'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\n\nconst APY_DATE = 365\n\nconst Content = ({\n  label = 'label',\n  title = '',\n  subTitle = null,\n}: {\n  label?: string\n  title?: string | ReactNode\n  subTitle?: string | null\n}) => {\n  return (\n    <Space direction=\"vertical\" size={4}>\n      <Typography.Text className=\"caption\" type=\"secondary\">\n        {label}\n      </Typography.Text>\n      <span>{title}</span>\n      {subTitle && (\n        <Typography.Text type=\"secondary\">{subTitle}</Typography.Text>\n      )}\n    </Space>\n  )\n}\n\nconst Title = ({\n  value = 0,\n  sub = '',\n  format = '',\n}: {\n  value?: string | number\n  sub?: string | ReactNode\n  format?: string\n}) => {\n  return (\n    <Space size={4} align=\"baseline\">\n      <Typography.Title level={4}>\n        {numeric(value).format(format)}\n      </Typography.Title>\n      {sub && (\n        <Typography.Text className=\"caption\" type=\"secondary\">\n          {sub}\n        </Typography.Text>\n      )}\n    </Space>\n  )\n}\n\nconst LiquidityPosition = ({ poolAddress }: { poolAddress: string }) => {\n  const [supply, setSupply] = useState<number>(0)\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const roi = useSelector(\n    (state: AppState) => state.stat?.[poolAddress]?.details?.roi,\n  )\n  const { getMint } = useMint()\n  const { pools } = usePool()\n\n  const { mint_a, mint_b, reserve_a, reserve_b, mint_lpt } =\n    pools[poolAddress] || {}\n  const decimalsA = useMintDecimals(mint_a) || 0\n  const decimalsB = useMintDecimals(mint_b) || 0\n  const reserveA = utils.undecimalize(reserve_a, decimalsA)\n  const reserveB = utils.undecimalize(reserve_b, decimalsB)\n\n  const lptAddress =\n    Object.keys(lpts).find((key) => lpts[key].pool === poolAddress) || ''\n  const { amount } = lpts[lptAddress] || {}\n  const lpt = Number(utils.undecimalize(amount || BigInt(0), 9))\n\n  const calculateRoi = useCallback(\n    (date: number) => {\n      if (!roi || !date) return 0\n      return Math.pow(roi / 100 + 1, date) - 1\n    },\n    [roi],\n  )\n\n  useEffect(() => {\n    ;(async () => {\n      if (!account.isAddress(mint_lpt)) return 0\n      const {\n        [mint_lpt]: { decimals, supply },\n      } = await getMint({ address: mint_lpt })\n      setSupply(Number(utils.undecimalize(supply, decimals)))\n    })()\n  }, [getMint, mint_lpt])\n\n  return (\n    <Card\n      bordered={false}\n      className=\"lp-card\"\n      style={{ background: '#E9E9EB' }}\n    >\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Typography.Title level={4}>Liquidity Position</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[20, 20]}>\n            <Col span={24}>\n              <Content\n                label=\"APY\"\n                title={\n                  <Title value={calculateRoi(APY_DATE)} format=\"0,0.[00]%\" />\n                }\n              />\n            </Col>\n            <Col xs={8}>\n              <Content\n                label=\"My Contribution\"\n                title={<Title value={lpt} sub=\"LP\" format=\"0,0.[0000]a\" />}\n              />\n            </Col>\n            <Col xs={16}>\n              <Content\n                label=\"Pool Composition\"\n                title={\n                  <Space size={4} align=\"baseline\">\n                    <Title\n                      value={reserveA}\n                      sub={<MintSymbol mintAddress={mint_a} />}\n                      format=\"0,0.[00]a\"\n                    />\n                    <Typography.Title level={5}>+</Typography.Title>\n                    <Title\n                      value={reserveB}\n                      sub={<MintSymbol mintAddress={mint_b} />}\n                      format=\"0,0.[00]a\"\n                    />\n                  </Space>\n                }\n              />\n            </Col>\n            <Col xs={8}>\n              <Content\n                label=\"My Portion\"\n                title={<Title value={lpt / supply} format=\"0,0.[00]%\" />}\n                subTitle={`Over ${numeric(supply).format('0,0.[0000]a')} LP`}\n              />\n            </Col>\n            <Col xs={16}>\n              <Content\n                label=\"In-Pool Price\"\n                title={<Price poolAddress={poolAddress} />}\n              />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <LiquidityAction lpt={lpt} poolAddress={poolAddress} />\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default LiquidityPosition\n","import { Row, Col, Typography, Space } from 'antd'\nimport NumericInput from 'shared/antd/numericInput'\n\nconst FeeInput = ({\n  title,\n  label,\n  ratio,\n  currentRatio = '0',\n  onChange = () => {},\n}: {\n  title: string\n  label: string\n  ratio: string | number\n  currentRatio: string\n  onChange?: (e: any) => void\n}) => {\n  return (\n    <Row gutter={[4, 4]}>\n      <Col span={24}>\n        <Typography.Text type=\"secondary\">{title}</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <NumericInput\n          placeholder=\"0\"\n          value={ratio}\n          onValue={onChange}\n          size=\"large\"\n        />\n      </Col>\n      <Col span={24} style={{ fontSize: 12 }}>\n        <Space size={4}>\n          <Typography.Text type=\"secondary\">{label}:</Typography.Text>\n          <Typography.Text>{currentRatio}%</Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\nexport default FeeInput\n","import { useMemo, useState } from 'react'\nimport { utils } from '@senswap/sen-js'\n\nimport { Button, Row, Col } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport FeeInput from './FeeInput'\n\nimport { usePool } from 'senhub/providers'\nimport { explorer } from 'shared/util'\n\n// Fee decimal = 9\n// however feeUI = Fee * 100 (%)\n// -> FEE_DECIMALS_PERCENT = 9 - 2 = 7\nconst FEE_DECIMALS_PERCENT = 7\n\nconst Fee = ({ address: poolAddress }: { address: string }) => {\n  const { pools } = usePool()\n  const [feeRatio, setFeeRatio] = useState<string>('')\n  const [taxRatio, setTaxRatio] = useState<string>('')\n  const [loading, setLoading] = useState(false)\n  const poolData = pools[poolAddress]\n  const { fee_ratio, tax_ratio } = poolData || {}\n\n  const onUpdateFee = async () => {\n    setLoading(true)\n    const feeAmount = utils.decimalize(\n      feeRatio || currentFee,\n      FEE_DECIMALS_PERCENT,\n    )\n    const taxAmount = utils.decimalize(\n      taxRatio || currentTax,\n      FEE_DECIMALS_PERCENT,\n    )\n    // PRECISION\n    const { swap, wallet } = window.sentre\n    if (!wallet) return\n    const { txId } = await swap.updateFee(\n      feeAmount,\n      taxAmount,\n      poolAddress,\n      wallet,\n    )\n    setLoading(false)\n    if (!txId)\n      return window.notify({\n        type: 'error',\n        description: 'Update fee make failure.',\n      })\n    setFeeRatio('')\n    setTaxRatio('')\n    return window.notify({\n      type: 'success',\n      description: 'Update fee successfully. Click to view details',\n      onClick: () => window.open(explorer(txId), '_blank'),\n    })\n  }\n\n  const currentFee = useMemo(() => {\n    if (!fee_ratio) return '0'\n    return utils.undecimalize(fee_ratio, FEE_DECIMALS_PERCENT)\n  }, [fee_ratio])\n\n  const currentTax = useMemo(() => {\n    if (!tax_ratio) return '0'\n    return utils.undecimalize(tax_ratio, FEE_DECIMALS_PERCENT)\n  }, [tax_ratio])\n\n  return (\n    <Row gutter={[16, 24]}>\n      <Col span={24}>\n        <Row gutter={[4, 4]}>\n          <Col span={24}>\n            <FeeInput\n              title=\"Fee (%)\"\n              label=\"Current fee\"\n              ratio={feeRatio}\n              currentRatio={currentFee}\n              onChange={setFeeRatio}\n            />\n          </Col>\n          <Col span={24}>\n            <FeeInput\n              title=\"Tax (%)\"\n              label=\"Current tax\"\n              ratio={taxRatio}\n              currentRatio={currentTax}\n              onChange={setTaxRatio}\n            />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Button\n          onClick={onUpdateFee}\n          icon={<IonIcon name=\"cash-outline\" />}\n          block\n          loading={loading}\n          disabled={!taxRatio && !feeRatio}\n        >\n          Update Fee\n        </Button>\n      </Col>\n    </Row>\n  )\n}\nexport default Fee\n","import { useMemo, useState } from 'react'\n\nimport { Button, Row, Col, Typography, Badge, Space } from 'antd'\nimport { usePool } from 'senhub/providers'\nimport { explorer } from 'shared/util'\nimport IonIcon from 'shared/antd/ionicon'\n\nenum PoolStatus {\n  Frozen = 2,\n  Active = 1,\n}\n\nconst CardDescription = ({\n  poolStatus,\n  description,\n}: {\n  poolStatus: PoolStatus\n  description: string\n}) => {\n  const status = poolStatus === PoolStatus.Active\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space size={0}>\n          <Badge status={status ? 'success' : 'error'} />\n          <Typography.Text>\n            Current status: {status ? 'Active' : 'Frozen'}\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space size={4} align=\"start\">\n          <IonIcon name=\"information-circle-outline\" />\n          <Space direction=\"vertical\" size={0}>\n            <Typography.Text type=\"secondary\">{description}</Typography.Text>\n          </Space>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nconst Freeze = ({ address }: { address: string }) => {\n  const { pools } = usePool()\n  const [loading, setLoading] = useState(false)\n  const poolData = pools[address]\n\n  const onFreezePool = async () => {\n    setLoading(true)\n    const { swap, wallet } = window.sentre\n    if (!wallet) return\n    const { txId } = await swap.freezePool(address, wallet)\n    setLoading(false)\n    if (!txId)\n      return window.notify({\n        type: 'error',\n        description: 'Freeze the pool make failure.',\n      })\n    return window.notify({\n      type: 'success',\n      description: 'Freeze the pool successfully. Click to view details',\n      onClick: () => window.open(explorer(txId), '_blank'),\n    })\n  }\n\n  const onThawPool = async () => {\n    setLoading(true)\n    const { swap, wallet } = window.sentre\n    if (!wallet) return\n    const { txId } = await swap.thawPool(address, wallet)\n    setLoading(false)\n    if (!txId)\n      return window.notify({\n        type: 'error',\n        description: 'Thaw the pool make failure.',\n      })\n    return window.notify({\n      type: 'success',\n      description: 'Thaw the pool successfully. Click to view details',\n      onClick: () => window.open(explorer(txId), '_blank'),\n    })\n  }\n\n  const description = useMemo(() => {\n    const state = poolData?.state\n    if (state === PoolStatus.Active)\n      return (\n        <CardDescription\n          poolStatus={state}\n          description=\"Freezing a pool will prevent all actions until the pool has been thawed.\"\n        />\n      )\n\n    if (state === PoolStatus.Frozen)\n      return (\n        <CardDescription\n          poolStatus={state}\n          description=\"Thaw a pool will active all actions\"\n        />\n      )\n    return 'Pool is closed'\n  }, [poolData?.state])\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>{description}</Col>\n      <Col span={24}>\n        {poolData?.state === PoolStatus.Active ? (\n          <Button\n            style={{ background: '#40A9FF', color: '#fff' }}\n            onClick={onFreezePool}\n            icon={<IonIcon name=\"snow-outline\" />}\n            block\n            loading={loading}\n          >\n            Freeze Pool\n          </Button>\n        ) : (\n          <Button\n            type=\"primary\"\n            onClick={onThawPool}\n            icon={<IonIcon name=\"sunny-outline\" />}\n            block\n            loading={loading}\n          >\n            Thaw Pool\n          </Button>\n        )}\n      </Col>\n    </Row>\n  )\n}\nexport default Freeze\n","import { useState } from 'react'\nimport { account } from '@senswap/sen-js'\n\nimport { Button, Row, Col, Input, Card, Space, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { explorer } from 'shared/util'\n\nconst TransferOwner = ({ address: poolAddress }: { address: string }) => {\n  const [newOwner, setNewOwner] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const onTransferOwner = async () => {\n    await setLoading(true)\n    try {\n      const { swap, wallet } = window.sentre\n      if (!wallet) throw new Error('Wallet is not connected.')\n      const { txId } = await swap.transferPoolOwnership(\n        poolAddress,\n        newOwner,\n        wallet,\n      )\n      return window.notify({\n        type: 'success',\n        description: 'Transfer successfully. Click to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (er: any) {\n      return window.notify({\n        type: 'error',\n        description: er.message,\n      })\n    } finally {\n      return setLoading(false)\n    }\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space align=\"start\">\n          <IonIcon name=\"information-circle-outline\" />\n          <Typography.Text>\n            Your current account will lose the pool control when you transfer\n            ownership.\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Card\n          bodyStyle={{ padding: 8 }}\n          style={{\n            background: 'transparent',\n            borderRadius: 8,\n            boxShadow: 'none',\n          }}\n        >\n          <Row gutter={[0, 0]}>\n            <Col span={24}>\n              <Typography.Text\n                style={{ marginLeft: 12, fontSize: 12 }}\n                type=\"secondary\"\n              >\n                Transfer to Owner\n              </Typography.Text>\n            </Col>\n            <Col span={24}>\n              <Input\n                placeholder=\"E.g. AgTMC...\"\n                value={newOwner}\n                onChange={(e: any) => setNewOwner(e.target.value)}\n                bordered={false}\n              />\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n      <Col span={24}>\n        <Button\n          onClick={onTransferOwner}\n          icon={<IonIcon name=\"airplane-outline\" />}\n          disabled={!account.isAddress(newOwner)}\n          loading={loading}\n          block\n        >\n          Transfer\n        </Button>\n      </Col>\n    </Row>\n  )\n}\nexport default TransferOwner\n","import { Card, Tabs } from 'antd'\nimport Fee from './fee'\nimport Freeze from './freeze'\nimport TransferOwner from './transferOwner'\n\nconst PoolManagement = ({ poolAddress }: { poolAddress: string }) => {\n  return (\n    <Card\n      style={{ minHeight: 285 }}\n      bodyStyle={{ padding: 0 }}\n      bordered={false}\n    >\n      <Tabs style={{ padding: 24 }}>\n        <Tabs.TabPane key=\"freeze-thaw\" tab=\"Freeze/Thaw\">\n          <Freeze address={poolAddress} />\n        </Tabs.TabPane>\n        <Tabs.TabPane key=\"fee\" tab=\"Fee\">\n          <Fee address={poolAddress}></Fee>\n        </Tabs.TabPane>\n        <Tabs.TabPane key=\"transfer-owner\" tab=\"Transfer Owner\">\n          <TransferOwner address={poolAddress} />\n        </Tabs.TabPane>\n      </Tabs>\n    </Card>\n  )\n}\n\nexport default PoolManagement\n","import { useCallback, useState, useRef, useEffect } from 'react'\nimport Chart from 'chart.js'\nimport isEqual from 'react-fast-compare'\n\nimport { numeric } from 'shared/util'\ninterface Props {\n  labels?: (number | string)[]\n  chartData?: (number | string)[]\n  configs?: { backgroundColor?: string } & object\n  type?: string\n  disableAxe?: boolean\n  chartHeight?: string\n  chartId?: string\n}\n\nconst DEFAULT_BACKGROUND_COLOR = '#dadada'\n\nconst SenChart = ({\n  chartData = [],\n  labels = [],\n  type = 'line',\n  configs,\n  disableAxe = false,\n  chartId = 'sen_chart',\n}: Props) => {\n  const { backgroundColor } = configs || {}\n  const [isRebuildChart, setRebuildChart] = useState<boolean>(false)\n\n  const formatData = useCallback(\n    (\n      data: Array<number | number[] | undefined | null | any>,\n      label: Array<string | number>,\n      background?: string | CanvasGradient | undefined,\n    ): Chart.ChartData => ({\n      labels: label,\n      datasets: [{ ...configs, data, backgroundColor: background }],\n    }),\n    [configs],\n  )\n  // use a ref to store the chart instance since it it mutable\n  const chartRef = useRef<Chart | null>(null)\n\n  // callback creates the chart on the canvas element\n  const canvasCallback = (canvas: HTMLCanvasElement | null) => {\n    if (!canvas) return\n    const ctx = canvas.getContext('2d')\n    if (ctx && !isRebuildChart) {\n      // create new chart\n      chartRef.current = new Chart(ctx, {\n        type: type,\n        data: {\n          labels: [],\n          datasets: [\n            {\n              data: [],\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            xAxes: [\n              {\n                gridLines: {\n                  drawBorder: false,\n                  display: false,\n                },\n                ticks: {\n                  display: !disableAxe,\n                },\n              },\n            ],\n            yAxes: [\n              {\n                gridLines: {\n                  drawBorder: false,\n                  display: false,\n                },\n                ticks: {\n                  display: !disableAxe,\n                  beginAtZero: false,\n                  maxTicksLimit: 8,\n                  callback: function (value, index, values) {\n                    return numeric(value).format('0,0.[0]a')\n                  },\n                },\n              },\n            ],\n          },\n          plugins: {\n            legend: false,\n          },\n          hover: {\n            onHover: (event, elements) => {\n              const target = document.getElementById(chartId)\n              if (!target) return\n              target.style.cursor = elements[0] ? 'pointer' : 'default'\n            },\n          },\n        },\n      })\n      setRebuildChart(true)\n    }\n  }\n\n  const getBackground = useCallback(() => {\n    if (!chartRef || !backgroundColor) return DEFAULT_BACKGROUND_COLOR\n    const ctx = chartRef?.current?.canvas?.getContext('2d')\n    const gradient = ctx?.createLinearGradient(0, 0, 0, 270)\n    gradient?.addColorStop(0, backgroundColor)\n    gradient?.addColorStop(1, `${backgroundColor}00`)\n    const background = type === 'line' ? gradient : backgroundColor\n    return background\n  }, [backgroundColor, type])\n\n  useEffect(() => {\n    const chartInstance = chartRef.current\n    const dataInstace = chartInstance?.data.datasets?.find(({ data }) => data)\n    const compareData = isEqual(dataInstace?.data, chartData)\n    if (chartInstance && !compareData) {\n      chartInstance.data = formatData(chartData, labels, getBackground())\n      chartInstance?.update()\n    }\n  }, [chartData, formatData, getBackground, labels])\n\n  return <canvas id={chartId} height=\"270\" ref={canvasCallback}></canvas>\n}\n\nexport default SenChart\n","export class DailyReport {\n  programId = ''\n  time: number = 0\n  address: string = ''\n  mint: string = ''\n  actionType: string = ''\n  amountIn: bigint = BigInt(0)\n  amountOut: bigint = BigInt(0)\n  totalTrans: number = 0\n}\n","import { PoolData } from '@senswap/sen-js'\nimport { DailyReport } from '../entities/daily-report'\nimport { TransLog } from '../entities/trans-log'\n\nexport default class DailyReportService {\n  parserDailyReport(transLogs: TransLog[]): DailyReport[] {\n    let reports = new Array<DailyReport>()\n    for (const transLog of transLogs) {\n      reports = reports.concat(this.parseDailyReport(transLog))\n    }\n    return this.mergeDailyReport(reports)\n  }\n\n  parseDailyReport(transLog: TransLog): DailyReport[] {\n    const dailyReports = new Array<DailyReport>()\n    const { programId, time, actionType, actionTransfers } = transLog\n    for (const transfer of actionTransfers) {\n      const { source, destination, amount } = transfer\n\n      const report = new DailyReport()\n      report.programId = programId\n      report.time = time\n      report.actionType = actionType\n\n      if (source) {\n        const { mint, address } = source\n        dailyReports.push({\n          ...report,\n          mint: mint,\n          address: address,\n          amountOut: BigInt(amount),\n        })\n      }\n      if (destination) {\n        const { mint, address } = destination\n        dailyReports.push({\n          ...report,\n          mint: mint,\n          address: address,\n          amountIn: BigInt(amount),\n        })\n      }\n    }\n    return dailyReports\n  }\n\n  mergeDailyReport(dailyReports: Array<DailyReport>): Array<DailyReport> {\n    const map = new Map<string, DailyReport>()\n    for (const report of dailyReports) {\n      const key = `${report.time}^${report.address}^${report.mint}^${report.actionType}`\n      if (map.has(key)) {\n        const val = map.get(key)\n        if (val !== undefined) {\n          report.amountIn += val.amountIn\n          report.amountOut += val.amountOut\n          report.totalTrans += val.totalTrans\n        }\n      }\n      map.set(key, report)\n    }\n    const results = new Array<DailyReport>()\n    map.forEach((report) => results.push(report))\n    return results\n  }\n}\n\nexport type MapTreasury = { poolAddress: string; data: PoolData }\n","import { create, isIPFS } from 'ipfs-core'\nimport { asyncWait } from 'shared/util'\n\nclass IPFS {\n  private _ipfs: any = async () => {\n    try {\n      if (!window.ipfs) window.ipfs = await create()\n      return window.ipfs\n    } catch (er) {\n      await asyncWait(500)\n      return await this._ipfs()\n    }\n  }\n\n  static isCID = (cid: string | undefined | null): boolean => {\n    try {\n      if (!cid) return false\n      return isIPFS.multihash(cid)\n    } catch (er) {\n      return false\n    }\n  }\n\n  get = async (cid: string) => {\n    if (!IPFS.isCID(cid)) throw new Error('Invalid CID')\n    const ipfs = await this._ipfs()\n    const stream = await ipfs.cat(cid)\n    let raw = ''\n    for await (const chunk of stream) raw += Buffer.from(chunk).toString()\n    const data = JSON.parse(raw)\n    return data\n  }\n\n  set = async (data: object): Promise<string> => {\n    if (!data) throw new Error('Empty data')\n    const raw = JSON.stringify(data)\n    const ipfs = await this._ipfs()\n    const { path: cid } = await ipfs.add(raw)\n    return cid as string\n  }\n}\n\nexport default IPFS\n","import localForage from 'localforage'\nimport { account } from '@senswap/sen-js'\nimport IPFS from './ipfs'\n\n/**\n * Persistent Database\n */\nclass PDB {\n  readonly dbName: string\n  private driver: any\n  private ipfs: IPFS\n\n  constructor(walletAddress: string) {\n    if (!account.isAddress(walletAddress)) throw new Error('Invalid address')\n    this.dbName = walletAddress\n    this.driver = [localForage.WEBSQL, localForage.LOCALSTORAGE]\n    this.ipfs = new IPFS()\n  }\n\n  /**\n   * Local\n   */\n\n  createInstance = (appId: string): LocalForage => {\n    return localForage.createInstance({\n      driver: this.driver,\n      name: this.dbName,\n      storeName: appId,\n    })\n  }\n\n  dropInstance = async (appId: string): Promise<void> => {\n    const instance = this.createInstance(appId)\n    await instance.clear()\n    return await localForage.dropInstance({\n      name: this.dbName,\n      storeName: appId,\n    })\n  }\n\n  all = async (): Promise<any> => {\n    let data: any = {}\n    const appIds = (\n      ((await this.createInstance('sentre').getItem('appIds')) as string[]) ||\n      []\n    )\n      .flat()\n      .concat(['sentre'])\n    for (const appId of appIds) {\n      data[appId] = {}\n      const instance = this.createInstance(appId)\n      await instance.iterate((value: string, key: string) => {\n        data[appId][key] = value\n      })\n    }\n    return data\n  }\n\n  /**\n   * Cloud\n   */\n\n  fetch = async (cid: string) => {\n    return await this.ipfs.get(cid)\n  }\n\n  backup = async () => {\n    const data = await this.all()\n    return await this.ipfs.set(data)\n  }\n\n  restore = async (cid: string) => {\n    // Download data\n    const data = await this.fetch(cid)\n    // Apply to storage\n    for (const appId in data) {\n      const instance = await this.createInstance(appId)\n      for (const key in data[appId]) {\n        const value = data[appId][key]\n        await instance.setItem(key, value)\n      }\n    }\n    return data\n  }\n}\n\nexport default PDB\n\n/**\n * High abtraction pdb for app\n */\nexport const createPDB = (walletArress: string, appId: string) => {\n  return account.isAddress(walletArress)\n    ? new PDB(walletArress).createInstance(appId)\n    : undefined\n}\n","export class TransLog {\n  programId: string = ''\n  programInfo: ProgramInfo | undefined\n  signature: string = ''\n  blockTime: number = 0\n  time: number = 0\n  owner: string = ''\n  actionType: string = ''\n  actionTransfers: Array<ActionTransfer> = []\n  programTransfer: Array<ActionTransfer> = []\n}\n\nexport class ActionInfo {\n  address: string = ''\n  mint: string = ''\n  decimals: number = 0\n  preBalance: string = '0'\n  postBalance: string = '0'\n}\n/**\n * Amount is not same postBalance - preBalance\n * @postBalance and @preBalance are balance after all action (transaction)\n * @postBalance = @preBalance +- all @amount (multi amount in transaction)\n * @amount is value in 1 action\n */\nexport class ActionTransfer {\n  source: ActionInfo | undefined\n  destination: ActionInfo | undefined\n  amount: string = '0'\n}\ntype ProgramInfo = {\n  programId: string\n  data: string\n}\n","import {\n  ConfirmedSignatureInfo,\n  ConfirmedSignaturesForAddress2Options,\n  Connection,\n  ParsedConfirmedTransaction,\n  PublicKey,\n} from '@solana/web3.js'\n\nimport { OptionsFetchSignature } from '../../constants/transaction'\n\nconst DEFAULT_LIMIT = 700\nconst TRANSACTION_LIMIT = 200\n\nexport class Solana {\n  private conn: Connection = window.sentre.splt.connection\n\n  //Search for all signatures from last Signature and earlier\n  //So: If new collection (to now) -> last Signature = null\n  private async fetchSignatures(\n    address: PublicKey,\n    lastSignature?: string,\n    limit: number = DEFAULT_LIMIT,\n  ): Promise<Array<ConfirmedSignatureInfo>> {\n    if (limit > DEFAULT_LIMIT) limit = DEFAULT_LIMIT\n    const options: ConfirmedSignaturesForAddress2Options = {\n      limit: limit,\n      before: lastSignature,\n    }\n    return this.conn.getConfirmedSignaturesForAddress2(address, options)\n  }\n\n  private async fetchConfirmTransaction(signatures: string[]) {\n    let confirmedTransactions: ParsedConfirmedTransaction[] = []\n    let limit = TRANSACTION_LIMIT\n\n    const promiseTransGroup = []\n    for (let offset = 0; offset <= signatures.length / limit; offset++) {\n      const skip = offset * limit\n      const signaturesGroup = signatures.slice(skip, skip + limit)\n      promiseTransGroup.push(\n        this.conn.getParsedConfirmedTransactions(signaturesGroup),\n      )\n    }\n\n    const transGroups = await Promise.all(promiseTransGroup)\n    for (const transGroup of transGroups) {\n      //@ts-ignore\n      confirmedTransactions = confirmedTransactions.concat(transGroup)\n    }\n    return confirmedTransactions\n  }\n\n  async fetchTransactions(\n    programId: string,\n    options: OptionsFetchSignature,\n  ): Promise<ParsedConfirmedTransaction[]> {\n    const currentTime = new Date().getTime() / 1000\n    let { secondFrom, secondTo, lastSignature, limit } = options\n    secondFrom = Math.floor(secondFrom || 0)\n    secondTo = Math.floor(secondTo || currentTime)\n\n    const programPublicKey = new PublicKey(programId)\n    let signatures: string[] = []\n    let isStop = false\n\n    while (!isStop) {\n      const confirmedSignatureInfos: ConfirmedSignatureInfo[] =\n        await this.fetchSignatures(programPublicKey, lastSignature, limit)\n      if (!confirmedSignatureInfos?.length || isStop) break\n      for (const info of confirmedSignatureInfos) {\n        const blockTime = info.blockTime\n        if (!blockTime || blockTime > secondTo) continue\n        if (blockTime < secondFrom) {\n          isStop = true\n          break\n        }\n        lastSignature = info.signature\n        signatures.push(info.signature)\n      }\n\n      if (limit && signatures.length >= limit) break\n      if (confirmedSignatureInfos?.length < DEFAULT_LIMIT) break\n    }\n    const confirmedTransactions = await this.fetchConfirmTransaction(signatures)\n    return confirmedTransactions\n  }\n}\n","export enum ParsedType {\n  Transfer = 'transfer',\n}\n\nexport type ParsedAction = {\n  type: ParsedType\n  info: ParsedInfoTransfer\n}\n\nexport type ParsedInfoTransfer = {\n  source: string\n  destination: string\n  amount: string\n  lamports: number\n}\n\nexport type OptionsFetchSignature = {\n  limit?: number\n  lastSignature?: string\n  secondFrom?: number\n  secondTo?: number\n}\n","import moment from 'moment'\n\nconst SECOND_PER_MILLISECOND = 1000\n\nexport enum TimeFormat {\n  YMD = 'YYYYMMDD',\n  SortableTimePattern = 'YYYY-MM-DD HH:mm:ss',\n}\n\nexport class DateHelper {\n  private milliSeconds: number = new Date().valueOf()\n\n  setMilliSeconds(milliSeconds: number) {\n    this.milliSeconds = milliSeconds\n  }\n\n  static fromSeconds(seconds: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = seconds * SECOND_PER_MILLISECOND\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static fromYmd(ymd: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = moment(ymd, TimeFormat.YMD).valueOf()\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static getListDate(ymdFrom: number, ymdTo: number): number[] {\n    const dates: number[] = []\n    let dateFrom = DateHelper.fromYmd(ymdFrom)\n    const dateTo = DateHelper.fromYmd(ymdTo)\n    while (dateFrom.ymd() <= dateTo.ymd()) {\n      dates.push(dateFrom.ymd())\n      dateFrom = dateFrom.addDay()\n    }\n    return dates\n  }\n\n  format(dateFormat: TimeFormat): string {\n    const date = new Date(this.milliSeconds)\n    return moment(date).format(dateFormat)\n  }\n\n  subtractDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .subtract(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  addDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .add(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  seconds(): number {\n    return (\n      (this.milliSeconds - (this.milliSeconds % SECOND_PER_MILLISECOND)) /\n      SECOND_PER_MILLISECOND\n    )\n  }\n\n  ymd(): number {\n    return Number(this.format(TimeFormat.YMD))\n  }\n\n  static today(format: string = TimeFormat.YMD): string {\n    return moment().format(format)\n  }\n}\n","import base58 from 'bs58'\nimport { TransLog } from './../../entities/trans-log'\nimport { TransLogService } from './../translog'\n\nconst { struct } = require('soprox-abi')\n\nconst TRANSLOG_PROGRAM_DATA_SCHEMA = { key: 'code', type: 'u8' }\n\nexport enum SwapActionType {\n  InitPool = 'INITIALIZE_POOL',\n  AddLiquidity = 'ADD_LIQUIDITY',\n  RemoveLiquidity = 'REMOVE_LIQUIDITY',\n  Swap = 'SWAP',\n  Route = 'SWAP',\n}\n\nconst ACTION_TYPE: Record<number, SwapActionType> = {\n  0: SwapActionType.InitPool,\n  1: SwapActionType.AddLiquidity,\n  2: SwapActionType.RemoveLiquidity,\n  3: SwapActionType.Swap,\n  8: SwapActionType.Route,\n}\n\nexport default class PoolTransLogService extends TransLogService {\n  parseAction = (transLog: TransLog) => {\n    const programDataEncode = transLog.programInfo?.data\n    if (!programDataEncode) return ''\n    const dataBuffer = base58.decode(programDataEncode)\n    const actionLayout = new struct([TRANSLOG_PROGRAM_DATA_SCHEMA])\n    const programDataDecode: { code: number } = actionLayout.fromBuffer(\n      Buffer.from(dataBuffer),\n    )\n    return ACTION_TYPE[programDataDecode.code] || ''\n  }\n}\n","//@ts-ignore\nimport {\n  ParsedConfirmedTransaction,\n  ParsedInstruction,\n  ParsedMessageAccount,\n  PartiallyDecodedInstruction,\n  TokenBalance,\n} from '@solana/web3.js'\nimport { account } from '@senswap/sen-js'\n\nimport { ActionInfo, ActionTransfer, TransLog } from '../entities/trans-log'\nimport { Solana } from '../adapters/solana/client'\nimport {\n  OptionsFetchSignature,\n  ParsedAction,\n  ParsedInfoTransfer,\n  ParsedType,\n} from '../constants/transaction'\nimport { DateHelper } from '../helpers/date'\nimport { SOL_ADDRESS, SOL_DECIMALS } from '../constants/sol'\n\ntype InstructionData = ParsedInstruction | PartiallyDecodedInstruction\n\nexport class TransLogService {\n  protected parseAction = (transLog: TransLog) => {\n    return ''\n  }\n\n  async collect(\n    programId: string,\n    configs: OptionsFetchSignature,\n    filterTransLog?: (transLog: TransLog) => Promise<boolean>,\n  ): Promise<TransLog[]> {\n    let { lastSignature, limit } = configs\n    const solana = new Solana()\n    let transLogs: Array<TransLog> = []\n    let lastSignatureTmp = lastSignature\n    let isStop = false\n    let smartLimit = 200\n    while (!isStop) {\n      const confirmedTrans: ParsedConfirmedTransaction[] =\n        await solana.fetchTransactions(programId, {\n          ...configs,\n          lastSignature: lastSignatureTmp,\n          limit: smartLimit,\n        })\n\n      for (const trans of confirmedTrans) {\n        lastSignatureTmp = trans.transaction.signatures[0]\n        const log = this.parseTransLog(trans)\n        if (!log) continue\n        // filter\n        if (filterTransLog) {\n          const checked = await filterTransLog(log)\n          if (!checked) continue\n        }\n        transLogs.push(log)\n\n        if (limit && transLogs.length >= limit) {\n          isStop = true\n          break\n        }\n      }\n      if (limit) smartLimit = (smartLimit * limit) / (transLogs.length || 1)\n      if (!confirmedTrans.length) break\n      if (isStop) break\n    }\n    return transLogs\n  }\n\n  private parseTransLog(\n    confirmedTrans: ParsedConfirmedTransaction,\n  ): TransLog | undefined {\n    const { blockTime, meta, transaction } = confirmedTrans\n    if (!blockTime || !meta) return\n    const { postTokenBalances, preTokenBalances, postBalances, preBalances } =\n      meta\n    const { signatures, message } = transaction\n\n    const innerInstructionData = meta.innerInstructions?.[0]?.instructions || []\n    const instructionData = message.instructions[0] || []\n\n    const transLog = new TransLog()\n    transLog.signature = signatures[0]\n    transLog.blockTime = blockTime\n    transLog.time = DateHelper.fromSeconds(blockTime).ymd()\n    transLog.programId = instructionData.programId.toString()\n\n    const mapAccount = this.parseAccountInfo(\n      message.accountKeys,\n      postTokenBalances || [],\n      preTokenBalances || [],\n      postBalances,\n      preBalances,\n    )\n    // system program transaction\n    if (this.isParsedInstruction(instructionData)) {\n      transLog.programTransfer = this.parseListActionTransfer(\n        [instructionData],\n        mapAccount,\n      )\n      return transLog\n    }\n    // smart contract transaction\n    transLog.actionTransfers = this.parseListActionTransfer(\n      innerInstructionData,\n      mapAccount,\n    )\n    transLog.programInfo = {\n      programId: instructionData.programId.toString(),\n      data: (instructionData as PartiallyDecodedInstruction).data,\n    }\n    transLog.actionType = ''\n    transLog.actionType = this.parseAction(transLog)\n\n    return transLog\n  }\n\n  private isParsedInstruction(instructionData: InstructionData) {\n    return (instructionData as ParsedInstruction).parsed !== undefined\n  }\n\n  private parseListActionTransfer(\n    actions: InstructionData[],\n    mapAccount: Map<string, ActionInfo>,\n  ) {\n    const actionTransfer: ActionTransfer[] = []\n    for (const action of actions) {\n      if (!this.isParsedInstruction(action)) continue\n      const actionParsed: ParsedAction =\n        (action as ParsedInstruction).parsed || {}\n      switch (actionParsed.type) {\n        case ParsedType.Transfer:\n          const info: ParsedInfoTransfer = actionParsed.info\n          const parsedAction = this.parseActionTransfer(info, mapAccount)\n          if (parsedAction) actionTransfer.push(parsedAction)\n          break\n        default:\n          break\n      }\n    }\n    return actionTransfer\n  }\n\n  private parseActionTransfer(\n    parsedTransfer: ParsedInfoTransfer,\n    mapAccount: Map<string, ActionInfo>,\n  ): ActionTransfer | undefined {\n    const { source, destination, amount, lamports } = parsedTransfer\n    const amountTransfer = amount || lamports.toString()\n\n    if (\n      !amountTransfer ||\n      !mapAccount.has(source) ||\n      !mapAccount.has(destination)\n    )\n      return\n\n    const actionTransfer = new ActionTransfer()\n    actionTransfer.source = mapAccount.get(source)\n    actionTransfer.destination = mapAccount.get(destination)\n    actionTransfer.amount = amountTransfer\n    return actionTransfer\n  }\n\n  private parseAccountInfo(\n    accountKeys: Array<ParsedMessageAccount>,\n    postTokenBalances: Array<TokenBalance>,\n    preTokenBalances: Array<TokenBalance>,\n    postBalances: number[],\n    preBalances: number[],\n  ): Map<string, ActionInfo> {\n    const mapAccountInfo = new Map<string, ActionInfo>()\n\n    // Associated Address\n    for (const postBalance of postTokenBalances) {\n      const { accountIndex, mint, uiTokenAmount } = postBalance\n      const info = new ActionInfo()\n      info.address = accountKeys[accountIndex].pubkey.toString()\n      info.postBalance = uiTokenAmount.amount\n      info.mint = mint\n      info.decimals = uiTokenAmount.decimals\n      mapAccountInfo.set(info.address, info)\n    }\n\n    for (const preBalance of preTokenBalances) {\n      const { accountIndex, uiTokenAmount } = preBalance\n      const address = accountKeys[accountIndex].pubkey.toString()\n      const info = mapAccountInfo.get(address) || new ActionInfo()\n      info.preBalance = uiTokenAmount.amount\n      mapAccountInfo.set(info.address, info)\n    }\n\n    // Wallet address\n    accountKeys.forEach((accountData, idx) => {\n      const address = accountData.pubkey.toString()\n      if (!account.isAssociatedAddress(address)) {\n        const info = mapAccountInfo.get(address) || new ActionInfo()\n        info.address = address\n        info.mint = SOL_ADDRESS\n        info.postBalance = String(postBalances[idx] || 0) // lamports\n        info.preBalance = String(preBalances[idx] || 0) // lamports\n        info.decimals = SOL_DECIMALS\n        mapAccountInfo.set(info.address, info)\n      }\n    })\n\n    return mapAccountInfo\n  }\n}\n","export const SOL_ADDRESS = '11111111111111111111111111111111'\n\nexport const SOL_DECIMALS = 9\n","import { PoolData, utils } from '@senswap/sen-js'\n\nimport DailyReportService from '../daily-report'\nimport PDB from 'shared/pdb'\nimport PoolTransLogService, { SwapActionType } from './poolTranslog'\nimport { TransLog } from 'app/stat/entities/trans-log'\n\nimport { fetchCGK } from 'shared/util'\nimport TokenProvider from 'os/providers/tokenProvider'\nimport { TotalSummary } from 'app/stat/constants/summary'\nimport { DailyReport } from 'app/stat/entities/daily-report'\nimport { DateHelper } from 'app/stat/helpers/date'\n\nconst DATE_RANGE = 11\n\nexport default class PoolService {\n  poolAddress: string\n  poolData: PoolData | undefined\n  poolTransLogService = new PoolTransLogService()\n  dailyReportService = new DailyReportService()\n  tokenProvider = new TokenProvider()\n\n  constructor(poolAddress: string) {\n    this.poolAddress = poolAddress\n  }\n\n  getPoolData = async (): Promise<PoolData> => {\n    if (!this.poolData) {\n      const swap = window.sentre.swap\n      this.poolData = await swap.getPoolData(this.poolAddress)\n    }\n    return this.poolData\n  }\n\n  getUsd = async (mint: string, amountBigint: bigint) => {\n    const mintInfo = await this.tokenProvider.findByAddress(mint)\n    if (!mintInfo) return 0\n    const { decimals, extensions } = mintInfo\n    try {\n      const cgkData = await fetchCGK(extensions?.coingeckoId)\n      if (!cgkData?.price) return 0\n      const amount = utils.undecimalize(amountBigint, decimals)\n      return Number(amount) * cgkData.price\n    } catch (error) {\n      return 0\n    }\n  }\n\n  fetchTransLog = async (timeFrom: number, timeTo: number) => {\n    const db = new PDB(this.poolAddress).createInstance('stat')\n    let cacheTransLog: TransLog[] = (await db.getItem('translogs')) || []\n    cacheTransLog = cacheTransLog.sort((a, b) => b.blockTime - a.blockTime)\n    const fistTransLog = cacheTransLog[0]\n    const lastTransLog = cacheTransLog[cacheTransLog.length - 1]\n\n    if (fistTransLog && lastTransLog) {\n      const [beginTransLogs] = await Promise.all([\n        this.poolTransLogService.collect(this.poolAddress, {\n          secondFrom: fistTransLog.blockTime,\n          secondTo: timeTo,\n        }),\n      ])\n      cacheTransLog = cacheTransLog.filter(\n        (trans) => trans.blockTime > timeFrom,\n      )\n      cacheTransLog = [...beginTransLogs, ...cacheTransLog]\n    } else {\n      cacheTransLog = await this.poolTransLogService.collect(this.poolAddress, {\n        secondFrom: timeFrom,\n        secondTo: timeTo,\n      })\n    }\n    await db.setItem('translogs', cacheTransLog)\n    return cacheTransLog\n  }\n  getDailyInfo = async () => {\n    let timeTo = new DateHelper()\n    const timeFrom = new DateHelper().subtractDay(DATE_RANGE)\n    const {\n      mint_a,\n      mint_b,\n      treasury_a,\n      treasury_b,\n      reserve_a,\n      reserve_b,\n      fee_ratio,\n      tax_ratio,\n    } = await this.getPoolData()\n\n    // fetch transLog\n    const transLogs = await this.fetchTransLog(\n      timeFrom.seconds(),\n      timeTo.seconds(),\n    )\n    // parse daily + create map time\n    const dailyReports = this.dailyReportService.parserDailyReport(transLogs)\n    const mapTimeDailyReport: Record<number, DailyReport[]> = {}\n    for (const report of dailyReports) {\n      const { time, address } = report\n      // filter daily report\n      if (address !== treasury_a && address !== treasury_b) continue\n      if (!mapTimeDailyReport[time]) mapTimeDailyReport[time] = []\n      mapTimeDailyReport[time].push(report)\n    }\n    // parse summary\n    const tvlA = await this.getUsd(mint_a, reserve_a)\n    const tvlB = await this.getUsd(mint_b, reserve_b)\n\n    const mapTimeTotal: Record<string, TotalSummary> = {}\n\n    mapTimeTotal[timeTo.ymd()] = {\n      tvl: tvlA + tvlB,\n      fee: 0,\n      volume: 0,\n    }\n\n    while (timeTo.ymd() > timeFrom.ymd()) {\n      const reports = mapTimeDailyReport[timeTo.ymd()] || []\n      const currentReport = mapTimeTotal[timeTo.ymd()]\n      const prevDate = timeTo.subtractDay(1)\n      if (!mapTimeTotal[prevDate.ymd()] && prevDate.ymd() >= timeFrom.ymd()) {\n        mapTimeTotal[prevDate.ymd()] = {\n          tvl: currentReport.tvl,\n          fee: 0,\n          volume: 0,\n        }\n      }\n      for (const report of reports) {\n        const amountOut = await this.getUsd(report.mint, report.amountOut)\n        const amountIn = await this.getUsd(report.mint, report.amountIn)\n        if (mapTimeTotal[prevDate.ymd()]) {\n          mapTimeTotal[prevDate.ymd()].tvl += amountOut - amountIn\n          if (mapTimeTotal[prevDate.ymd()].tvl < 0)\n            mapTimeTotal[prevDate.ymd()].tvl = 0\n        }\n        if (report.actionType === SwapActionType.Swap) {\n          mapTimeTotal[timeTo.ymd()].volume += amountIn + amountOut\n          const fee =\n            Number(utils.undecimalize(fee_ratio + tax_ratio, 9)) * amountOut\n          mapTimeTotal[timeTo.ymd()].fee += fee\n        }\n      }\n      timeTo = timeTo.subtractDay(1)\n    }\n\n    return mapTimeTotal\n  }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport moment from 'moment'\n\nimport { Card, Col, Row, Typography, Spin, Space, Button } from 'antd'\nimport SenChart from 'app/components/chart'\nimport PoolTVL from 'app/components/poolTVL'\n\nimport PoolService from 'app/stat/logic/pool/pool'\nimport { AppState } from 'app/model'\nimport { DataLoader } from 'shared/dataloader'\nimport IonIcon from 'shared/antd/ionicon'\nimport { useUI } from 'senhub/providers'\n\nconst CHART_CONFIGS = {\n  color: '#40A9FF',\n  radius: 0,\n  hitRadius: 14,\n  tooltip: 'TVL',\n  transparent: 'transparent',\n}\nconst TTL_5_MIN = 300000\n\nconst TotalValueLocked = () => {\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n  const [chartData, setChartData] = useState<{ data: number; label: string }[]>(\n    [],\n  )\n  const [isLoading, setIsLoading] = useState(false)\n  const [visible, setVisible] = useState(true)\n  const {\n    ui: { width },\n  } = useUI()\n\n  const tvlChartConfigs = {\n    borderColor: CHART_CONFIGS.transparent,\n    borderRadius: CHART_CONFIGS.radius,\n    pointRadius: CHART_CONFIGS.radius,\n    tooltip: CHART_CONFIGS.tooltip,\n    pointHitRadius: CHART_CONFIGS.hitRadius,\n    pointHoverRadius: CHART_CONFIGS.radius,\n    backgroundColor: CHART_CONFIGS.color,\n  }\n\n  const fetchChart = useCallback(async () => {\n    if (!selectedPoolAddress) return\n    try {\n      setIsLoading(true)\n      const poolService = new PoolService(selectedPoolAddress)\n      const poolStat = await DataLoader.load(\n        'getDailyInfo' + selectedPoolAddress,\n        poolService.getDailyInfo,\n        { cache: { ttl: TTL_5_MIN } },\n      )\n      const chartData = Object.keys(poolStat).map((time) => {\n        return {\n          data: poolStat[time].tvl,\n          label: moment(time, 'YYYYMMDD').format('MM/DD'),\n        }\n      })\n      setChartData(chartData)\n    } catch (error) {\n    } finally {\n      setIsLoading(false)\n    }\n  }, [selectedPoolAddress])\n  useEffect(() => {\n    fetchChart()\n  }, [fetchChart])\n\n  const iconName = visible ? 'chevron-down-outline' : 'chevron-forward-outline'\n  const isMobile = width < 768\n\n  useEffect(() => {\n    if (!isMobile) return setVisible(true)\n    return setVisible(false)\n  }, [isMobile])\n\n  return (\n    <Card bordered={false} style={{ height: 'auto' }}>\n      <Spin tip=\"Loading...\" spinning={isLoading}>\n        <Row gutter={[24, 24]} align=\"middle\">\n          <Col flex=\"auto\">\n            <Typography.Title level={4}>Total Value Locked</Typography.Title>\n          </Col>\n          <Col>\n            <Space size={0}>\n              <Typography.Title level={2}>\n                <PoolTVL poolAddress={selectedPoolAddress} />\n              </Typography.Title>\n              {isMobile && (\n                <Button\n                  type=\"text\"\n                  shape=\"circle\"\n                  icon={<IonIcon name={iconName} />}\n                  onClick={() => setVisible(!visible)}\n                />\n              )}\n            </Space>\n          </Col>\n          {visible && (\n            <Col span={24}>\n              <SenChart\n                chartData={chartData.map((e) => e.data)}\n                labels={chartData.map((e) => e.label)}\n                configs={tvlChartConfigs}\n              />\n            </Col>\n          )}\n        </Row>\n      </Spin>\n    </Card>\n  )\n}\n\nexport default TotalValueLocked\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport moment from 'moment'\n\nimport { Button, Card, Col, Row, Space, Spin, Typography } from 'antd'\nimport SenChart from 'app/components/chart'\n\nimport PoolService from 'app/stat/logic/pool/pool'\nimport { AppState } from 'app/model'\nimport { DataLoader } from 'shared/dataloader'\nimport { numeric } from 'shared/util'\nimport { useUI } from 'senhub/providers'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst CHART_CONFIGS = {\n  color: '#40A9FF',\n  radius: 0,\n  hitRadius: 14,\n  tooltip: 'TVL',\n  transparent: 'transparent',\n}\nconst TTL_5_MIN = 300000\n\nconst Volume24h = () => {\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n  const [chartData, setChartData] = useState<{ data: number; label: string }[]>(\n    [],\n  )\n  const [loading, setLoading] = useState(false)\n  const [visible, setVisible] = useState(true)\n  const {\n    ui: { width },\n  } = useUI()\n\n  const volumeChartConfigs = {\n    borderColor: CHART_CONFIGS.transparent,\n    borderRadius: CHART_CONFIGS.radius,\n    pointRadius: CHART_CONFIGS.radius,\n    tooltip: CHART_CONFIGS.tooltip,\n    pointHitRadius: CHART_CONFIGS.hitRadius,\n    pointHoverRadius: CHART_CONFIGS.radius,\n    backgroundColor: CHART_CONFIGS.color,\n  }\n\n  const fetchChart = useCallback(async () => {\n    if (!selectedPoolAddress) return\n    try {\n      setLoading(true)\n      const poolService = new PoolService(selectedPoolAddress)\n      const poolStat = await DataLoader.load(\n        'getDailyInfo' + selectedPoolAddress,\n        poolService.getDailyInfo,\n        { cache: { ttl: TTL_5_MIN } },\n      )\n      const chartData = Object.keys(poolStat).map((time) => {\n        return {\n          data: poolStat[time].volume,\n          label: moment(time, 'YYYYMMDD').format('MM/DD'),\n        }\n      })\n      setChartData(chartData)\n    } catch (error) {\n    } finally {\n      setLoading(false)\n    }\n  }, [selectedPoolAddress])\n\n  useEffect(() => {\n    fetchChart()\n  }, [fetchChart])\n\n  const iconName = visible ? 'chevron-down-outline' : 'chevron-forward-outline'\n  const isMobile = width < 768\n\n  useEffect(() => {\n    if (!isMobile) return setVisible(true)\n    return setVisible(false)\n  }, [isMobile])\n\n  const vol24h = useMemo(() => {\n    const today = chartData[chartData.length - 1]?.data || 0\n    const yesterday = chartData[chartData.length - 2]?.data || 0\n    const house = new Date().getHours()\n    return today + (house * yesterday) / 24\n  }, [chartData])\n\n  return (\n    <Card bordered={false}>\n      <Spin tip=\"Loading...\" spinning={loading}>\n        <Row gutter={[24, 24]} align=\"middle\">\n          <Col flex=\"auto\">\n            <Typography.Title level={4}>24h Volume</Typography.Title>\n          </Col>\n          <Col>\n            <Space>\n              <Typography.Title level={2}>\n                ${numeric(vol24h).format('0,0.[0]a')}\n              </Typography.Title>\n              {isMobile && (\n                <Button\n                  type=\"text\"\n                  shape=\"circle\"\n                  icon={<IonIcon name={iconName} />}\n                  onClick={() => setVisible(!visible)}\n                />\n              )}\n            </Space>\n          </Col>\n          {visible && (\n            <Col span={24}>\n              <SenChart\n                type=\"bar\"\n                chartData={chartData.map((e) => e.data)}\n                labels={chartData.map((e) => e.label)}\n                configs={volumeChartConfigs}\n              />\n            </Col>\n          )}\n        </Row>\n      </Spin>\n    </Card>\n  )\n}\n\nexport default Volume24h\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { AppState } from 'app/model'\nimport { OrderState } from 'app/constant'\nimport { notifyError, notifySuccess } from 'app/helper'\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\n\nconst Action = ({ orderAddress }: { orderAddress: string }) => {\n  const [loading, setLoading] = useState(false)\n  const { orders } = useSelector((state: AppState) => state)\n  const { state, locked_time, updated_at } = orders[orderAddress] || {}\n\n  const onCancel = async () => {\n    try {\n      const { wallet } = window.sentre\n      const {\n        sol: { purchasing },\n      } = configs\n      if (!wallet) throw new Error('Wallet is not connected')\n      await setLoading(true)\n      const { txId } = await purchasing.cancelOrder(orderAddress, wallet)\n      return notifySuccess('Cancel the order', txId)\n    } catch (er: any) {\n      return notifyError(er)\n    } finally {\n      return setLoading(false)\n    }\n  }\n\n  const onRedeem = async () => {\n    try {\n      const { wallet } = window.sentre\n      const {\n        sol: { purchasing },\n      } = configs\n      if (!wallet) throw new Error('Wallet is not connected')\n      await setLoading(true)\n      const { txId } = await purchasing.redeemOrder(orderAddress, wallet)\n      return notifySuccess('Redeem the order', txId)\n    } catch (er: any) {\n      return notifyError(er)\n    } finally {\n      return setLoading(false)\n    }\n  }\n\n  const onDetail = async () => {\n    return window.open(explorer(orderAddress), '_blank')\n  }\n\n  if (state === OrderState.Open)\n    return (\n      <Button type=\"text\" size=\"small\" loading={loading} onClick={onCancel}>\n        Cancel\n      </Button>\n    )\n  if (state === OrderState.Approved) {\n    const locked = Number(locked_time) > Date.now() / 1000 - Number(updated_at)\n    return (\n      <Button\n        type=\"primary\"\n        size=\"small\"\n        disabled={locked}\n        loading={loading}\n        onClick={onRedeem}\n      >\n        Redeem\n      </Button>\n    )\n  }\n  return (\n    <Button\n      type=\"text\"\n      size=\"small\"\n      icon={<IonIcon name=\"open-outline\" />}\n      onClick={onDetail}\n    >\n      Detail\n    </Button>\n  )\n}\n\nexport default Action\n","import { Typography } from 'antd'\n\nconst Caption = ({ title }: { title: string }) => {\n  return (\n    <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n      {title}\n    </Typography.Text>\n  )\n}\n\nexport default Caption\n","import { Tag, TagProps } from 'antd'\n\nimport { OrderState } from 'app/constant'\n\nconst BorderlessTag = (props: TagProps) => {\n  return <Tag style={{ border: 'none' }} {...props} />\n}\nconst OrderStatus = ({ state }: { state: number }) => {\n  if (state === OrderState.Open)\n    return <BorderlessTag color=\"gold\">Pending</BorderlessTag>\n  if (state === OrderState.Approved)\n    return <BorderlessTag color=\"cyan\">Approved</BorderlessTag>\n  if (state === OrderState.Done)\n    return <BorderlessTag color=\"green\">Done</BorderlessTag>\n  if (state === OrderState.Rejected)\n    return <BorderlessTag color=\"red\">Rejected</BorderlessTag>\n  if (state === OrderState.Canceled)\n    return <BorderlessTag color=\"volcano\">Canceled</BorderlessTag>\n  return <BorderlessTag>Unknown</BorderlessTag>\n}\n\nexport default OrderStatus\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { utils } from '@senswap/sen-js'\nimport moment from 'moment'\n\nimport { Card, Row, Col, Space, Typography, Button, Collapse } from 'antd'\nimport { MintSymbol } from 'shared/antd/mint'\nimport IonIcon from 'shared/antd/ionicon'\nimport Action from './action'\nimport Caption from 'app/components/caption'\nimport OrderStatus from 'app/components/orderStatus'\n\nimport { AppState } from 'app/model'\nimport { numeric, shortenAddress } from 'shared/util'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\n\nconst Order = ({ orderAddress }: { orderAddress: string }) => {\n  const [visible, setVisible] = useState(false)\n  const { orders, retailers } = useSelector((state: AppState) => state)\n\n  const {\n    retailer,\n    bid_amount,\n    ask_amount,\n    locked_time,\n    state,\n    created_at,\n    updated_at,\n  } = orders[orderAddress] || {}\n  const { mint_bid, mint_ask } = retailers[retailer] || {}\n  const bidDecimals = useMintDecimals(mint_bid) || 0\n  const askDecimals = useMintDecimals(mint_ask) || 0\n  const bidAmount = utils.undecimalize(bid_amount, bidDecimals)\n  const askAmount = utils.undecimalize(ask_amount, askDecimals)\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <Card\n          bordered={false}\n          bodyStyle={{ padding: 12 }}\n          className=\"order-card order-card-bg\"\n        >\n          <Row gutter={[12, 12]}>\n            <Col span={24}>\n              <Row gutter={[12, 12]}>\n                <Col flex=\"auto\">\n                  <Space style={{ fontSize: 12 }}>\n                    <Typography.Text type=\"secondary\">Order ID</Typography.Text>\n                    <Typography.Text>\n                      {shortenAddress(orderAddress)}\n                    </Typography.Text>\n                  </Space>\n                </Col>\n                <Col>\n                  <Button\n                    type=\"text\"\n                    size=\"small\"\n                    icon={\n                      <IonIcon\n                        name={\n                          visible\n                            ? 'chevron-down-outline'\n                            : 'chevron-forward-outline'\n                        }\n                      />\n                    }\n                    onClick={() => setVisible(!visible)}\n                  />\n                </Col>\n              </Row>\n            </Col>\n            <Col span={24}>\n              <Row gutter={[8, 8]} justify=\"space-between\">\n                <Col>\n                  <Space direction=\"vertical\">\n                    <Caption title=\"Payment\" />\n                    <Typography.Text ellipsis>\n                      {numeric(bidAmount).format('0,0.[0000]')} LP\n                    </Typography.Text>\n                  </Space>\n                </Col>\n                <Col>\n                  <Space direction=\"vertical\">\n                    <Caption title=\"Receiving\" />\n                    <Typography.Text style={{ fontWeight: 700 }} ellipsis>\n                      {numeric(askAmount).format('0,0.[0000]')}{' '}\n                      <MintSymbol mintAddress={mint_ask} />\n                    </Typography.Text>\n                  </Space>\n                </Col>\n                <Col>\n                  <Space direction=\"vertical\">\n                    <Caption title=\"Locktime\" />\n                    <Typography.Text>\n                      {Number(locked_time) / (24 * 60 * 60)} days\n                    </Typography.Text>\n                  </Space>\n                </Col>\n                <Col>\n                  <Space direction=\"vertical\">\n                    <Caption title=\"Status\" />\n                    <OrderStatus state={state} />\n                  </Space>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n      <Col span={24}>\n        <Collapse\n          activeKey={visible.toString()}\n          className=\"expand-card expand-card-bg\"\n        >\n          <Collapse.Panel header={null} key={'true'} showArrow={false}>\n            <Row gutter={[8, 8]} justify=\"space-between\" align=\"middle\">\n              <Col>\n                <Space direction=\"vertical\">\n                  <Caption title=\"Created At\" />\n                  <Typography.Text ellipsis>\n                    {moment(Number(created_at) * 1000).format(\n                      'HH:mm DD/MM/YYYY',\n                    )}\n                  </Typography.Text>\n                </Space>\n              </Col>\n              <Col>\n                <Space direction=\"vertical\">\n                  <Caption title=\"Updated At\" />\n                  <Typography.Text ellipsis>\n                    {moment(Number(updated_at) * 1000).format(\n                      'HH:mm DD/MM/YYYY',\n                    )}\n                  </Typography.Text>\n                </Space>\n              </Col>\n              <Col>\n                <Action orderAddress={orderAddress} />\n              </Col>\n            </Row>\n          </Collapse.Panel>\n        </Collapse>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Order\n","import { useSelector } from 'react-redux'\nimport LazyLoad from '@senswap/react-lazyload'\n\nimport { Col, Empty, Row } from 'antd'\nimport Order from './order'\n\nimport { AppState } from 'app/model'\nimport { usePool } from 'senhub/providers'\n\nconst Redeem = ({ poolAddress }: { poolAddress: string }) => {\n  const { orders, retailers } = useSelector((state: AppState) => state)\n  const { pools } = usePool()\n\n  const { mint_lpt } = pools[poolAddress] || {}\n  const orderAddresses = Object.keys(orders).filter((orderAddress) => {\n    const { retailer } = orders[orderAddress] || {}\n    const { mint_bid } = retailers[retailer] || {}\n    return mint_bid === mint_lpt\n  })\n\n  return (\n    <Row\n      gutter={[16, 16]}\n      style={{ height: 282 }}\n      className=\"scrollbar\"\n      justify=\"center\"\n      align=\"top\"\n    >\n      {!orderAddresses.length && (\n        <Col>\n          <Empty />\n        </Col>\n      )}\n      {orderAddresses.map((orderAddress) => (\n        <Col span={24} key={orderAddress}>\n          <LazyLoad height={125} overflow>\n            <Order orderAddress={orderAddress} />\n          </LazyLoad>\n        </Col>\n      ))}\n    </Row>\n  )\n}\n\nexport default Redeem\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { AppState } from 'app/model'\nimport { useWallet } from 'senhub/providers'\nimport configs from 'app/configs'\n\nconst LIMIT = 10000\n\nconst useNextOrderIndex = (retailerAddress: string): number => {\n  const [index, setIndex] = useState(0)\n  const { orders } = useSelector((state: AppState) => state)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const orderAddresses = Object.keys(orders)\n  const searchIndex = useCallback(async () => {\n    try {\n      const {\n        sol: { purchasing },\n      } = configs\n      let index = 0\n      while (index < LIMIT) {\n        const orderAddress = await purchasing.deriveOrderAddress(\n          index,\n          walletAddress,\n          retailerAddress,\n        )\n        if (!orderAddresses.includes(orderAddress)) break\n        index = index + 1\n      }\n      return setIndex(index)\n    } catch (er: any) {\n      return setIndex(0)\n    }\n  }, [retailerAddress, orderAddresses, walletAddress])\n\n  useEffect(() => {\n    searchIndex()\n  }, [searchIndex])\n\n  return index\n}\n\nexport default useNextOrderIndex\n","import { Fragment, ReactNode, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport moment from 'moment'\nimport { utils } from '@senswap/sen-js'\n\nimport { Button, Col, Card, Modal, Row, Space, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\nimport { notifyError, notifySuccess } from 'app/helper'\nimport configs from 'app/configs'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport useNextOrderIndex from 'app/hooks/useNextOrderIndex'\nimport { useMintPrice } from 'app/hooks/useMintPrice'\nimport { VESTING } from 'app/constant'\nimport './index.less'\n\nconst Content = ({\n  label = '',\n  avatar = <Fragment />,\n  value = '',\n  subValue = '',\n  floatRight = false,\n}: {\n  label?: string\n  avatar?: ReactNode\n  value?: string | number\n  subValue?: string | number | undefined\n  floatRight?: boolean\n}) => {\n  const textAlign = floatRight ? 'right' : 'left'\n  return (\n    <Space size={12} direction=\"vertical\" style={{ textAlign }}>\n      <Typography.Text>{label}</Typography.Text>\n      {avatar}\n      <Typography.Title level={3}>{value}</Typography.Title>\n      {subValue && (\n        <Typography.Title\n          level={5}\n          style={{ textDecoration: 'line-through' }}\n          type=\"secondary\"\n        >\n          {subValue}\n        </Typography.Title>\n      )}\n    </Space>\n  )\n}\n\nconst TimeInfo = ({\n  label = '',\n  value = '',\n}: {\n  label?: string\n  value?: string | number\n}) => {\n  return (\n    <Row gutter={[16, 16]}>\n      <Col flex=\"auto\">\n        <Typography.Text>{label}</Typography.Text>\n      </Col>\n      <Col>\n        <Typography.Title level={5}>{value}</Typography.Title>\n      </Col>\n    </Row>\n  )\n}\n\nconst Confirm = ({\n  retailerAddress,\n  amount,\n  locktime,\n  visible = false,\n  onClose = () => {},\n}: {\n  retailerAddress: string\n  amount: string\n  locktime: number\n  visible?: boolean\n  onClose?: () => void\n}) => {\n  const [loading, setLoading] = useState(false)\n  const {\n    retailers: { [retailerAddress]: retailerData },\n  } = useSelector((state: AppState) => state)\n  const index = useNextOrderIndex(retailerAddress)\n  const bidDecimals = useMintDecimals(retailerData.mint_bid) || 0\n  const askDecimals = useMintDecimals(retailerData.mint_ask) || 0\n  const bidPrice = useMintPrice(retailerData.mint_bid, true)\n  const askPrice = useMintPrice(retailerData.mint_ask, true)\n\n  const lockedTime = BigInt(Math.floor(locktime * 24 * 60 * 60))\n  const discount =\n    VESTING.find(({ locktime: l }) => l === locktime)?.discount || 0\n  // Compute amounts\n  const valuation = parseFloat(amount) * bidPrice\n  const bidAmount = utils.decimalize(amount, bidDecimals)\n  const askAmount = !askPrice\n    ? BigInt(0)\n    : utils.decimalize((valuation * (1 + discount)) / askPrice, askDecimals)\n\n  const onPlaceOrder = async () => {\n    try {\n      const {\n        sol: { purchasing },\n      } = configs\n      const { wallet } = window.sentre\n      if (!wallet) throw new Error('Wallet is not connected')\n      await setLoading(true)\n      // Execute\n      const { txId } = await purchasing.placeOrder(\n        index,\n        bidAmount,\n        askAmount,\n        lockedTime,\n        retailerAddress,\n        wallet,\n      )\n      notifySuccess('Place a new order', txId)\n      return onClose()\n    } catch (er: any) {\n      return notifyError(er)\n    } finally {\n      return setLoading(false)\n    }\n  }\n\n  return (\n    <Modal\n      visible={visible}\n      footer={false}\n      closeIcon={<IonIcon name=\"close-outline\" />}\n      onCancel={onClose}\n    >\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Confirm</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[16, 16]}>\n            <Col flex=\"auto\">\n              <Content\n                label=\"Payment\"\n                avatar={\n                  <Space>\n                    <MintAvatar mintAddress={retailerData.mint_bid} />\n                    <Typography.Title level={5}>\n                      <MintSymbol mintAddress={retailerData.mint_bid} />\n                    </Typography.Title>\n                  </Space>\n                }\n                value={`${numeric(amount).format('0,0.[0000]')} LP`}\n              />\n            </Col>\n            <Col>\n              <Content\n                label=\"Receiving\"\n                avatar={\n                  <Space>\n                    <MintAvatar mintAddress={retailerData.mint_ask} />\n                    <Typography.Title level={5}>\n                      <MintSymbol mintAddress={retailerData.mint_ask} />\n                    </Typography.Title>\n                  </Space>\n                }\n                value={numeric(\n                  utils.undecimalize(askAmount, askDecimals),\n                ).format('0,0.[0000]')}\n                subValue={numeric(valuation / askPrice).format('0,0.[0000]')}\n                floatRight\n              />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Card\n            className=\"confirm-sub-card\"\n            bodyStyle={{ padding: 16 }}\n            bordered={false}\n          >\n            <Row gutter={[12, 12]}>\n              <Col span={24}>\n                <TimeInfo\n                  label=\"Created At\"\n                  value={moment().format('HH:mm DD/MM/YYYY')}\n                />\n              </Col>\n              <Col span={24}>\n                <TimeInfo label=\"Locked Time\" value={`${locktime} Days`} />\n              </Col>\n              <Col span={24}>\n                <TimeInfo\n                  label=\"Multiplier\"\n                  value={`${(1 + discount) * 100}%`}\n                />\n              </Col>\n            </Row>\n          </Card>\n        </Col>\n        <Col span={24}>\n          <Button type=\"primary\" onClick={onPlaceOrder} loading={loading} block>\n            Confirm\n          </Button>\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\nexport default Confirm\n","import { useSelector } from 'react-redux'\nimport { utils } from '@senswap/sen-js'\n\nimport { Col, Divider, Row, Space, Typography, Button } from 'antd'\nimport NumericInput from 'shared/antd/numericInput'\nimport { MintSymbol } from 'shared/antd/mint'\n\nimport { usePool } from 'senhub/providers'\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\n\nconst Form = ({\n  poolAddress,\n  value,\n  onChange,\n}: {\n  poolAddress: string\n  value: string\n  onChange: (value: string) => void\n}) => {\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const { pools } = usePool()\n\n  const lptAddress =\n    Object.keys(lpts).find((key) => lpts[key].pool === poolAddress) || ''\n  const { amount } = lpts[lptAddress] || {}\n  const lpt = Number(utils.undecimalize(amount || BigInt(0), 9))\n\n  const poolData = pools[poolAddress]\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col flex=\"auto\">\n        <Typography.Text>I want to pay</Typography.Text>\n      </Col>\n      <Col>\n        <Space size={4} className=\"caption\">\n          <Typography.Text type=\"secondary\">Available:</Typography.Text>\n          <Typography.Text type=\"secondary\">\n            {numeric(lpt).format('0,0.[0000]')} LP\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <NumericInput\n          value={value}\n          onValue={onChange}\n          prefix={\n            <Space size={4}>\n              <MintSymbol mintAddress={poolData?.mint_lpt} />\n              <Divider type=\"vertical\" />\n            </Space>\n          }\n          suffix={\n            <Button\n              type=\"text\"\n              style={{ marginRight: -7 }}\n              size=\"small\"\n              onClick={() => onChange(lpt.toString())}\n            >\n              MAX\n            </Button>\n          }\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Form\n","import { ReactNode } from 'react'\n\nimport { Col, Popover, Row, Space, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { VESTING } from 'app/constant'\n\nconst PriceInfo = ({\n  label = '',\n  value = '',\n  discount = false,\n  description = null,\n}: {\n  label?: string\n  value?: ReactNode | string | number\n  discount?: boolean\n  description?: ReactNode\n}) => {\n  const styles = { color: discount ? '#F9575E' : 'inherit' }\n  return (\n    <Row gutter={[8, 8]} align=\"bottom\">\n      <Col flex=\"auto\">\n        <Space size={4}>\n          <Typography.Text style={styles}>{label}</Typography.Text>\n          {description && (\n            <Popover\n              content={description}\n              placement=\"leftTop\"\n              arrowPointAtCenter\n            >\n              <IonIcon name=\"help-circle\" />\n            </Popover>\n          )}\n        </Space>\n      </Col>\n      <Col>\n        <Typography.Title\n          style={{\n            ...styles,\n            textDecoration: !discount ? 'line-through' : 'unset',\n          }}\n          level={!discount ? 5 : 3}\n        >\n          {value}\n          <small>%</small>\n        </Typography.Title>\n      </Col>\n    </Row>\n  )\n}\n\nconst Discount = ({ locktime }: { locktime: number }) => {\n  const discount =\n    VESTING.find(({ locktime: l }) => l === locktime)?.discount || 0\n  return (\n    <Row gutter={[5, 5]}>\n      <Col span={24}>\n        <PriceInfo\n          label=\"SNTR Buy-back\"\n          value={Math.round((discount + 1) * 100)}\n          discount\n        />\n      </Col>\n      <Col span={24}>\n        <PriceInfo label=\"Market Buy-back\" value=\"100\" />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Discount\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Button, Col, Row, Space, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport Confirm from './confirm'\nimport Form from './form'\nimport Discount from './discount'\n\nimport { VESTING } from 'app/constant'\nimport { AppState } from 'app/model'\nimport { usePool } from 'senhub/providers'\nimport { account } from '@senswap/sen-js'\n\nconst LOCKTIMES = VESTING.map(({ locktime }) => locktime)\n\nconst Reinvestment = ({ poolAddress }: { poolAddress: string }) => {\n  const [visible, setVisible] = useState(false)\n  const [amount, setAmount] = useState('')\n  const [locktime, setLocktime] = useState(LOCKTIMES[0])\n  const { retailers } = useSelector((state: AppState) => state)\n  const { pools } = usePool()\n\n  const poolData = pools[poolAddress]\n  const retailerIndex = Object.values(retailers).findIndex(\n    ({ mint_bid }) => mint_bid === poolData?.mint_lpt,\n  )\n  const retailerAddress = Object.keys(retailers)[retailerIndex]\n  const noRetailer = !account.isAddress(retailerAddress)\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col xs={24} lg={12}>\n        <Space direction=\"vertical\" size={10}>\n          <Space size={4}>\n            <Typography.Text>Lock Time (Days)</Typography.Text>\n            <IonIcon name=\"alert-circle-outline\" />\n          </Space>\n          <Space size={16}>\n            {LOCKTIMES.map((value) => (\n              <Button\n                key={value}\n                type={locktime === value ? 'primary' : 'default'}\n                icon={value}\n                onClick={() => setLocktime(value)}\n              />\n            ))}\n          </Space>\n        </Space>\n      </Col>\n      <Col xs={24} lg={12}>\n        <Discount locktime={locktime} />\n      </Col>\n      <Col span={24}>\n        <Typography.Text>\n          <span style={{ fontWeight: 700, color: 'inherit' }}>\n            SNTR Buy-back Offering:\n          </span>{' '}\n          Selling your LP tokens with juicy profit. No fee, no slippage. The\n          tokens will be unlocked after the selected period.\n        </Typography.Text>\n      </Col>\n      <Col span={24}>\n        <Form poolAddress={poolAddress} value={amount} onChange={setAmount} />\n      </Col>\n      <Col span={24}>\n        <Button\n          type=\"primary\"\n          icon={\n            <IonIcon name={noRetailer ? 'help-circle-outline' : 'diamond'} />\n          }\n          onClick={() => setVisible(true)}\n          disabled={!parseFloat(amount) || noRetailer}\n          block\n        >\n          {noRetailer ? 'There is no campaign on this pool' : 'Buy SNTR'}\n        </Button>\n      </Col>\n      {!noRetailer && (\n        <Confirm\n          retailerAddress={retailerAddress}\n          amount={amount}\n          locktime={locktime}\n          visible={visible}\n          onClose={() => setVisible(false)}\n        />\n      )}\n    </Row>\n  )\n}\n\nexport default Reinvestment\n","import { AccountInfo, PublicKey } from '@solana/web3.js'\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { account, RetailerData } from '@senswap/sen-js'\nimport configs from 'app/configs'\n\n/**\n * Store constructor\n */\n\nexport type State = Record<string, RetailerData>\n\nconst NAME = 'retailers'\nconst initialState: State = {}\n\n/**\n * Actions\n */\n\nexport const getRetailers = createAsyncThunk(\n  `${NAME}/getRetailers`,\n  async () => {\n    const {\n      sol: { purchasing },\n    } = configs\n    // Get all retailers with specific owner\n    const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n      await purchasing.connection.getProgramAccounts(\n        purchasing.purchasingProgramId,\n        {\n          filters: [{ dataSize: 161 }],\n        },\n      )\n    let bulk: State = {}\n    value.forEach(({ pubkey, account: { data: buf } }) => {\n      const address = pubkey.toBase58()\n      const data = purchasing.parseRetailerData(buf)\n      bulk[address] = data\n    })\n    return bulk\n  },\n)\n\nexport const getRetailer = createAsyncThunk<\n  State,\n  { address: string },\n  { state: any }\n>(`${NAME}/getRetailer`, async ({ address }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid retailer address')\n  const {\n    sol: { purchasing },\n  } = configs\n  const {\n    retailers: { [address]: data },\n  } = getState()\n  if (data) return { [address]: data }\n  const raw = await purchasing.getRetailerData(address)\n  return { [address]: raw }\n})\n\nexport const upsetRetailer = createAsyncThunk<\n  State,\n  { address: string; data: RetailerData },\n  { state: any }\n>(`${NAME}/upsetRetailer`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid retailer address')\n  if (!data) throw new Error('Data is empty')\n  return { [address]: data }\n})\n\nexport const deleteRetailer = createAsyncThunk(\n  `${NAME}/deleteRetailer`,\n  async ({ address }: { address: string }) => {\n    if (!account.isAddress(address)) throw new Error('Invalid retailer address')\n    return { address }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(getRetailers.fulfilled, (state, { payload }) => payload)\n      .addCase(\n        getRetailer.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetRetailer.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        deleteRetailer.fulfilled,\n        (state, { payload }) => void delete state[payload.address],\n      ),\n})\n\nexport default slice.reducer\n","import { useDispatch } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { Button, Row, Col } from 'antd'\n\nimport configs from 'app/configs'\nimport { notifyError, notifySuccess } from 'app/helper'\nimport { AppDispatch } from 'app/model'\nimport { getRetailer } from 'app/model/retailers.controller'\nimport { usePool, useWallet } from 'senhub/providers'\n\nconst NewRetailer = ({ poolAddress }: { poolAddress: string }) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { pools } = usePool()\n  const poolData = pools[poolAddress]\n\n  const onNew = async () => {\n    const { wallet } = window.sentre\n    const {\n      sol: { purchasing, sntrAddress },\n    } = configs\n    try {\n      if (!wallet) throw new Error('Wallet is not connected')\n      if (!account.isAddress(poolData?.mint_lpt))\n        throw new Error('Invalid bid mint address')\n      if (!account.isAddress(sntrAddress))\n        throw new Error('Invalid ask mint address')\n      const { txId, retailerAddress } = await purchasing.initializeRetailer(\n        walletAddress,\n        poolData.mint_lpt,\n        sntrAddress,\n        wallet,\n      )\n      await dispatch(getRetailer({ address: retailerAddress })).unwrap()\n      return notifySuccess('Initialize a new retailer', txId)\n    } catch (er: any) {\n      return notifyError(er)\n    }\n  }\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Button type=\"primary\" onClick={onNew}>\n          New Retailer\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default NewRetailer\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Space, Button, Typography } from 'antd'\n\nimport { AppState } from 'app/model'\nimport { notifyError, notifySuccess } from 'app/helper'\nimport configs from 'app/configs'\nimport { account } from '@senswap/sen-js'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst RetailerState = ({ retailerAddress }: { retailerAddress: string }) => {\n  const [loading, setLoading] = useState(false)\n  const {\n    retailers: { [retailerAddress]: retailerData },\n  } = useSelector((state: AppState) => state)\n\n  const state = retailerData?.state\n\n  const onFreeze = async () => {\n    try {\n      const {\n        sol: { purchasing },\n      } = configs\n      const { wallet } = window.sentre\n      if (!wallet) throw new Error('Wallet is not connected')\n      if (!account.isAddress(retailerAddress))\n        throw new Error('Invalid retailer address')\n      await setLoading(true)\n      const { txId } = await purchasing.freezeRetailer(retailerAddress, wallet)\n      return notifySuccess(`Freeze the retailer ${retailerAddress}`, txId)\n    } catch (er) {\n      return notifyError(er)\n    } finally {\n      return setLoading(false)\n    }\n  }\n\n  const onThaw = async () => {\n    try {\n      const {\n        sol: { purchasing },\n      } = configs\n      const { wallet } = window.sentre\n      if (!wallet) throw new Error('Wallet is not connected')\n      if (!account.isAddress(retailerAddress))\n        throw new Error('Invalid retailer address')\n      await setLoading(true)\n      const { txId } = await purchasing.thawRetailer(retailerAddress, wallet)\n      return notifySuccess(`Thaw the retailer ${retailerAddress}`, txId)\n    } catch (er) {\n      return notifyError(er)\n    } finally {\n      return setLoading(false)\n    }\n  }\n\n  return (\n    <Space>\n      <Typography.Text>Current State:</Typography.Text>\n      <IonIcon name={state === 1 ? 'checkmark-circle-sharp' : 'snow-outline'} />\n      <Typography.Text style={{ fontWeight: 700 }}>\n        {state === 1 ? 'Active' : 'Frozen'}\n      </Typography.Text>\n      <Button\n        size=\"small\"\n        onClick={state === 1 ? onFreeze : onThaw}\n        loading={loading}\n      >\n        {state === 1 ? 'Freeze' : 'Thaw'}\n      </Button>\n    </Space>\n  )\n}\n\nexport default RetailerState\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Button, Space } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { AppState } from 'app/model'\nimport { OrderState } from 'app/constant'\nimport { notifyError, notifySuccess } from 'app/helper'\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\n\nconst Action = ({ orderAddress }: { orderAddress: string }) => {\n  const [loading, setLoading] = useState(false)\n  const { orders } = useSelector((state: AppState) => state)\n  const { state } = orders[orderAddress] || {}\n\n  const onReject = async () => {\n    try {\n      const { wallet } = window.sentre\n      const {\n        sol: { purchasing },\n      } = configs\n      if (!wallet) throw new Error('Wallet is not connected')\n      await setLoading(true)\n      const { txId } = await purchasing.rejectOrder(orderAddress, wallet)\n      return notifySuccess('Reject the order', txId)\n    } catch (er: any) {\n      return notifyError(er)\n    } finally {\n      return setLoading(false)\n    }\n  }\n\n  const onApprove = async () => {\n    try {\n      const { wallet } = window.sentre\n      const {\n        sol: { purchasing },\n      } = configs\n      if (!wallet) throw new Error('Wallet is not connected')\n      await setLoading(true)\n      const { txId } = await purchasing.approveOrder(orderAddress, wallet)\n      return notifySuccess('Approve the order', txId)\n    } catch (er: any) {\n      return notifyError(er)\n    } finally {\n      return setLoading(false)\n    }\n  }\n\n  const onDetail = async () => {\n    return window.open(explorer(orderAddress), '_blank')\n  }\n\n  if (state === OrderState.Open)\n    return (\n      <Space direction=\"vertical\" align=\"center\">\n        <Button\n          type=\"primary\"\n          size=\"small\"\n          loading={loading}\n          onClick={onApprove}\n        >\n          Approve\n        </Button>\n        <Button type=\"text\" size=\"small\" loading={loading} onClick={onReject}>\n          Reject\n        </Button>\n      </Space>\n    )\n  return (\n    <Button\n      type=\"text\"\n      size=\"small\"\n      icon={<IonIcon name=\"open-outline\" />}\n      onClick={onDetail}\n    >\n      Detail\n    </Button>\n  )\n}\n\nexport default Action\n","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { utils } from '@senswap/sen-js'\nimport moment from 'moment'\n\nimport { Card, Row, Col, Space, Typography, Button, Collapse } from 'antd'\nimport { MintSymbol } from 'shared/antd/mint'\nimport IonIcon from 'shared/antd/ionicon'\nimport Action from './action'\nimport Caption from 'app/components/caption'\nimport OrderStatus from 'app/components/orderStatus'\n\nimport { AppState } from 'app/model'\nimport { numeric, shortenAddress } from 'shared/util'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\n\nconst Order = ({ orderAddress }: { orderAddress: string }) => {\n  const [visible, setVisible] = useState(false)\n  const { orders, retailers } = useSelector((state: AppState) => state)\n\n  const {\n    retailer,\n    bid_amount,\n    ask_amount,\n    locked_time,\n    state,\n    created_at,\n    updated_at,\n  } = orders[orderAddress] || {}\n  const { mint_bid, mint_ask } = retailers[retailer] || {}\n  const bidDecimals = useMintDecimals(mint_bid) || 0\n  const askDecimals = useMintDecimals(mint_ask) || 0\n  const bidAmount = utils.undecimalize(bid_amount, bidDecimals)\n  const askAmount = utils.undecimalize(ask_amount, askDecimals)\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <Card\n          bordered={false}\n          bodyStyle={{ padding: 12 }}\n          className=\"order-card order-card-bg\"\n        >\n          <Row gutter={[12, 12]}>\n            <Col span={24}>\n              <Row gutter={[12, 12]}>\n                <Col flex=\"auto\">\n                  <Space style={{ fontSize: 12 }}>\n                    <Typography.Text type=\"secondary\">Order ID</Typography.Text>\n                    <Typography.Text>\n                      {shortenAddress(orderAddress)}\n                    </Typography.Text>\n                  </Space>\n                </Col>\n                <Col>\n                  <Button\n                    type=\"text\"\n                    size=\"small\"\n                    icon={\n                      <IonIcon\n                        name={\n                          visible\n                            ? 'chevron-down-outline'\n                            : 'chevron-forward-outline'\n                        }\n                      />\n                    }\n                    onClick={() => setVisible(!visible)}\n                  />\n                </Col>\n              </Row>\n            </Col>\n            <Col span={24}>\n              <Row gutter={[8, 8]} justify=\"space-between\">\n                <Col>\n                  <Space direction=\"vertical\">\n                    <Caption title=\"Payment\" />\n                    <Typography.Text ellipsis>\n                      {numeric(bidAmount).format('0,0.[0000]')} LP\n                    </Typography.Text>\n                  </Space>\n                </Col>\n                <Col>\n                  <Space direction=\"vertical\">\n                    <Caption title=\"Receiving\" />\n                    <Typography.Text style={{ fontWeight: 700 }} ellipsis>\n                      {numeric(askAmount).format('0,0.[0000]')}{' '}\n                      <MintSymbol mintAddress={mint_ask} />\n                    </Typography.Text>\n                  </Space>\n                </Col>\n                <Col>\n                  <Space direction=\"vertical\">\n                    <Caption title=\"Locktime\" />\n                    <Typography.Text>\n                      {Number(locked_time) / (24 * 60 * 60)} days\n                    </Typography.Text>\n                  </Space>\n                </Col>\n                <Col>\n                  <Space direction=\"vertical\">\n                    <Caption title=\"Status\" />\n                    <OrderStatus state={state} />\n                  </Space>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n      <Col span={24}>\n        <Collapse\n          activeKey={visible.toString()}\n          className=\"expand-card expand-card-bg\"\n        >\n          <Collapse.Panel header={null} key={'true'} showArrow={false}>\n            <Row gutter={[8, 8]} justify=\"space-between\" align=\"middle\">\n              <Col>\n                <Space direction=\"vertical\">\n                  <Caption title=\"Created At\" />\n                  <Typography.Text ellipsis>\n                    {moment(Number(created_at) * 1000).format(\n                      'HH:mm DD/MM/YYYY',\n                    )}\n                  </Typography.Text>\n                </Space>\n              </Col>\n              <Col>\n                <Space direction=\"vertical\">\n                  <Caption title=\"Updated At\" />\n                  <Typography.Text ellipsis>\n                    {moment(Number(updated_at) * 1000).format(\n                      'HH:mm DD/MM/YYYY',\n                    )}\n                  </Typography.Text>\n                </Space>\n              </Col>\n              <Col>\n                <Action orderAddress={orderAddress} />\n              </Col>\n            </Row>\n          </Collapse.Panel>\n        </Collapse>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Order\n","import { AccountInfo, PublicKey } from '@solana/web3.js'\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { account, OrderData } from '@senswap/sen-js'\nimport configs from 'app/configs'\n\n/**\n * Store constructor\n */\n\nexport type State = Record<string, OrderData>\n\nconst NAME = 'orders'\nconst initialState: State = {}\n\n/**\n * Actions\n */\n\nexport const getOrders = createAsyncThunk(\n  `${NAME}/getOrders`,\n  async ({ owner, retailer }: { owner?: string; retailer?: string }) => {\n    const {\n      sol: { purchasing },\n    } = configs\n    // Get all retailers with specific owner\n    let bulk: State = {}\n    let opts = []\n    if (account.isAddress(owner))\n      opts.push({ memcmp: { bytes: owner, offset: 0 } })\n    if (account.isAddress(retailer))\n      opts.push({ memcmp: { bytes: retailer, offset: 33 } })\n    const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n      await purchasing.connection.getProgramAccounts(\n        purchasing.purchasingProgramId,\n        {\n          filters: [{ dataSize: 105 }, ...opts],\n        },\n      )\n    value.forEach(({ pubkey, account: { data: buf } }) => {\n      const address = pubkey.toBase58()\n      const data = purchasing.parseOrderData(buf)\n      bulk[address] = data\n    })\n    return bulk\n  },\n)\n\nexport const getOrder = createAsyncThunk<\n  State,\n  { address: string },\n  { state: any }\n>(`${NAME}/getOrder`, async ({ address }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid order address')\n  const {\n    sol: { purchasing },\n  } = configs\n  const {\n    retailers: { [address]: data },\n  } = getState()\n  if (data) return { [address]: data }\n  const raw = await purchasing.getOrderData(address)\n  return { [address]: raw }\n})\n\nexport const upsetOrder = createAsyncThunk<\n  State,\n  { address: string; data: OrderData },\n  { state: any }\n>(`${NAME}/upsetOrder`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid order address')\n  if (!data) throw new Error('Data is empty')\n  return { [address]: data }\n})\n\nexport const deleteOrder = createAsyncThunk(\n  `${NAME}/deleteOrder`,\n  async ({ address }: { address: string }) => {\n    if (!account.isAddress(address)) throw new Error('Invalid order address')\n    return { address }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getOrders.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        getOrder.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetOrder.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        deleteOrder.fulfilled,\n        (state, { payload }) => void delete state[payload.address],\n      ),\n})\n\nexport default slice.reducer\n","import { useCallback, useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport LazyLoad from '@senswap/react-lazyload'\n\nimport { Row, Col, Space, Typography, Switch } from 'antd'\nimport NewRetailer from './newRetailer'\nimport RetailerState from './retailerState'\nimport Order from './order'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { usePool, useWallet } from 'senhub/providers'\nimport { getOrders } from 'app/model/orders.controller'\nimport { OrderState } from 'app/constant'\n\nconst Admin = ({ poolAddress }: { poolAddress: string }) => {\n  const [lite, setLite] = useState(true)\n  const dispatch = useDispatch<AppDispatch>()\n  const { retailers, orders } = useSelector((state: AppState) => state)\n  const { pools } = usePool()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const poolData = pools[poolAddress]\n  const myRetailerAddresses = Object.keys(retailers).filter(\n    (retailerAddress) => {\n      const { owner } = retailers[retailerAddress]\n      return owner === walletAddress\n    },\n  )\n  const retailerAddress = myRetailerAddresses.find((retailerAddress) => {\n    const { mint_bid } = retailers[retailerAddress]\n    return mint_bid === poolData?.mint_lpt\n  })\n  const orderAddresses = Object.keys(orders).filter((orderAddress) => {\n    const { retailer, state } = orders[orderAddress]\n    let cond = retailer === retailerAddress\n    if (lite) cond = cond && state === OrderState.Open\n    return cond\n  })\n\n  const fetchOrders = useCallback(async () => {\n    await dispatch(getOrders({ retailer: walletAddress }))\n  }, [dispatch, walletAddress])\n\n  useEffect(() => {\n    fetchOrders()\n  }, [fetchOrders])\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        {!account.isAddress(retailerAddress) ? (\n          <NewRetailer poolAddress={poolAddress} />\n        ) : (\n          <Row gutter={[24, 24]} wrap={false}>\n            <Col flex=\"auto\">\n              <RetailerState retailerAddress={retailerAddress} />\n            </Col>\n            <Col>\n              <Space>\n                <Typography.Text type=\"secondary\">Filtered?</Typography.Text>\n                <Switch checked={lite} onChange={setLite} size=\"small\" />\n              </Space>\n            </Col>\n          </Row>\n        )}\n      </Col>\n      <Col span={24}>\n        <Row gutter={[16, 16]} style={{ height: 234 }} className=\"scrollbar\">\n          {orderAddresses.map((orderAddress) => (\n            <Col span={24} key={orderAddress}>\n              <LazyLoad height={125} overflow>\n                <Order orderAddress={orderAddress} />\n              </LazyLoad>\n            </Col>\n          ))}\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Admin\n","import { Card, Tabs } from 'antd'\nimport Redeem from './redeem'\nimport Reinvestment from './reinvestment'\nimport Admin from './admin'\n\nimport { usePool, useWallet } from 'senhub/providers'\n\nconst Booster = ({ poolAddress }: { poolAddress: string }) => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { pools } = usePool()\n\n  const isOwner = walletAddress === pools[poolAddress]?.owner\n\n  return (\n    <Card bordered={false} bodyStyle={{ padding: 0, minHeight: 384 }}>\n      <Tabs style={{ padding: '16px 24px 24px 24px' }}>\n        <Tabs.TabPane key=\"reinvestmnet\" tab=\"Reinvestment\">\n          <Reinvestment poolAddress={poolAddress} />\n        </Tabs.TabPane>\n        <Tabs.TabPane key=\"redeem\" tab=\"Redeem\">\n          <Redeem poolAddress={poolAddress} />\n        </Tabs.TabPane>\n        {isOwner ? (\n          <Tabs.TabPane key=\"admin\" tab=\"Admin\">\n            <Admin poolAddress={poolAddress} />\n          </Tabs.TabPane>\n        ) : null}\n      </Tabs>\n    </Card>\n  )\n}\n\nexport default Booster\n","import { useSelector } from 'react-redux'\n\nimport { Col, Row } from 'antd'\nimport PoolDetailsHeader from './poolDetailsHeader'\nimport LiquidityPosition from './liquidityPosition'\nimport PoolManagement from './management'\nimport TotalValueLocked from './totalValueLocked'\nimport Volume24h from './volume24h'\nimport Booster from './booster'\n\nimport { AppState } from 'app/model'\nimport { usePool, useWallet } from 'senhub/providers'\n\nconst PoolDetails = () => {\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { pools } = usePool()\n  const { owner } = pools?.[selectedPoolAddress] || {}\n\n  const ownerPool = walletAddress === owner\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <PoolDetailsHeader poolAddress={selectedPoolAddress} />\n      </Col>\n      <Col xs={{ span: 24, order: 1 }} md={{ span: 12, order: 1 }}>\n        <TotalValueLocked />\n      </Col>\n      <Col xs={{ span: 24, order: 3 }} md={{ span: 12, order: 2 }}>\n        <LiquidityPosition poolAddress={selectedPoolAddress} />\n      </Col>\n      <Col xs={{ span: 24, order: 2 }} md={{ span: 12, order: 3 }}>\n        <Volume24h />\n      </Col>\n      <Col xs={{ span: 24, order: 4 }} md={12}>\n        <Booster poolAddress={selectedPoolAddress} />\n      </Col>\n      {ownerPool && (\n        <Col xs={{ span: 24, order: 5 }} md={12}>\n          <PoolManagement poolAddress={selectedPoolAddress} />\n        </Col>\n      )}\n    </Row>\n  )\n}\n\nexport default PoolDetails\n","import { useDispatch } from 'react-redux'\n\nimport { Affix, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { handleOpenDrawer } from 'app/model/main.controller'\nimport { useUI } from 'senhub/providers'\n\nconst ViewPoolButton = () => {\n  const dispatch = useDispatch()\n  const {\n    ui: { width },\n  } = useUI()\n\n  if (width >= 1200) return null\n  return (\n    <Affix style={{ position: 'fixed', bottom: 16, right: 16, zIndex: 9999 }}>\n      <Button\n        type=\"primary\"\n        onClick={() => dispatch(handleOpenDrawer(true))}\n        icon={<IonIcon name=\"list-outline\" />}\n        size=\"large\"\n      >\n        Pools List\n      </Button>\n    </Affix>\n  )\n}\nexport default ViewPoolButton\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { account, AccountData, utils } from '@senswap/sen-js'\n\n/**\n * Store constructor\n */\nexport type LPTData = AccountData & {\n  pool: string\n  selectedPoolAddress?: string\n  selectedLPTAddress?: string\n}\nexport type State = Record<string, LPTData>\n\nconst NAME = 'lpts'\nconst initialState: State = {}\n\n/**\n * Actions\n */\n\nexport const getLPTs = createAsyncThunk(\n  `${NAME}/getLPTs`,\n  async ({\n    accounts,\n  }: {\n    accounts: Array<AccountData & { address: string }>\n  }) => {\n    const { splt, swap } = window.sentre\n    // Get the corresponding mint list\n    const mintAddresses = accounts.map(({ mint: mintAddress }) => mintAddress)\n    const mintPublicKeys = mintAddresses.map((mintAddress) =>\n      account.fromAddress(mintAddress),\n    )\n    // Validate whether lp mint or normal mint\n    const mintData = (\n      await utils.wrappedGetMultipleAccountsInfo(\n        splt.connection,\n        mintPublicKeys,\n      )\n    ).map((re) => {\n      if (!re?.data) return null\n      return splt.parseMintData(re.data)\n    })\n    if (!mintData?.length) return {}\n    const poolAddresses = await Promise.all(\n      mintData.map(async (re) => {\n        try {\n          const { mint_authority, freeze_authority } = re || {}\n          if (\n            !account.isAddress(mint_authority) ||\n            !account.isAddress(freeze_authority)\n          )\n            return undefined\n          return await swap.derivePoolAddress(mint_authority, freeze_authority)\n        } catch (er) {\n          return undefined\n        }\n      }),\n    )\n    // Filter lpt accounts\n    let bulk: State = {}\n    accounts.forEach(({ address, ...data }, index) => {\n      const poolAddress = poolAddresses[index]\n      if (account.isAddress(poolAddress))\n        bulk[address] = { ...data, pool: poolAddress }\n    })\n    return bulk\n  },\n)\n\nexport const getLPT = createAsyncThunk<\n  State,\n  { address: string },\n  { state: any }\n>(`${NAME}/getLPT`, async ({ address }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid account address')\n  const {\n    lpts: { [address]: data },\n  } = getState()\n  if (data) return { [address]: data }\n  const { swap } = window.sentre\n  const raw = await swap.getLPTData(address)\n  return { [address]: raw }\n})\n\nexport const upsetLPT = createAsyncThunk<\n  State,\n  { address: string; data: AccountData },\n  { state: any }\n>(`${NAME}/upsetLPT`, async ({ address, data }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  if (!data) throw new Error('Data is empty')\n  const {\n    lpts: { [address]: lptData },\n  } = getState()\n  const { pool } = lptData || {}\n  if (account.isAddress(pool)) return { [address]: { ...data, pool } }\n  // To make sure the new account is an lpt account\n  const { swap } = window.sentre\n  const raw = await swap.getLPTData(address)\n  return { [address]: raw }\n})\n\nexport const deleteLPT = createAsyncThunk(\n  `${NAME}/deleteLPT`,\n  async ({ address }: { address: string }) => {\n    if (!account.isAddress(address)) throw new Error('Invalid address')\n    return { address }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(getLPTs.fulfilled, (state, { payload }) => payload)\n      .addCase(\n        getLPT.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetLPT.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        deleteLPT.fulfilled,\n        (state, { payload }) => void delete state[payload.address],\n      ),\n})\n\nexport default slice.reducer\n","import { Fragment, useCallback, useEffect, useMemo } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { notifyError } from 'app/helper'\nimport { AppDispatch } from 'app/model'\nimport { getLPTs, upsetLPT } from 'app/model/lpts.controller'\nimport { useAccount, useWallet } from 'senhub/providers'\n\n// Watch id\nlet watchId = 0\n\nconst LptWatcher = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { accounts } = useAccount()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  // First-time fetching\n  const accountData = useMemo(\n    () =>\n      Object.keys(accounts).map((accountAddress) => ({\n        address: accountAddress,\n        ...accounts[accountAddress],\n      })),\n    [accounts],\n  )\n  const fetchData = useCallback(async () => {\n    try {\n      if (!account.isAddress(walletAddress)) return\n      await dispatch(getLPTs({ accounts: accountData })).unwrap()\n    } catch (er) {\n      await notifyError(er)\n    }\n  }, [dispatch, accountData, walletAddress])\n  // Watch account changes\n  const watchData = useCallback(async () => {\n    if (watchId) return console.warn('Already watched')\n    const callback = (er: string | null, re: any) => {\n      if (er) return console.error(er)\n      const { address, data } = re\n      return dispatch(upsetLPT({ address, data }))\n    }\n    const filters = [{ memcmp: { bytes: walletAddress, offset: 32 } }]\n    watchId = window.sentre.splt.watch(callback, filters)\n  }, [dispatch, walletAddress])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await window.sentre.splt.unwatch(watchId)\n        } catch (er) {}\n      })()\n      watchId = 0\n    }\n  }, [fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default LptWatcher\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { notifyError } from 'app/helper'\nimport { AppDispatch } from 'app/model'\nimport { getRetailers, upsetRetailer } from 'app/model/retailers.controller'\nimport { useWallet } from 'senhub/providers'\nimport configs from 'app/configs'\n\nconst {\n  sol: { purchasing },\n} = configs\n\n// Watch id\nlet watchId = 0\n\nconst RetailerWatcher = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  // First-time fetching\n  const fetchData = useCallback(async () => {\n    try {\n      if (!account.isAddress(walletAddress)) return\n      await dispatch(getRetailers()).unwrap()\n    } catch (er) {\n      await notifyError(er)\n    }\n  }, [dispatch, walletAddress])\n  // Watch account changes\n  const watchData = useCallback(async () => {\n    if (watchId) return console.warn('Already watched')\n    const callback = (er: string | null, re: any) => {\n      if (er) return console.error(er)\n      const { address, data } = re\n      return dispatch(upsetRetailer({ address, data }))\n    }\n    const filters = [{ dataSize: 161 }]\n    watchId = purchasing.watch(callback, filters)\n  }, [dispatch])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await purchasing.unwatch(watchId)\n        } catch (er) {}\n      })()\n      watchId = 0\n    }\n  }, [fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default RetailerWatcher\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { notifyError } from 'app/helper'\nimport { AppDispatch } from 'app/model'\nimport { getOrders, upsetOrder } from 'app/model/orders.controller'\nimport { useWallet } from 'senhub/providers'\nimport configs from 'app/configs'\n\nconst {\n  sol: { purchasing },\n} = configs\n\n// Watch id\nlet watchId = 0\n\nconst OrderWatcher = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  // First-time fetching\n  const fetchData = useCallback(async () => {\n    try {\n      if (!account.isAddress(walletAddress)) return\n      await dispatch(getOrders({ owner: walletAddress })).unwrap()\n    } catch (er) {\n      await notifyError(er)\n    }\n  }, [dispatch, walletAddress])\n  // Watch account changes\n  const watchData = useCallback(async () => {\n    if (watchId) return console.warn('Already watched')\n    const callback = (er: string | null, re: any) => {\n      if (er) return console.error(er)\n      const { address, data } = re\n      return dispatch(upsetOrder({ address, data }))\n    }\n    const filters = [{ dataSize: 105 }]\n    watchId = purchasing.watch(callback, filters)\n  }, [dispatch])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await purchasing.unwatch(watchId)\n        } catch (er) {}\n      })()\n      watchId = 0\n    }\n  }, [fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default OrderWatcher\n","import { useCallback, useEffect, useMemo } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport { account } from '@senswap/sen-js'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Row, Col, Modal, Typography, Card } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport SideBar from './sideBar'\nimport PoolDetails from './poolDetails'\nimport ViewPoolButton from 'app/components/viewPoolButton'\nimport LptWatcher from 'app/components/watcher/lptWatcher'\nimport RetailerWatcher from 'app/components/watcher/retailerWatcher'\nimport OrderWatcher from 'app/components/watcher/orderWatcher'\n\nimport { usePool, useUI } from 'senhub/providers'\nimport { AppState } from 'app/model'\nimport { handleOpenDrawer, selectPool } from 'app/model/main.controller'\nimport configs from 'app/configs'\nimport { QueryParams } from 'app/constant'\n\nconst Page = () => {\n  const dispatch = useDispatch()\n  const {\n    main: { visible },\n  } = useSelector((state: AppState) => state)\n  const {\n    ui: { width },\n  } = useUI()\n  const { pools } = usePool()\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n  const query = new URLSearchParams(useLocation().search)\n  const poolAddress = query.get(QueryParams.address) || ''\n  const senOwner = configs.sol.senOwner\n\n  const listSentrePools = Object.keys(pools).filter((poolAddr) => {\n    const poolData = pools?.[poolAddr]\n    const { owner } = poolData\n    return senOwner.includes(owner)\n  })\n\n  const sortedPools = useMemo(() => {\n    if (!Object.keys(pools).length) return\n    return Object.keys(pools)\n      .map((address) => ({ address, ...pools[address] }))\n      .sort(\n        (\n          { reserve_a: firstRa, reserve_b: firstRb },\n          { reserve_a: secondRa, reserve_b: secondRb },\n        ) => {\n          const firstK = firstRa * firstRb\n          const secondK = secondRa * secondRb\n          if (firstK > secondK) return -1\n          if (firstK < secondK) return 1\n          return 0\n        },\n      )\n  }, [pools])\n\n  const onInit = useCallback(() => {\n    if (account.isAddress(selectedPoolAddress)) return\n    if (account.isAddress(poolAddress)) return dispatch(selectPool(poolAddress))\n    const poolAddressDefault = sortedPools?.[0]?.address\n    const sentrePoolAddrDefault = listSentrePools?.[0]\n    if (account.isAddress(sentrePoolAddrDefault))\n      return dispatch(selectPool(sentrePoolAddrDefault))\n    if (account.isAddress(poolAddressDefault))\n      dispatch(selectPool(poolAddressDefault))\n  }, [dispatch, listSentrePools, poolAddress, selectedPoolAddress, sortedPools])\n\n  useEffect(() => {\n    onInit()\n  }, [onInit])\n\n  return (\n    <Row gutter={[24, 24]} style={{ paddingBottom: 12 }}>\n      {width >= 1200 ? (\n        <Col lg={8} xl={6}>\n          <Card bodyStyle={{ padding: 0 }} bordered={false}>\n            <SideBar />\n          </Card>\n        </Col>\n      ) : (\n        <Modal\n          visible={visible}\n          onCancel={() => dispatch(handleOpenDrawer(false))}\n          closeIcon={<IonIcon name=\"close-outline\" />}\n          footer={null}\n          title={<Typography.Title level={4}>Pool Selection</Typography.Title>}\n          bodyStyle={{ padding: 0 }}\n          centered\n        >\n          <SideBar />\n        </Modal>\n      )}\n      <Col xs={24} lg={24} xl={18}>\n        <PoolDetails />\n      </Col>\n      <ViewPoolButton />\n      <LptWatcher />\n      <RetailerWatcher />\n      <OrderWatcher />\n    </Row>\n  )\n}\n\nexport default Page\n","import { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { Col, Select, Row, Typography } from 'antd'\n\nimport { AppDispatch } from 'app/model'\nimport { selectCategoryPool } from 'app/model/main.controller'\n\nconst Header = () => {\n  const dispatch = useDispatch<AppDispatch>()\n\n  const handleChange = (value: string) => {\n    dispatch(selectCategoryPool(value))\n  }\n\n  useEffect(() => {\n    dispatch(selectCategoryPool('sentre'))\n  }, [dispatch])\n\n  return (\n    <Row gutter={24} align=\"middle\" className=\"header-widget\">\n      <Col flex=\"auto\">\n        <Typography.Text style={{ color: '#e9e9eb ' }}>\n          Pools list by\n        </Typography.Text>\n      </Col>\n      <Col>\n        <Select\n          defaultValue=\"sentre\"\n          onChange={handleChange}\n          className=\"header-select\"\n        >\n          <Select.Option value=\"sentre\">Sentre</Select.Option>\n          <Select.Option value=\"community\">Community</Select.Option>\n          <Select.Option value=\"deposited\">Deposited</Select.Option>\n          <Select.Option value=\"your-pools\">Your pools</Select.Option>\n        </Select>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Header\n","import { Fragment, ReactElement, useState } from 'react'\nimport { utils } from '@senswap/sen-js'\n\nimport {\n  Row,\n  Col,\n  Card,\n  Space,\n  Typography,\n  Divider,\n  Tooltip,\n  Collapse,\n  Button,\n} from 'antd'\nimport PoolTVL from 'app/components/poolTVL'\nimport IonIcon from 'shared/antd/ionicon'\nimport PoolCardStatus from 'app/components/poolCardStatus'\nimport SwapButton from 'app/components/swapButton'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\n\nimport { LPTData } from 'app/model/lpts.controller'\nimport { PoolStatus } from 'app/constant'\nimport { numeric } from 'shared/util'\nimport { usePool } from 'senhub/providers'\n\nconst DECIMAL = 9\n\nconst ItemLPT = ({\n  data,\n  onClick = () => {},\n  action = <Fragment />,\n  keyExpand,\n}: {\n  data: LPTData\n  onClick?: () => void\n  action: ReactElement\n  keyExpand: number\n}) => {\n  const { pool: poolAddress, amount } = data\n  const [isActive, setIsActive] = useState(false)\n  const lp = utils.undecimalize(amount, DECIMAL)\n  const { pools } = usePool()\n\n  const isFrozen = pools?.[poolAddress].state === PoolStatus.Frozen\n  const mintLptAddress = pools?.[poolAddress]?.mint_lpt || ''\n  const expandClass = isActive ? '' : 'expandHidden'\n  const defaultKey = keyExpand.toString()\n  return (\n    <Card\n      bodyStyle={{ padding: 12, minHeight: 78 }}\n      bordered={false}\n      className=\"lp-card\"\n    >\n      <Row gutter={[12, 12]} align=\"top\">\n        <Col flex=\"auto\">\n          <Space direction=\"vertical\">\n            <Space>\n              <MintAvatar mintAddress={mintLptAddress} size={24} />\n              <Typography.Text type={isFrozen ? 'secondary' : undefined}>\n                <MintSymbol mintAddress={mintLptAddress} />\n              </Typography.Text>\n            </Space>\n            <Space>\n              <Tooltip title=\"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.\">\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  TVL:\n                </Typography.Text>\n              </Tooltip>\n              <Typography.Text>\n                <PoolTVL poolAddress={poolAddress} />\n              </Typography.Text>\n              <Divider type=\"vertical\" style={{ margin: 0 }} />\n              <Typography.Text type=\"secondary\" className=\"caption\">\n                My LP:\n              </Typography.Text>\n              <Typography.Text>\n                {numeric(lp).format('0,0.[00]')}\n              </Typography.Text>\n            </Space>\n          </Space>\n        </Col>\n        <Col>\n          <Space size={2}>\n            <PoolCardStatus poolAddress={poolAddress} />\n            {action}\n            <Button\n              size=\"small\"\n              type=\"text\"\n              icon={\n                <IonIcon\n                  name={\n                    isActive\n                      ? 'chevron-down-outline'\n                      : 'chevron-forward-outline'\n                  }\n                />\n              }\n              onClick={() => setIsActive(!isActive)}\n            />\n          </Space>\n        </Col>\n      </Row>\n      <Collapse\n        className={expandClass}\n        style={{ marginTop: 16 }}\n        ghost={true}\n        activeKey={defaultKey}\n        bordered={false}\n      >\n        <Collapse.Panel header=\"\" key={defaultKey}>\n          <Row gutter={[16, 16]}>\n            <Col span={12}>\n              <SwapButton poolAddress={poolAddress} />\n            </Col>\n            <Col span={12}>\n              <Button onClick={onClick} block type=\"primary\">\n                Detail\n              </Button>\n            </Col>\n          </Row>\n        </Collapse.Panel>\n      </Collapse>\n    </Card>\n  )\n}\n\nexport default ItemLPT\n","import { ReactElement, Fragment, useEffect, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport LazyLoad from '@senswap/react-lazyload'\n\nimport { Row, Col, Empty } from 'antd'\nimport ItemLPT from './itemLPT'\n\nimport { AppState } from 'app/model'\nimport { usePool, useWallet } from 'senhub/providers'\n\nconst LptsPools = ({\n  onInit = () => {},\n  onClick = () => {},\n  action = () => <Fragment />,\n}: {\n  onInit?: (poolAddress: string) => void\n  onClick?: (poolAddress: string) => void\n  action?: (lptAddress: string, poolAddress: string) => ReactElement\n}) => {\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const selectedCategoryPool = useSelector(\n    (state: AppState) => state.main.selectedCategoryPool,\n  )\n  const { pools } = usePool()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const lptAddresses = useMemo(\n    () =>\n      Object.keys(lpts).filter((lptAddress) => {\n        const { pool: poolAddress, amount } = lpts[lptAddress]\n        if (selectedCategoryPool === 'deposited' && amount !== BigInt(0))\n          return pools[poolAddress]\n        else if (\n          selectedCategoryPool === 'your-pools' &&\n          pools?.[poolAddress]?.owner === walletAddress\n        )\n          return pools[poolAddress]\n        return null\n      }),\n    [pools, lpts, walletAddress, selectedCategoryPool],\n  )\n\n  useEffect(() => {\n    if (!lptAddresses.length) return\n    onInit(lptAddresses[0])\n  }, [onInit, lptAddresses, lpts])\n\n  if (!lptAddresses.length) return <Empty />\n\n  return (\n    <Row gutter={[12, 12]}>\n      {lptAddresses.map((lptAddress, i) => {\n        const { pool: poolAddress } = lpts[lptAddress]\n        return (\n          <Col span={24} key={lptAddress + i}>\n            <LazyLoad height={78} overflow>\n              <ItemLPT\n                keyExpand={i + 1}\n                data={lpts[lptAddress]}\n                action={action(lptAddress, poolAddress)}\n                onClick={() => onClick(poolAddress)}\n              />\n            </LazyLoad>\n          </Col>\n        )\n      })}\n    </Row>\n  )\n}\n\nexport default LptsPools\n","import { Fragment, ReactElement, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport {\n  Row,\n  Col,\n  Card,\n  Space,\n  Typography,\n  Divider,\n  Tooltip,\n  Collapse,\n  Button,\n} from 'antd'\nimport PoolTVL from 'app/components/poolTVL'\nimport IonIcon from 'shared/antd/ionicon'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport PoolCardStatus from 'app/components/poolCardStatus'\nimport SwapButton from 'app/components/swapButton'\n\nimport { numeric } from 'shared/util'\nimport { AppState } from 'app/model'\nimport { fetchStatPoolData } from 'app/model/stat.controller'\nimport { PoolStatus } from 'app/constant'\nimport { usePool } from 'senhub/providers'\n\nconst ItemPool = ({\n  poolAddress,\n  onClick = () => {},\n  action = <Fragment />,\n  keyExpand,\n}: {\n  poolAddress: string\n  onClick?: () => void\n  action?: ReactElement\n  keyExpand: number\n}) => {\n  const dispatch = useDispatch()\n  const [isActive, setIsActive] = useState(false)\n  const { pools } = usePool()\n  const details = useSelector(\n    (state: AppState) => state.stat[poolAddress]?.details,\n  )\n  const poolData = pools?.[poolAddress] || {}\n  const { mint_lpt: mintLptAddress, state: poolState } = poolData\n\n  const apy = useMemo(() => {\n    if (!details || !details.roi) return 0\n    const roi = details.roi\n    return Math.pow(1 + Number(roi) / 100, 365) - 1\n  }, [details])\n\n  useEffect(() => {\n    if (!poolAddress) return\n    dispatch(fetchStatPoolData({ address: poolAddress }))\n  }, [dispatch, poolAddress])\n\n  const isFrozen = poolState === PoolStatus.Frozen\n  const expandClass = isActive ? '' : 'expandHidden'\n  const defaultKey = keyExpand.toString()\n\n  return (\n    <Card\n      bodyStyle={{ padding: 12, minHeight: 78 }}\n      bordered={false}\n      className=\"lp-card\"\n    >\n      <Row gutter={[12, 12]} align=\"top\">\n        <Col flex=\"auto\">\n          <Space direction=\"vertical\">\n            <Space>\n              <MintAvatar mintAddress={mintLptAddress} size={24} />\n              <Typography.Text type={isFrozen ? 'secondary' : undefined}>\n                <MintSymbol mintAddress={mintLptAddress} />\n              </Typography.Text>\n            </Space>\n            <Space>\n              <Tooltip title=\"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.\">\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  TVL:\n                </Typography.Text>\n              </Tooltip>\n              <Typography.Text>\n                <PoolTVL poolAddress={poolAddress} />\n              </Typography.Text>\n              <Divider type=\"vertical\" style={{ margin: 0 }} />\n              <Typography.Text type=\"secondary\" className=\"caption\">\n                APY:\n              </Typography.Text>\n              <Typography.Text>\n                {numeric(apy).format('0,0.[00]%')}\n              </Typography.Text>\n            </Space>\n          </Space>\n        </Col>\n        <Col>\n          <Space size={2}>\n            <PoolCardStatus poolAddress={poolAddress} />\n            {action}\n            <Button\n              size=\"small\"\n              type=\"text\"\n              icon={\n                <IonIcon\n                  name={\n                    isActive\n                      ? 'chevron-down-outline'\n                      : 'chevron-forward-outline'\n                  }\n                />\n              }\n              onClick={() => setIsActive(!isActive)}\n            />\n          </Space>\n        </Col>\n      </Row>\n      <Collapse\n        className={expandClass}\n        style={{ marginTop: 16 }}\n        ghost={true}\n        activeKey={defaultKey}\n        bordered={false}\n      >\n        <Collapse.Panel header=\"\" key={defaultKey}>\n          <Row gutter={[16, 16]}>\n            <Col span={12}>\n              <SwapButton poolAddress={poolAddress} />\n            </Col>\n            <Col span={12}>\n              <Button onClick={onClick} block type=\"primary\">\n                Detail\n              </Button>\n            </Col>\n          </Row>\n        </Collapse.Panel>\n      </Collapse>\n    </Card>\n  )\n}\n\nexport default ItemPool\n","import { ReactElement, useMemo, useEffect, Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport LazyLoad from '@senswap/react-lazyload'\n\nimport { Row, Col, Empty } from 'antd'\nimport ItemPool from './itemPool'\n\nimport { usePool } from 'senhub/providers'\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\n\nconst {\n  sol: { senOwner },\n} = configs\n\nconst ListPools = ({\n  onInit = () => {},\n  onClick = () => {},\n  action = () => <Fragment />,\n}: {\n  onInit?: (poolAddress: string) => void\n  onClick?: (poolAddress: string) => void\n  action?: (poolAddress: string) => ReactElement\n}) => {\n  const { pools } = usePool()\n  const selectedCategoryPool = useSelector(\n    (state: AppState) => state.main.selectedCategoryPool,\n  )\n  const sortedPools = useMemo(\n    () =>\n      Object.keys(pools)\n        .map((address) => ({ address, ...pools[address] }))\n        .sort(\n          (\n            { reserve_a: firstRa, reserve_b: firstRb },\n            { reserve_a: secondRa, reserve_b: secondRb },\n          ) => {\n            const firstK = firstRa * firstRb\n            const secondK = secondRa * secondRb\n            if (firstK > secondK) return -1\n            if (firstK < secondK) return 1\n            return 0\n          },\n        ),\n\n    [pools],\n  )\n\n  const listSentrePools = Object.keys(pools).filter((poolAddr) => {\n    const poolData = pools?.[poolAddr]\n    const { owner } = poolData\n    return senOwner.includes(owner)\n  })\n\n  useEffect(() => {\n    if (!sortedPools.length) return\n    onInit(sortedPools[0]?.address)\n  }, [onInit, sortedPools])\n\n  const CommunityPool = () => (\n    <Fragment>\n      {sortedPools.map((poolData, i) => (\n        <Col span={24} key={poolData.address + i}>\n          <LazyLoad height={78} overflow>\n            <ItemPool\n              poolAddress={poolData.address}\n              action={action(poolData.address)}\n              onClick={() => onClick(poolData.address)}\n              keyExpand={i + 1}\n            />\n          </LazyLoad>\n        </Col>\n      ))}\n    </Fragment>\n  )\n\n  if (!listSentrePools.length) return <Empty />\n\n  const SentrePools = () => (\n    <Fragment>\n      {listSentrePools.map((poolAddress, i) => (\n        <Col span={24} key={poolAddress + i}>\n          <LazyLoad height={78} overflow>\n            <ItemPool\n              poolAddress={poolAddress}\n              action={action(poolAddress)}\n              onClick={() => onClick(poolAddress)}\n              keyExpand={i + 1}\n            />\n          </LazyLoad>\n        </Col>\n      ))}\n    </Fragment>\n  )\n\n  return (\n    <Row gutter={[12, 12]}>\n      {selectedCategoryPool === 'sentre' ? <SentrePools /> : <CommunityPool />}\n    </Row>\n  )\n}\n\nexport default ListPools\n","import { useCallback } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Col, Row } from 'antd'\nimport Header from './header'\nimport LptWatcher from 'app/components/watcher/lptWatcher'\nimport RetailerWatcher from 'app/components/watcher/retailerWatcher'\nimport OrderWatcher from 'app/components/watcher/orderWatcher'\nimport LptsPools from './components/lptsPools'\nimport HotPools from './components/pools'\n\nimport configs from 'app/configs'\nimport { AppDispatch, AppState } from 'app/model'\nimport { handleOpenDrawer, selectPool } from 'app/model/main.controller'\n\nconst Widget = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const selectedCategoryPool = useSelector(\n    (state: AppState) => state.main.selectedCategoryPool,\n  )\n  const history = useHistory()\n  const {\n    manifest: { appId },\n  } = configs\n\n  const setActiveAddress = useCallback(\n    (address: string) => {\n      dispatch(selectPool(address))\n      dispatch(handleOpenDrawer(false))\n      history.push(`app/${appId}`)\n    },\n    [dispatch, history, appId],\n  )\n  return (\n    <Row className=\"widget\">\n      <Col span={24}>\n        <Header />\n      </Col>\n      <Col span={24} className=\"body-widget\">\n        {selectedCategoryPool === 'sentre' ||\n        selectedCategoryPool === 'community' ? (\n          <HotPools onClick={setActiveAddress} />\n        ) : (\n          <LptsPools onClick={setActiveAddress} />\n        )}\n      </Col>\n      <Col span={24} style={{ height: 16 }} />\n      <LptWatcher />\n      <RetailerWatcher />\n      <OrderWatcher />\n    </Row>\n  )\n}\n\nexport default Widget\n","// Bugfix performance\n// https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/Troubleshooting.md#excessive-use-of-memory-and-cpu\nexport const devTools = (appName: string): any => {\n  if (process.env.REACT_APP_ENV !== 'development') return false\n  return {\n    name: appName,\n    actionSanitizer: ({ payload, type }: { payload: any; type: string }) => ({\n      payload,\n      type,\n    }),\n  }\n}\n\n// BigInt Serialization Middleware\n// https://redux-toolkit.js.org/api/serializabilityMiddleware\nconst isPlain = (val: any): boolean => {\n  const isPlainObject = (obj: object): boolean => {\n    if (obj === null) return false\n    const proto = Object.getPrototypeOf(obj)\n    return proto !== null && Object.getPrototypeOf(proto) === null\n  }\n  return (\n    typeof val === 'undefined' ||\n    val === null ||\n    typeof val === 'string' ||\n    typeof val === 'boolean' ||\n    typeof val === 'number' ||\n    Array.isArray(val) ||\n    isPlainObject(val) ||\n    typeof val === 'bigint'\n  )\n}\nBigInt.prototype.toJSON = function () {\n  return this.toString() // https://github.com/GoogleChromeLabs/jsbi/issues/30\n}\nexport const bigintSerializationMiddleware = {\n  serializableCheck: {\n    isSerializable: isPlain,\n  },\n}\n","import { configureStore } from '@reduxjs/toolkit'\nimport { devTools, bigintSerializationMiddleware } from 'shared/devTools'\n\nimport main from 'app/model/main.controller'\nimport stat from 'app/model/stat.controller'\nimport lpts from 'app/model/lpts.controller'\nimport retailers from 'app/model/retailers.controller'\nimport orders from 'app/model/orders.controller'\nimport settings from 'app/model/settings.controller'\n\n/**\n * Isolated store\n */\nconst model = configureStore({\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware(bigintSerializationMiddleware),\n  devTools: devTools('myapp'),\n  reducer: {\n    main,\n    stat,\n    lpts,\n    retailers,\n    orders,\n    settings,\n  },\n})\n\nexport type AppState = ReturnType<typeof model.getState>\nexport type AppDispatch = typeof model.dispatch\nexport default model\n","import { Provider } from 'react-redux'\nimport {\n  WalletProvider,\n  UIProvider,\n  AccountProvider,\n  PoolProvider,\n  MintProvider,\n} from 'senhub/providers'\n\nimport PageView from 'app/page'\nimport WidgetView from 'app/widget'\n\nimport model from 'app/model'\nimport configs from 'app/configs'\n\nimport 'app/static/styles/light.less'\nimport 'app/static/styles/dark.less'\nimport 'app/static/styles/index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const Page = () => {\n  return (\n    <UIProvider appId={appId} antd>\n      <MintProvider>\n        <PoolProvider>\n          <AccountProvider>\n            <WalletProvider>\n              <Provider store={model}>\n                <PageView />\n              </Provider>\n            </WalletProvider>\n          </AccountProvider>\n        </PoolProvider>\n      </MintProvider>\n    </UIProvider>\n  )\n}\n\nexport const widgetConfig: WidgetConfig = {\n  size: 'small',\n  type: 'solid',\n}\n\nexport const Widget = () => {\n  return (\n    <MintProvider>\n      <UIProvider appId={appId} antd>\n        <PoolProvider>\n          <AccountProvider>\n            <WalletProvider>\n              <Provider store={model}>\n                <WidgetView />\n              </Provider>\n            </WalletProvider>\n          </AccountProvider>\n        </PoolProvider>\n      </UIProvider>\n    </MintProvider>\n  )\n}\n","import { Net } from 'shared/runtime'\n\nconst SOLVARS = {\n  spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n  splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n}\n\n/**\n * Contructor\n */\ntype Conf = {\n  node: string\n  chainId: 101 | 102 | 103\n  sntrAddress: string\n  sntrPoolAddress: string\n  swapAddress: string\n  taxmanAddress: string\n} & typeof SOLVARS\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    ...SOLVARS,\n    node: 'https://api.devnet.solana.com',\n    chainId: 103,\n    sntrAddress: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n    sntrPoolAddress: '3EUPL7YQLbU6DNU5LZeQeHPXTf1MigJ2yASXA9rH5Ku4',\n    swapAddress: '4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF',\n    taxmanAddress: '8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    ...SOLVARS,\n    node: 'https://api.testnet.solana.com',\n    chainId: 102,\n    sntrAddress: '',\n    sntrPoolAddress: '',\n    swapAddress: '',\n    taxmanAddress: '',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    ...SOLVARS,\n    node: 'https://api.mainnet-beta.solana.com',\n    chainId: 101,\n    sntrAddress: 'SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M',\n    sntrPoolAddress: 'Aa3WZX7Xunfebp2MuAcz9CNw8TYTDL7mVrmb11rjyVm6',\n    swapAddress: 'SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV',\n    taxmanAddress: '9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Env } from 'shared/runtime'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_NAME !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string' ||\n  typeof process.env.REACT_APP_SENHUB !== 'string'\n)\n  throw new Error(\n    'Please add REACT_APP_ID, REACT_APP_NAME, REACT_APP_URL in .env.local!',\n  )\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  defaultAppId: string\n  extra: SenReg\n  senreg: string\n}\n\nconst DEFAULT_APP_ID = 'senhub'\nconst devApp = {\n  [process.env.REACT_APP_ID]: {\n    url: process.env.REACT_APP_URL,\n    appId: process.env.REACT_APP_ID,\n    name: process.env.REACT_APP_NAME,\n    author: {\n      name: process.env.REACT_APP_AUTHOR_NAME || '',\n      email: process.env.REACT_APP_AUTHOR_EMAIL || '',\n    },\n    supportedViews: (process.env.REACT_APP_SUPPORTED_VIEWS || '')\n      .split(',')\n      .map((view) => view.trim())\n      .filter((view) => ['page', 'widget'].includes(view)) as Array<\n      'widget' | 'page'\n    >,\n    tags: (process.env.REACT_APP_TAGS || '')\n      .split(',')\n      .map((tag) => tag.trim()),\n    description: process.env.REACT_APP_DESCRIPTION || '',\n    verified: false,\n  },\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    defaultAppId: DEFAULT_APP_ID,\n    extra: devApp,\n    senreg: 'https://descartesnetwork.github.io/senreg/register.json',\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    defaultAppId: DEFAULT_APP_ID,\n    extra: devApp,\n    senreg: 'https://descartesnetwork.github.io/senreg/register.json',\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    defaultAppId: DEFAULT_APP_ID,\n    extra: {},\n    senreg: 'https://descartesnetwork.github.io/senreg/register.json',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { net, env } from 'shared/runtime'\nimport sol from './sol.config'\nimport register from './register.config'\n\nconst configs = {\n  sol: sol[net],\n  register: register[env],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","// Pseudo native sol info\n// It's for all networks\nexport const sol = (chainId: 101 | 102 | 103) => ({\n  symbol: 'SOL',\n  name: 'Solana',\n  address: '11111111111111111111111111111111',\n  decimals: 9,\n  chainId,\n  extensions: {\n    coingeckoId: 'solana',\n  },\n  logoURI:\n    'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png',\n})\n\n// Pseudo SNTR info\n// Only for testnet and mainnet\nexport const sntr = (chainId: 102 | 103) => ({\n  symbol: 'SNTR',\n  name: 'Sentre',\n  address: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n  decimals: 9,\n  chainId,\n  extensions: {\n    coingeckoId: 'sentre',\n  },\n  logoURI:\n    'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png',\n})\n\n// Pseudo token infos for devnet\nconst supplementary = [\n  sol(103),\n  sntr(103),\n  {\n    symbol: 'wBTC',\n    name: 'Wrapped Bitcoin',\n    address: '8jk4eJymMfNZV9mkRNxJEt2VJ3pRvdJvD5FE94GXGBPM',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'bitcoin',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/qfnqNqs3nCAHjnyCgLRDbBtq4p2MtHZxw8YjSyYhPoL/logo.png',\n  },\n  {\n    symbol: 'wETH',\n    name: 'Ethereum',\n    address: '27hdcZv7RtuMp75vupThR3T4KLsL61t476eosMdoec4c',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'ethereum',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png',\n  },\n  {\n    symbol: 'UNI',\n    name: 'Uniswap',\n    address: 'FVZFSXu3yn17YdcxLD72TFDUqkdE5xZvcW18EUpRQEbe',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'uniswap',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3MVa4e32PaKmPxYUQ6n8vFkWtCma68Ld7e7fTktWDueQ/logo.png',\n  },\n  {\n    symbol: 'USDC',\n    name: 'USD Coin',\n    address: '2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'usd-coin',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png',\n  },\n]\n\nexport default supplementary\n","import { Document } from 'flexsearch'\nimport { TokenListProvider, TokenInfo } from '@solana/spl-token-registry'\n\nimport { net } from 'shared/runtime'\nimport configs from 'os/configs'\nimport supplementary, { sntr, sol } from './supplementary'\n\nconst {\n  sol: { chainId },\n} = configs\nconst DELIMITER = /[\\W_]+/g\nconst PRESET = {\n  tokenize: 'full',\n  context: true,\n  minlength: 3,\n}\nconst DOCUMENT = {\n  document: {\n    id: 'address',\n    index: [\n      { field: 'symbol', ...PRESET },\n      { field: 'name', ...PRESET },\n    ],\n  },\n}\n\nclass TokenProvider {\n  private tokenMap: Map<string, TokenInfo>\n  private engine: typeof Document | undefined\n  readonly chainId: typeof chainId\n  readonly cluster: typeof net\n  private loading: boolean\n  private queue: Array<any>\n\n  constructor() {\n    this.tokenMap = new Map<string, TokenInfo>()\n    this.engine = undefined\n    this.chainId = chainId\n    this.cluster = net\n    this.loading = false\n    this.queue = []\n    // Init\n    this._init()\n  }\n\n  private _init = async (): Promise<[Map<string, TokenInfo>, any]> => {\n    if (this.tokenMap.size) return [this.tokenMap, this.engine]\n    return new Promise(async (resolve) => {\n      // Queue of getters to avoid race condition of multiple _init calling\n      if (this.loading) return this.queue.push(resolve)\n      // Start\n      this.loading = true\n      // Build token list\n      let tokenList = await (await new TokenListProvider().resolve())\n        .filterByChainId(this.chainId)\n        .getList()\n      if (this.cluster === 'devnet') tokenList = tokenList.concat(supplementary)\n      if (this.cluster === 'testnet')\n        tokenList = tokenList.concat([sntr(102), sol(102)])\n      else tokenList = tokenList.concat([sol(101)])\n      // Build token map\n      tokenList.forEach((token) => this.tokenMap.set(token.address, token))\n      // Build search engine\n      this.engine = new Document(DOCUMENT)\n      this.tokenMap.forEach(({ address, ...doc }) =>\n        this.engine.add(address, doc),\n      )\n      // Resolve the main getter\n      resolve([this.tokenMap, this.engine])\n      // Resolve the rest of getters\n      while (this.queue.length) this.queue.shift()([this.tokenMap, this.engine])\n      // Finish\n      this.loading = false\n    })\n  }\n\n  all = async (): Promise<TokenInfo[]> => {\n    const [tokenMap] = await this._init()\n    return Array.from(tokenMap.values())\n  }\n\n  findByAddress = async (addr: string): Promise<TokenInfo | undefined> => {\n    const [tokenMap] = await this._init()\n    return tokenMap.get(addr)\n  }\n\n  find = async (keyword: string, limit?: 10): Promise<TokenInfo[]> => {\n    const [tokenMap, engine] = await this._init()\n    let tokens: TokenInfo[] = []\n    keyword.split(DELIMITER).forEach((key) => {\n      const raw: Array<{ result: string[] }> = engine.search(key, limit)\n      return raw.forEach(({ result }) => {\n        return result.forEach((id: string) => {\n          if (tokens.findIndex(({ address }) => address === id) < 0) {\n            const token = tokenMap.get(id)\n            if (token) tokens.push(token)\n          }\n        })\n      })\n    })\n    return tokens\n  }\n}\n\nexport default TokenProvider\n","import storage from './storage'\n\n/**\n * Environment\n */\nconst getEnv = () => {\n  switch (process.env.REACT_APP_ENV) {\n    case 'development':\n      return 'development'\n    case 'staging':\n      return 'staging'\n    case 'production':\n      return 'production'\n    default:\n      return 'development'\n  }\n}\nexport type Env = 'development' | 'staging' | 'production'\nexport const env: Env = getEnv()\n\n/**\n * Network\n */\nconst getNetwork = () => {\n  switch (storage.get('network')) {\n    case 'devnet':\n      return 'devnet'\n    case 'testnet':\n      return 'testnet'\n    case 'mainnet':\n      return 'mainnet'\n    default:\n      return 'mainnet'\n  }\n}\nexport type Net = 'devnet' | 'testnet' | 'mainnet'\nexport const net: Net = getNetwork()\n\nexport const onSwitchNetwork = (value: Net) => {\n  storage.set('network', value)\n  return window.location.reload()\n}\n","const KEY = 'sentre'\nconst driver = window.localStorage\n\nconst convert = (value: string | null) => {\n  if (!value) return null\n  try {\n    return JSON.parse(value)\n  } catch (e) {\n    return null\n  }\n}\n\nconst storage = {\n  set: (key: string, value: any) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') data = {}\n    data[key] = value\n    driver.setItem(KEY, JSON.stringify(data))\n  },\n  get: (key: string) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') return null\n    return data[key]\n  },\n  clear: (key: string) => {\n    storage.set(key, null)\n  },\n}\n\nexport default storage\n"],"names":["CUSTOM_ICONS","forwardRef","name","className","props","ref","cln","src","pools","onChange","keyword","setKeyword","useState","tokenProvider","useMint","search","useCallback","async","length","undefined","account","poolData","find","address","tokenInfos","mintAddress","map","searchedPools","filter","data","mint_a","mint_b","includes","useEffect","Card","bodyStyle","padding","bordered","Input","placeholder","value","size","prefix","Button","type","style","marginLeft","onClick","icon","e","target","DEFAULT_CACHE_CONFIG","ttl","DEFAULT_SINGLE_FLIGHT_CONFIG","limit","calls","time","cache","RequestQueue","constructor","key","resolveQueue","rejectQueue","this","add","resolve","reject","push","resolves","shift","rejects","error","SingleFlightCache","configs","mapCache","set","setTimeout","delete","get","Map","DataLoader","instanceKey","JSON","stringify","mapInstance","has","instance","newSingleFlight","SingleFlight","requestKey","callback","singleFlight","getSingleFlight","newRequest","load","config","intervalRequest","timeLogs","mapRequestCalling","requestQueue","Object","assign","cacheData","Promise","isFetch","request","fetch","validateLimit","addRequestQueue","createTimeLogs","then","response","catch","finally","fetchRequestQueue","clearInterval","setInterval","now","Date","getTime","asyncWait","ms","shortenAddress","num","delimiter","substring","explorer","addressOrTxId","net","numeric","numbro","fetchCGK","ticket","utils","usePoolTvl","poolAddress","usePool","tvl","setTvl","getMintTotalValue","getMint","getTokenUsd","amount","tokenInfo","findByAddress","extensions","coingeckoId","Error","cgkData","Number","decimals","price","values","pool","mint_lpt","reserve_a","reserve_b","BigInt","supply","deltaA","deltaB","Swap","useMintTotalValue","getTvl","updateTvl","poolTvl","format","PoolStatus","OrderState","PoolTabs","QueryParams","VESTING","locktime","discount","wallet","walletAddress","useWallet","isFrozen","state","Frozen","isOwner","owner","Space","fontSize","DEFAULT_AVATARS","reversed","avatars","setAvatars","deriveAvatar","token","logoURI","deriveAvatars","all","reverse","avatar","Avatar","backgroundColor","border","display","whiteSpace","i","DEFAULT_NAME","separator","setName","deriveName","deriveNames","names","join","DEFAULT_SYMBOL","symbol","setSymbol","deriveSymbol","deriveSymbols","symbols","shared","appId","process","url","senhub","development","staging","production","devnet","swapAddress","taxmanAddress","senOwner","sntrAddress","purchasingAddress","spltAddress","splataAddress","nodeUrl","purchasing","Purchasing","testnet","mainnet","baseURL","exoticFee","exoticTax","correlatedFee","correlatedTax","myRoute","swapRoute","farmRoute","manifest","env","sol","stat","fee","route","api","auth","window","sentre","msg","toString","Math","floor","random","signMessage","Authorization","post","params","authHeader","axios","method","headers","status","er","message","put","StatPool","NAME","fetchStatPoolData","createAsyncThunk","getState","details","endpointDetail","createSlice","initialState","reducers","extraReducers","builder","addCase","fulfilled","payload","action","Fragment","selected","dispatch","useDispatch","useSelector","poolState","mintLptAddress","apy","useMemo","roi","pow","frozen","cardStyle","height","hoverable","Row","gutter","wrap","align","Col","span","flex","direction","Typography","Tooltip","title","Divider","margin","selectedPoolAddress","setSearchedPools","settings","showArchived","sortedPools","keys","sort","firstRa","firstRb","secondRa","secondRb","firstK","secondK","element","document","getElementById","container","offsetTop","scrollTop","justify","Empty","id","overflow","selectPool","selectedLptAddress","selectCategoryPool","selectedCategoryPool","category","handleOpenDrawer","visible","condition","history","useHistory","main","setActivePoolAddress","Community","stopPropagation","color","lp","lpts","lptAddresses","lptAddress","setActiveAddress","YourPools","timeoutId","max","onValue","setError","cursor","setCursor","innerRef","useRef","onAmount","val","onError","clearTimeout","test","parseFloat","current","setSelectionRange","selectionStart","DEFAULT_VALUE","mintAddresses","activeMintAddress","onSelect","Select","suffixIcon","setDecimals","getDecimals","fetchDecimals","suggestion","setAmount","setActiveMintAddress","accountAddress","setAccountAddress","accounts","useAccount","useMintDecimals","a","balance","getAccountAddress","splt","deriveAssociatedAddress","suffix","marginRight","notifySuccess","content","txId","notify","description","open","notifyError","useMintPrice","strict","mintPrice","setMintPrice","getTokenPrice","tokenAddress","amountBigint","mintDecimals","getMintLptPrice","getMintPrice","mintLptPrice","setVisible","reserveA","setReserveA","mintAddressA","setMintAddressA","reserveB","setReserveB","mintAddressB","setMintAddressB","isMintAChanged","setIsMintAChanged","suggestions","setSuggestions","existedPoolKeys","isExisted","exclusiveMintAddresses","filteredMintAddress","mint","mintAPrice","decimalsA","mintBPrice","decimalsB","isValid","Modal","onCancel","closeIcon","footer","destroyOnClose","centered","level","swap","srcAddresses","initializePool","disabled","block","query","URLSearchParams","useLocation","listSentrePools","poolAddr","Sentre","onInit","addr","idx","setShowArchived","Popover","zIndex","maxWidth","Switch","checked","trigger","placement","selectedTab","setSelectedTab","poolCategory","poolsSelected","Deposited","SwapAction","onSwap","originalRoute","pathname","width","textAlign","copied","setCopied","goFarming","arrowPointAtCenter","text","wordBreak","amountA","amountB","reversedPrice","isReverse","setIsReverse","totalLPT","setTotalLPT","lpt","associatedAddress","setAssociatedAddress","accountData","setAmountFromProps","newAmount","fetchAssociatedAddress","spltProgramId","toBase58","splataProgramId","notEnoughBalance","lineHeight","onClose","loading","setLoading","setLPT","amounts","setAmounts","selectMint","setSelectMint","setDisabled","fee_ratio","tax_ratio","decimalA","decimalB","ratio","getSuggestMintAmount","index","suggestDecimal","parseAmount","suggestAmount","estimateLPT","validateInput","accAddrMintA","accMintA","accAddrMintB","accMintB","amountMintA","amountMintB","Radio","event","Tag","findIndex","newAmounts","onAmounts","srcAAddress","srcBAddress","addSidedLiquidity","feeRatio","taxRatio","totalRatio","asymmetric","asymmetricColor","asymmetricType","onLPT","setSupply","lptPoolAddress","fetchData","delta","dstAddresses","removeLiquidity","depositVisible","setDepositVisible","withdrawVisible","setWithdrawVisible","Content","label","subTitle","Title","sub","calculateRoi","date","background","xs","currentRatio","setFeeRatio","setTaxRatio","currentFee","currentTax","feeAmount","taxAmount","updateFee","CardDescription","poolStatus","Active","Badge","freezePool","thawPool","newOwner","setNewOwner","borderRadius","boxShadow","transferPoolOwnership","minHeight","Tabs","tab","chartData","labels","disableAxe","chartId","isRebuildChart","setRebuildChart","formatData","datasets","chartRef","getBackground","ctx","canvas","getContext","gradient","createLinearGradient","addColorStop","chartInstance","dataInstace","compareData","isEqual","update","Chart","options","responsive","maintainAspectRatio","scales","xAxes","gridLines","drawBorder","ticks","yAxes","beginAtZero","maxTicksLimit","plugins","legend","hover","onHover","elements","DailyReport","programId","actionType","amountIn","amountOut","totalTrans","DailyReportService","parserDailyReport","transLogs","reports","Array","transLog","concat","parseDailyReport","mergeDailyReport","dailyReports","actionTransfers","transfer","source","destination","report","results","forEach","IPFS","_ipfs","ipfs","create","isCID","cid","stream","cat","raw","chunk","Buffer","from","parse","path","isIPFS","PDB","dbName","driver","createInstance","localForage","storeName","dropInstance","clear","appIds","getItem","flat","iterate","backup","restore","setItem","TransLog","programInfo","signature","blockTime","programTransfer","ActionInfo","preBalance","postBalance","ActionTransfer","DEFAULT_LIMIT","Solana","conn","connection","lastSignature","before","getConfirmedSignaturesForAddress2","signatures","confirmedTransactions","promiseTransGroup","offset","skip","signaturesGroup","slice","getParsedConfirmedTransactions","transGroups","transGroup","currentTime","secondFrom","secondTo","programPublicKey","PublicKey","isStop","confirmedSignatureInfos","fetchSignatures","info","fetchConfirmTransaction","ParsedType","SECOND_PER_MILLISECOND","TimeFormat","DateHelper","milliSeconds","valueOf","setMilliSeconds","seconds","ymd","moment","YMD","ymdFrom","ymdTo","dates","dateFrom","fromYmd","dateTo","addDay","dateFormat","subtractDay","dayAmount","subtract","fromSeconds","struct","require","TRANSLOG_PROGRAM_DATA_SCHEMA","SwapActionType","ACTION_TYPE","InitPool","AddLiquidity","RemoveLiquidity","Route","PoolTransLogService","parseAction","filterTransLog","solana","lastSignatureTmp","smartLimit","confirmedTrans","fetchTransactions","trans","transaction","log","parseTransLog","meta","postTokenBalances","preTokenBalances","postBalances","preBalances","innerInstructionData","innerInstructions","instructions","instructionData","mapAccount","parseAccountInfo","accountKeys","isParsedInstruction","parseListActionTransfer","parsed","actions","actionTransfer","actionParsed","Transfer","parsedAction","parseActionTransfer","parsedTransfer","lamports","amountTransfer","mapAccountInfo","accountIndex","uiTokenAmount","pubkey","String","programDataEncode","dataBuffer","base58","programDataDecode","fromBuffer","code","PoolService","poolTransLogService","dailyReportService","TokenProvider","getPoolData","getUsd","mintInfo","fetchTransLog","timeFrom","timeTo","db","cacheTransLog","b","fistTransLog","lastTransLog","beginTransLogs","collect","getDailyInfo","treasury_a","treasury_b","mapTimeDailyReport","tvlA","tvlB","mapTimeTotal","volume","currentReport","prevDate","CHART_CONFIGS","setChartData","isLoading","setIsLoading","ui","useUI","tvlChartConfigs","borderColor","pointRadius","tooltip","pointHitRadius","pointHoverRadius","fetchChart","poolService","poolStat","iconName","isMobile","Spin","tip","spinning","shape","volumeChartConfigs","vol24h","today","yesterday","getHours","orderAddress","orders","locked_time","updated_at","onRedeem","redeemOrder","Open","cancelOrder","Approved","locked","BorderlessTag","Done","Rejected","Canceled","retailers","retailer","bid_amount","ask_amount","created_at","mint_bid","mint_ask","bidDecimals","askDecimals","bidAmount","askAmount","ellipsis","fontWeight","Collapse","activeKey","header","showArrow","orderAddresses","retailerAddress","setIndex","searchIndex","deriveOrderAddress","subValue","floatRight","textDecoration","TimeInfo","retailerData","useNextOrderIndex","bidPrice","askPrice","lockedTime","l","valuation","placeOrder","PriceInfo","styles","round","LOCKTIMES","setLocktime","retailerIndex","noRetailer","lg","getRetailers","getProgramAccounts","purchasingProgramId","filters","dataSize","bulk","buf","parseRetailerData","getRetailer","getRetailerData","upsetRetailer","deleteRetailer","initializeRetailer","unwrap","freezeRetailer","thawRetailer","approveOrder","rejectOrder","getOrders","opts","memcmp","bytes","parseOrderData","getOrder","getOrderData","upsetOrder","deleteOrder","lite","setLite","myRetailerAddresses","cond","fetchOrders","ownerPool","order","md","Affix","position","bottom","right","getLPTs","mintPublicKeys","mintData","re","parseMintData","poolAddresses","mint_authority","freeze_authority","derivePoolAddress","getLPT","getLPTData","upsetLPT","lptData","deleteLPT","watchId","watchData","console","warn","watch","unwatch","poolAddressDefault","sentrePoolAddrDefault","paddingBottom","xl","defaultValue","keyExpand","isActive","setIsActive","expandClass","defaultKey","marginTop","ghost","CommunityPool","SentrePools","prototype","toJSON","bigintSerializationMiddleware","serializableCheck","isSerializable","isArray","obj","proto","getPrototypeOf","isPlainObject","configureStore","middleware","getDefaultMiddleware","devTools","reducer","Page","UIProvider","antd","MintProvider","PoolProvider","AccountProvider","WalletProvider","Provider","store","model","widgetConfig","Widget","SOLVARS","node","chainId","sntrPoolAddress","DEFAULT_APP_ID","devApp","author","email","supportedViews","split","view","trim","tags","tag","verified","defaultAppId","extra","senreg","register","sntr","DELIMITER","PRESET","tokenize","context","minlength","DOCUMENT","field","tokenMap","engine","cluster","queue","_init","tokenList","TokenListProvider","filterByChainId","getList","supplementary","Document","doc","tokens","result","storage","getNetwork","KEY","localStorage","convert"],"sourceRoot":""}