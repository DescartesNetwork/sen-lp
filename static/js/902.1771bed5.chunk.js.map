{"version":3,"file":"static/js/902.1771bed5.chunk.js","mappings":"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","sources":["shared/antd/ionicon/assets/icon-telegram.svg","shared/antd/ionicon/customs.tsx","shared/antd/ionicon/index.tsx","app/page/sideBar/allPools/search.tsx","shared/dataloader/constant.ts","shared/dataloader/request.ts","shared/dataloader/cache.ts","shared/dataloader/index.ts","shared/helper.ts","shared/util.ts","app/components/poolTVL.tsx","app/constant/index.ts","app/components/PoolCardStatus.tsx","app/configs/manifest.config.ts","app/configs/sol.config.ts","app/configs/stat.config.ts","app/configs/fee.ts","app/configs/swapRoute.ts","app/configs/index.ts","app/helper/api.ts","app/model/stat.controller.tsx","app/shared/hooks/useTokenProvider.ts","app/shared/components/mint/mintAvatar.tsx","app/shared/components/mint/mintName.tsx","app/shared/components/mint/mintSymbol.tsx","app/page/sideBar/components/itemPool.tsx","app/page/sideBar/allPools/listPools.tsx","app/model/main.controller.tsx","app/page/sideBar/allPools/index.tsx","app/page/sideBar/components/lptCard.tsx","app/page/sideBar/yourPools/listDepositedPools.tsx","app/page/sideBar/yourPools/index.tsx","shared/antd/numericInput.tsx","app/shared/hooks/useMintDecimals.ts","app/page/sideBar/newPool/selectPools.tsx","app/page/sideBar/newPool/amountSelect.tsx","app/helper/index.ts","app/helper/suggestions.ts","app/page/sideBar/newPool/index.tsx","app/page/sideBar/sentrePools/index.tsx","app/page/sideBar/depositedPools/index.tsx","app/page/sideBar/index.tsx","app/page/poolDetails/liquidityPosition/inversePrice.tsx","app/components/amount.tsx","app/components/deposit/lpt.tsx","app/components/deposit/fullSide.tsx","app/components/deposit/index.tsx","app/components/withdraw/lpt.tsx","app/components/withdraw/info.tsx","app/components/withdraw/index.tsx","app/page/poolDetails/liquidityPosition/liquidityAction.tsx","app/page/poolDetails/liquidityPosition/index.tsx","app/shared/components/numericInput.tsx","app/page/poolDetails/management/FeeInput.tsx","app/page/poolDetails/management/fee.tsx","app/page/poolDetails/management/freeze.tsx","app/page/poolDetails/management/transferOwner.tsx","app/page/poolDetails/management/index.tsx","app/components/chart.tsx","app/stat/helpers/date.ts","app/stat/entities/daily-report.ts","app/stat/logic/daily-report.ts","app/stat/entities/trans-log.ts","app/stat/adapters/solana/client.ts","app/stat/constants/transaction.ts","app/stat/logic/pool/poolTranslog.ts","app/stat/logic/translog.ts","app/stat/constants/sol.ts","app/stat/logic/pool/pool.ts","app/page/poolDetails/totalValueLocked.tsx","app/page/poolDetails/volume24h.tsx","app/page/poolDetails/poolDetailsHeader.tsx","app/page/poolDetails/index.tsx","app/components/viewPoolButton.tsx","app/model/lpts.controller.tsx","app/components/lptWatcher.tsx","app/page/index.tsx","app/widget/header.tsx","app/widget/\bcomponents/swapAction.tsx","app/widget/\bcomponents/lptsPools/itemLPT.tsx","app/widget/\bcomponents/lptsPools/index.tsx","app/widget/\bcomponents/pools/itemPool.tsx","app/widget/\bcomponents/pools/index.tsx","app/widget/index.tsx","shared/devTools.ts","app/model/index.ts","app/bootstrap.app.tsx","os/configs/index.ts","os/configs/register.config.ts","os/configs/sol.config.ts","os/providers/tokenProvider/supplementary.ts","os/providers/tokenProvider/index.ts","shared/runtime.ts","shared/storage.ts"],"sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgIconTelegram({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"inherit\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 50 50\",\n    width: \"50px\",\n    height: \"50px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M46.137,6.552c-0.75-0.636-1.928-0.727-3.146-0.238l-0.002,0C41.708,6.828,6.728,21.832,5.304,22.445 c-0.259,0.09-2.521,0.934-2.288,2.814c0.208,1.695,2.026,2.397,2.248,2.478l8.893,3.045c0.59,1.964,2.765,9.21,3.246,10.758 c0.3,0.965,0.789,2.233,1.646,2.494c0.752,0.29,1.5,0.025,1.984-0.355l5.437-5.043l8.777,6.845l0.209,0.125 c0.596,0.264,1.167,0.396,1.712,0.396c0.421,0,0.825-0.079,1.211-0.237c1.315-0.54,1.841-1.793,1.896-1.935l6.556-34.077 C47.231,7.933,46.675,7.007,46.137,6.552z M22,32l-3,8l-3-10l23-17L22,32z\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconTelegram);\nexport default __webpack_public_path__ + \"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg\";\nexport { ForwardRef as ReactComponent };","import IconTele from './assets/icon-telegram.svg'\n\nexport const CUSTOM_ICONS: Record<string, string> = {\n  'logo-telegram': IconTele,\n}\n","/**\n * IonIcon 5\n * Credit https://ionic.io/ionicons\n */\n\nimport { forwardRef } from 'react'\nimport { CUSTOM_ICONS } from './customs'\n\n/**\n * IonIcon\n * @param name The icon name. You can find it here https://ionic.io/ionicons\n * @param className To modify the span class\n */\nconst IonIcon = forwardRef<\n  HTMLElement,\n  { name: string; className?: string } & any\n>(({ name, className, ...props }, ref) => {\n  const cln = className ? 'anticon ' + className : 'anticon'\n\n  return (\n    <span className={cln} {...props}>\n      {CUSTOM_ICONS[name] ? (\n        <ion-icon ref={ref} src={CUSTOM_ICONS[name]} />\n      ) : (\n        <ion-icon ref={ref} name={name} />\n      )}\n    </span>\n  )\n})\n\nexport default IonIcon\n","import { useCallback, useEffect, useState } from 'react'\nimport { account, PoolData } from '@senswap/sen-js'\n\nimport { Card, Input, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { useMint } from 'senhub/providers'\n\nconst KEYSIZE = 3\n\nconst Search = ({\n  pools,\n  onChange,\n}: {\n  pools: Array<PoolData & { address: string }>\n  onChange: (value: Array<PoolData & { address: string }> | undefined) => void\n}) => {\n  const [keyword, setKeyword] = useState('')\n  const { tokenProvider } = useMint()\n\n  const search = useCallback(async () => {\n    if (!keyword || keyword.length < KEYSIZE) return onChange(undefined)\n    if (account.isAddress(keyword)) {\n      const poolData = pools.find(({ address }) => address === keyword)\n      if (!poolData) return onChange([])\n      return onChange([poolData])\n    }\n    const tokenInfos = await tokenProvider.find(keyword)\n    if (!tokenInfos) return onChange(undefined)\n    const mintAddress = tokenInfos.map(({ address }) => address)\n    const searchedPools = pools.filter((data) => {\n      const { mint_a, mint_b } = data\n      if (mintAddress.includes(mint_a)) return true\n      if (mintAddress.includes(mint_b)) return true\n      return false\n    })\n    return onChange(searchedPools)\n  }, [pools, keyword, onChange, tokenProvider])\n\n  useEffect(() => {\n    search()\n  }, [search])\n\n  return (\n    <Card bodyStyle={{ padding: 8 }} bordered={false}>\n      <Input\n        placeholder=\"Search\"\n        value={keyword}\n        size=\"small\"\n        bordered={false}\n        prefix={\n          <Button\n            type=\"text\"\n            style={{ marginLeft: -7 }}\n            size=\"small\"\n            onClick={keyword ? () => setKeyword('') : () => {}}\n            icon={\n              <IonIcon name={keyword ? 'close-outline' : 'search-outline'} />\n            }\n          />\n        }\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n          setKeyword(e.target.value)\n        }\n      />\n    </Card>\n  )\n}\n\nexport default Search\n","export type LimitConfig = {\n  calls: number\n  time: number\n}\n\nexport type CacheConfig = {\n  ttl: number // millisecond\n}\n\nexport type SingleFlightConfig = {\n  limit?: LimitConfig\n  cache?: CacheConfig\n}\n\n// 10 request per 1 second\nexport const DEFAULT_LIMIT_CONFIG: LimitConfig = {\n  calls: 10,\n  time: 1000,\n}\n\n// 10 request per 1 second\nexport const DEFAULT_CACHE_CONFIG: CacheConfig = {\n  ttl: 30000,\n}\n\nexport const DEFAULT_SINGLE_FLIGHT_CONFIG: SingleFlightConfig = {\n  limit : DEFAULT_LIMIT_CONFIG,\n  cache: DEFAULT_CACHE_CONFIG\n}","export interface IRequestQueue {\n  key: string\n  add(resolve: any, reject: any): void\n  resolves(data: any): void\n  rejects(error: any): void\n}\n\nexport class RequestQueue implements IRequestQueue {\n  key = ''\n  private resolveQueue: any[] = []\n  private rejectQueue: any[] = []\n  constructor(key: string) {\n    this.key = key\n  }\n\n  add(resolve: any, reject: any) {\n    this.resolveQueue.push(resolve)\n    this.rejectQueue.push(reject)\n  }\n\n  resolves(data: any) {\n    while (this.resolveQueue.length > 0) {\n      const resolve = this.resolveQueue.shift()\n      resolve(data)\n    }\n  }\n\n  rejects(error: any) {\n    while (this.rejectQueue.length > 0) {\n      const reject = this.rejectQueue.shift()\n      reject(error)\n    }\n  }\n}\n","import { DEFAULT_CACHE_CONFIG } from './constant'\nimport { CacheConfig } from './constant'\n\nexport class SingleFlightCache {\n  private static mapCache = new Map<string, any>()\n\n  static set(\n    key: string,\n    value: any,\n    configs: CacheConfig = DEFAULT_CACHE_CONFIG,\n  ) {\n    this.mapCache.set(key, value)\n    setTimeout(() => {\n      this.mapCache.delete(key)\n    }, configs.ttl)\n  }\n\n  static get(key: string) {\n    return this.mapCache.get(key)\n  }\n}\n","import { DEFAULT_SINGLE_FLIGHT_CONFIG, SingleFlightConfig } from './constant'\n\nimport { IRequestQueue, RequestQueue } from './request'\nimport { SingleFlightCache } from './cache'\n\nexport class DataLoader {\n  static mapInstance = new Map<string, SingleFlight>()\n\n  private static getSingleFlight(configs: SingleFlightConfig): SingleFlight {\n    const instanceKey = JSON.stringify(configs)\n    if (this.mapInstance.has(instanceKey)) {\n      const instance = this.mapInstance.get(instanceKey)\n      if (instance) return instance\n    }\n\n    let newSingleFlight = new SingleFlight(configs)\n    this.mapInstance.set(instanceKey, newSingleFlight)\n    return newSingleFlight\n  }\n\n  static async load<T>(\n    requestKey: string | object,\n    callback: () => Promise<T>,\n    configs: SingleFlightConfig = {},\n  ): Promise<T> {\n    if (typeof requestKey === 'object') requestKey = JSON.stringify(requestKey)\n\n    let singleFlight = DataLoader.getSingleFlight(configs)\n    DataLoader.mapInstance.set(requestKey, singleFlight)\n    const newRequest = new RequestQueue(requestKey);\n    return singleFlight.load<T>(newRequest, callback)\n  }\n}\n\nclass SingleFlight {\n  private config: SingleFlightConfig\n  private intervalRequest: any\n  private timeLogs: number[] = []\n\n  private mapRequestCalling = new Map<string, IRequestQueue>()\n  private requestQueue: IRequestQueue[] = []\n\n  constructor(configs: SingleFlightConfig) {\n    this.config = Object.assign(DEFAULT_SINGLE_FLIGHT_CONFIG, configs)\n  }\n\n  async load<T>(newRequest: IRequestQueue, callback: () => Promise<T>) {\n    const cacheData = SingleFlightCache.get(newRequest.key)\n    if (cacheData) return Promise.resolve(cacheData)\n\n    let isFetch = false\n    let request = this.mapRequestCalling.get(newRequest.key)\n    if (!request) {\n      request = newRequest\n      isFetch = true\n      this.mapRequestCalling.set(request.key, request)\n    }\n\n    return new Promise((resolve, reject) => {\n      if (!request) return reject('Not found request!')\n      request.add(resolve, reject)\n      if (isFetch) {\n        this.fetch<T>(request, callback)\n      }\n    })\n  }\n\n  private fetch<T>(request: IRequestQueue, callback: () => Promise<T>) {\n    if (!this.validateLimit()) {\n      return this.addRequestQueue(request, callback)\n    }\n    this.createTimeLogs()\n\n    callback()\n      .then((response) => {\n        SingleFlightCache.set(request.key, response, this.config.cache)\n        request.resolves(response)\n      })\n      .catch((error) => {\n        request.rejects(error)\n      })\n      .finally(() => {\n        this.mapRequestCalling.delete(request.key)\n        this.fetchRequestQueue(callback)\n      })\n  }\n\n  private fetchRequestQueue(callback: () => Promise<any>) {\n    if (!this.validateLimit()) return\n    const request = this.requestQueue.shift()\n    if (request) this.load(request, callback)\n\n    if (this.requestQueue.length === 0 && this.intervalRequest) {\n      clearInterval(this.intervalRequest)\n    }\n  }\n\n  private addRequestQueue(request: IRequestQueue, callback: () => Promise<any>) {\n    this.requestQueue.push(request)\n    this.intervalRequest = setInterval(() => {\n      this.fetchRequestQueue(callback)\n    }, this.config.limit?.time)\n  }\n\n  private validateLimit(): boolean {\n    if (!this.config.limit) return false\n\n    const timeFarthest = this.timeLogs[0] || 0\n    const timeNow = new Date().getTime()\n    if (this.timeLogs.length < this.config.limit.calls) {\n      return true\n    }\n    const timeRange = timeNow - timeFarthest\n    const minTimeRange = this.config.limit.time\n    return timeRange > minTimeRange\n  }\n\n  private createTimeLogs() {\n    if (!this.config.limit) return\n\n    const now = new Date().getTime()\n    this.timeLogs.push(now)\n    if (this.timeLogs.length > this.config.limit?.calls) {\n      this.timeLogs.shift()\n    }\n  }\n}\n","import { PoolData, utils } from '@senswap/sen-js'\n\nimport configs from 'os/configs'\nimport { DataLoader } from './dataloader'\n\nconst SEN_TICKET = 'sentre'\n\n/**\n * Extract reserve from pool data\n */\nconst extractReserve = (mintAddress: string, poolData: PoolData): bigint => {\n  const { mint_a, mint_b, reserve_a, reserve_b } = poolData\n  if (mintAddress === mint_a) return reserve_a\n  if (mintAddress === mint_b) return reserve_b\n  return BigInt(0)\n}\n\nconst calcSenPrice = async () => {\n  const {\n    sol: { sntrPoolAddress, sntrAddress },\n  } = configs\n  const senInfo = {\n    icon: 'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png',\n    symbol: 'SNTR',\n    name: 'Sentre',\n    address: sntrAddress,\n    rank: 0,\n    price: 0,\n    priceChange: 0,\n    totalVolume: 0,\n  }\n  try {\n    const poolData = await window.sentre?.swap?.getPoolData(sntrPoolAddress)\n    const { mint_a, mint_b } = poolData\n    const usdcAddress = sntrAddress === mint_a ? mint_b : mint_a\n    const usdcReserve = extractReserve(usdcAddress, poolData)\n    const senReserve = extractReserve(sntrAddress, poolData)\n    senInfo.price =\n      Number(utils.undecimalize(usdcReserve, 9)) /\n      Number(utils.undecimalize(senReserve, 9))\n    return senInfo\n  } catch (er) {\n    return senInfo\n  }\n}\n\nexport const fetchCGK = async (ticket = '') => {\n  return DataLoader.load(\n    'fetchCGK' + ticket,\n    ticket === SEN_TICKET ? calcSenPrice : () => utils.parseCGK(ticket),\n  )\n}\n\nexport const randomColor = (seed?: string, opacity?: string | number) => {\n  let hash = Math.floor(Math.random() * 16777215)\n  if (seed) {\n    hash = 0\n    for (let i = 0; i < seed.length; i++) {\n      hash = seed.charCodeAt(i) + ((hash << 5) - hash)\n    }\n  }\n  var rgb = [0, 0, 0]\n  for (let i = 0; i < 3; i++) {\n    var value = (hash >> (i * 8)) & 255\n    rgb[i] = value\n  }\n  return `rgba(${rgb[0]}, 100, ${rgb[1]},${opacity || 1})`\n}\n","import { account } from '@senswap/sen-js'\nimport numbro from 'numbro'\nimport { net } from 'shared/runtime'\n\nexport const asyncWait = (ms: number): Promise<void> => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\nexport const shortenAddress = (address: string, num = 4, delimiter = '...') => {\n  return (\n    address.substring(0, num) +\n    delimiter +\n    address.substring(address.length - num, address.length)\n  )\n}\n\nexport const explorer = (addressOrTxId: string): string => {\n  if (account.isAddress(addressOrTxId)) {\n    return `https://explorer.solana.com/address/${addressOrTxId}?cluster=${net}`\n  }\n  return `https://explorer.solana.com/tx/${addressOrTxId}?cluster=${net}`\n}\n\nexport const numeric = (\n  value?: number | string | BigInt,\n): ReturnType<typeof numbro> => {\n  if (!value) return numbro('0')\n  return numbro(value)\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { TokenInfo } from '@solana/spl-token-registry'\nimport { account, utils } from '@senswap/sen-js'\n\nimport { useMint, usePool } from 'senhub/providers'\nimport { fetchCGK } from 'shared/helper'\nimport { numeric } from 'shared/util'\n\nconst PoolTVL = ({ poolAddress }: { poolAddress: string }) => {\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n  const [tvl, setTVL] = useState(0)\n\n  const getTVL = useCallback(async () => {\n    try {\n      const { reserve_a, reserve_b, mint_a, mint_b } = pools[poolAddress]\n      const mintAddresses = [mint_a, mint_b]\n      const tokenInfos: Array<TokenInfo | any> = await Promise.all(\n        mintAddresses.map((mintAddress) => {\n          if (!account.isAddress(mintAddress)) return {}\n          return tokenProvider.findByAddress(mintAddress)\n        }),\n      )\n      const reserves = [reserve_a, reserve_b]\n      const decimals = tokenInfos.map(({ decimals }) => decimals)\n      const data = await Promise.all(\n        tokenInfos.map(({ extensions }) => {\n          if (!extensions?.coingeckoId) return {} as any\n          return fetchCGK(extensions?.coingeckoId)\n        }),\n      )\n      const prices = data.map(({ price }) => price)\n      let tvl = 0\n      ;[0, 1, 2].forEach((i) => {\n        if (reserves[i] && decimals[i] && prices[i])\n          tvl +=\n            Number(utils.undecimalize(reserves[i] as bigint, decimals[i])) *\n            prices[i]\n      })\n      return setTVL(tvl)\n    } catch (er) {\n      return setTVL(0)\n    }\n  }, [pools, poolAddress, tokenProvider])\n\n  useEffect(() => {\n    getTVL()\n  }, [getTVL])\n\n  return <span>${numeric(tvl).format('0,0.[00]a')}</span>\n}\n\nexport default PoolTVL\n","export enum PoolStatus {\n  Frozen = 2,\n  Active = 1,\n}\n","import { Space } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { usePool, useWallet } from 'senhub/providers'\nimport { PoolStatus } from 'app/constant'\n\nconst PoolCardStatus = ({ poolAddress }: { poolAddress: string }) => {\n  const { pools } = usePool()\n  const poolData = pools[poolAddress] || {}\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const isFrozen = poolData.state === PoolStatus.Frozen\n  const isOwner = walletAddress === poolData?.owner\n\n  return (\n    <Space>\n      {isFrozen && <IonIcon name=\"snow-outline\" style={{ fontSize: 16 }} />}\n      {isOwner && <IonIcon name=\"person-outline\" style={{ fontSize: 16 }} />}\n    </Space>\n  )\n}\n\nexport default PoolCardStatus\n","import { Env } from 'shared/runtime'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string' ||\n  typeof process.env.REACT_APP_SENHUB !== 'string'\n)\n  throw new Error('Please add REACT_APP_ID, REACT_APP_URL in .env!')\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  appId: string\n  url: string\n  senhub: string\n}\n\nconst shared = {\n  appId: process.env.REACT_APP_ID,\n  url: process.env.REACT_APP_URL,\n  senhub: process.env.REACT_APP_SENHUB,\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    ...shared,\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    ...shared,\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    ...shared,\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from 'shared/runtime'\n\nconst SOLVARS = {\n  spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n  splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n}\n\n/**\n * Contructor\n */\ntype Config = {\n  node: string\n  cluster: 'devnet' | 'testnet' | 'mainnet'\n  chainId: 101 | 102 | 103\n  senAddress: string\n  swapAddress: string\n  taxmanAddress: string\n  blackPoolAddresses: string[]\n  senPoolAddress: string\n  senOwner: string[]\n} & typeof SOLVARS\n\nconst configs: Record<Net, Config> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    node: 'https://api.devnet.solana.com',\n    chainId: 103,\n    cluster: 'devnet',\n    senAddress: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n    ...SOLVARS,\n    swapAddress: '4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF',\n    taxmanAddress: '8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9',\n    blackPoolAddresses: [\n      'FaHQpdp87S7d7PBJZjaty514rrEtmStaf1FcDst9GPY4',\n      '5V7sDTzYmjkyg7zXLTTcY8Ls6AAusLRX27CpWEJiqriE',\n      'G8BEKsiKPiazG623piXynTSr89TXLTgWycByvDR9bPii',\n    ],\n    senPoolAddress: '3EUPL7YQLbU6DNU5LZeQeHPXTf1MigJ2yASXA9rH5Ku4',\n    senOwner: ['GJLqpmDxxrV9xruee2vFvEoTho7VVQHRtuHH8nfoAE54'],\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    node: 'https://api.devnet.solana.com',\n    cluster: 'devnet',\n    chainId: 103,\n    senAddress: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n    ...SOLVARS,\n    swapAddress: '4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF',\n    taxmanAddress: '8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9',\n    blackPoolAddresses: [\n      'FaHQpdp87S7d7PBJZjaty514rrEtmStaf1FcDst9GPY4',\n      '5V7sDTzYmjkyg7zXLTTcY8Ls6AAusLRX27CpWEJiqriE',\n      'G8BEKsiKPiazG623piXynTSr89TXLTgWycByvDR9bPii',\n    ],\n    senPoolAddress: '3EUPL7YQLbU6DNU5LZeQeHPXTf1MigJ2yASXA9rH5Ku4',\n    senOwner: ['GJLqpmDxxrV9xruee2vFvEoTho7VVQHRtuHH8nfoAE54'],\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    node: 'https://api.mainnet-beta.solana.com',\n    cluster: 'mainnet',\n    chainId: 101,\n    senAddress: 'SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M',\n    ...SOLVARS,\n    swapAddress: 'SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV',\n    taxmanAddress: '9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e',\n    blackPoolAddresses: [],\n    senPoolAddress: '',\n    senOwner: ['Cs6jYywHTAgdvjxn8xG4VkJJH8DXXy7zbtatzMUWoCMG'],\n  },\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Config = {\n  baseURL: string\n}\n\nconst config: Record<Net, Config> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    baseURL: 'https://stat-dev.sentre.io',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    baseURL: 'https://stat-dev.sentre.io',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    baseURL: 'https://stat.sentre.io',\n  },\n}\n\n/**\n * Module exports\n */\nexport default config\n","import { Env } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Config = {\n  exoticFee: bigint\n  exoticTax: bigint\n  correlatedFee: bigint\n  correlatedTax: bigint\n}\n\nconst config: Record<Env, Config> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    exoticFee: BigInt(2500000),\n    exoticTax: BigInt(0),\n    correlatedFee: BigInt(500000),\n    correlatedTax: BigInt(0),\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    exoticFee: BigInt(2500000),\n    exoticTax: BigInt(0),\n    correlatedFee: BigInt(500000),\n    correlatedTax: BigInt(0),\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    exoticFee: BigInt(2500000),\n    exoticTax: BigInt(0),\n    correlatedFee: BigInt(500000),\n    correlatedTax: BigInt(0),\n  },\n}\n\n/**\n * Module exports\n */\nexport default config\n","import { Env } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Config = {\n  swapRoute: string\n}\n\nconst config: Record<Env, Config> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    swapRoute: '/app/sen_swap',\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    swapRoute: '/app/sen_swap',\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    swapRoute: '/app/sen_swap',\n  },\n}\n\n/**\n * Module exports\n */\nexport default config\n","import { net, env } from 'shared/runtime'\nimport manifest from './manifest.config'\nimport sol from './sol.config'\nimport stat from './stat.config'\nimport fee from './fee'\nimport swapRoute from './swapRoute'\n\nconst configs = {\n  manifest: manifest[env],\n  sol: sol[net],\n  stat: stat[net],\n  fee: fee[env],\n  swapRoute: swapRoute[env],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import axios from 'axios'\n\nconst api = {\n  // Authentication header\n  auth: async (auth: boolean | object = false) => {\n    if (typeof auth === 'object') return auth\n    if (!auth) return null\n    const wallet = window.sentre.wallet\n    if (!wallet) throw new Error('Wallet is not connected')\n    const datetime = Number(new Date()) + 10000 // Valid in 10s\n    const msg = datetime.toString() + Math.floor(Math.random() * 10 ** 16)\n    const data = await wallet.signMessage(msg)\n    const authHeader = JSON.stringify(data)\n    return { Authorization: authHeader }\n  },\n  // Create\n  post: async (\n    url: string,\n    params: any = null,\n    auth: boolean | object = false,\n  ) => {\n    const authHeader = await api.auth(auth)\n    try {\n      const { data } = await axios({\n        method: 'post',\n        url: url,\n        data: params,\n        headers: authHeader,\n      })\n      if (data.status === 'ERROR') throw new Error(data.error)\n      return data\n    } catch (er: any) {\n      if (!er.response) throw new Error(er.message)\n      const {\n        response: {\n          data: { error },\n        },\n      } = er\n      throw new Error(error)\n    }\n  },\n  // Read\n  get: async (\n    url: string,\n    params: any = null,\n    auth: boolean | object = false,\n  ) => {\n    const authHeader = await api.auth(auth)\n    try {\n      const { data } = await axios({\n        method: 'get',\n        url: url,\n        params: params,\n        headers: authHeader,\n      })\n      if (data.status === 'ERROR') throw new Error(data.error)\n      return data\n    } catch (er: any) {\n      if (!er.response) throw new Error(er.message)\n      const {\n        response: {\n          data: { error },\n        },\n      } = er\n      throw new Error(error)\n    }\n  },\n  // Update\n  put: async (\n    url: string,\n    params: any = null,\n    auth: boolean | object = false,\n  ) => {\n    const authHeader = await api.auth(auth)\n    try {\n      const { data } = await axios({\n        method: 'put',\n        url: url,\n        data: params,\n        headers: authHeader,\n      })\n      if (data.status === 'ERROR') throw new Error(data.error)\n      return data\n    } catch (er: any) {\n      if (!er.response) throw new Error(er.message)\n      const {\n        response: {\n          data: { error },\n        },\n      } = er\n      throw new Error(error)\n    }\n  },\n  // Delete\n  delete: async (\n    url: string,\n    params: any = null,\n    auth: boolean | object = false,\n  ) => {\n    const authHeader = await api.auth(auth)\n    try {\n      const { data } = await axios({\n        method: 'delete',\n        url: url,\n        data: params,\n        headers: authHeader,\n      })\n      if (data.status === 'ERROR') throw new Error(data.error)\n      return data\n    } catch (er: any) {\n      if (!er.response) throw new Error(er.message)\n      const {\n        response: {\n          data: { error },\n        },\n      } = er\n      throw new Error(error)\n    }\n  },\n}\n\nexport default api\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport config from 'app/configs'\n\nimport api from 'app/helper/api'\n\nexport enum StatPool {\n  endpointDetail = 'public/api/v1/detail/pools',\n  endpointDaily = 'public/api/v1/daily/pools',\n}\n\ntype StatDetails = {\n  tvl: number\n  tvl24h: number\n  volume: number\n  volume24h: number\n  fee: number\n  fee24h: number\n  roi: number\n}\ntype StatDaily = {\n  time: number\n  volume: number\n  tvl: number\n  fee: number\n}\n\ntype StatData = {\n  details: StatDetails\n  daily: StatDaily[]\n}\n\nconst {\n  stat: { baseURL },\n} = config\n\nexport type State = Record<string, StatData>\n\nconst NAME = 'stat'\nconst initialState: State = {}\n\n/**\n * Actions\n */\n\nexport const fetchStatPoolData = createAsyncThunk<\n  State,\n  { address: string },\n  { state: any }\n>(`${NAME}/fetchStatPoolData`, async ({ address }, { getState }) => {\n  try {\n    const state = getState()\n    const cacheData = state.stat[address]\n    if (cacheData) return { [address]: cacheData }\n\n    const fetchDetails = api.get(\n      `${baseURL}/${StatPool.endpointDetail}/${address}`,\n    )\n    const fetchDaily = api.get(\n      `${baseURL}/${StatPool.endpointDaily}/${address}`,\n    )\n    const [details, daily] = await Promise.all([fetchDetails, fetchDaily])\n    return { [address]: { details, daily } }\n  } catch (error) {\n    return {}\n  }\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      fetchStatPoolData.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useCallback, useEffect, useState } from 'react'\nimport { TokenInfo } from '@solana/spl-token-registry'\n\nimport { useMint, usePool } from 'senhub/providers'\n\nconst useTokenProvider = (mintAddress: string) => {\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n  const [tokenInfo, setTokenInfo] = useState<(TokenInfo | undefined)[]>([])\n\n  const fetchTokenInfo = useCallback(async () => {\n    // Normal mint\n    const token = await tokenProvider.findByAddress(mintAddress)\n    if (token) return setTokenInfo([token])\n    // LP mint\n    const poolData = Object.values(pools).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (!poolData) return setTokenInfo([undefined])\n    const { mint_a, mint_b } = poolData\n    const tokenA = await tokenProvider.findByAddress(mint_a)\n    const tokenB = await tokenProvider.findByAddress(mint_b)\n    return setTokenInfo([tokenA, tokenB])\n  }, [mintAddress, pools, tokenProvider])\n\n  useEffect(() => {\n    fetchTokenInfo()\n  }, [fetchTokenInfo])\n\n  return tokenInfo\n}\n\nexport default useTokenProvider\n","import { ReactNode, useMemo } from 'react'\n\nimport { Avatar } from 'antd'\n\nimport useTokenProvider from '../../hooks/useTokenProvider'\nimport IonIcon from 'shared/antd/ionicon'\nimport { TokenInfo } from '@solana/spl-token-registry'\n\nconst MintAvatar = ({\n  mintAddress,\n  size = 24,\n  icon = <IonIcon name=\"diamond-outline\" />,\n  isReserve = false,\n}: {\n  mintAddress: string\n  size?: number\n  icon?: ReactNode\n  isReserve?: boolean\n}) => {\n  const tokens = useTokenProvider(mintAddress)\n  const convertToken = useMemo(() => {\n    const cloneToken: TokenInfo[] = JSON.parse(JSON.stringify(tokens))\n    if (!isReserve) return cloneToken\n    return cloneToken.reverse()\n  }, [isReserve, tokens])\n  return (\n    <Avatar.Group style={{ display: 'block', whiteSpace: 'nowrap' }}>\n      {convertToken.map((token, i) => (\n        <Avatar\n          key={token?.address || i}\n          src={token?.logoURI}\n          size={size}\n          style={{ backgroundColor: '#2D3355', border: 'none' }}\n        >\n          {icon}\n        </Avatar>\n      ))}\n    </Avatar.Group>\n  )\n}\n\nexport default MintAvatar\n","import { useMemo } from 'react'\n\nimport useTokenProvider from 'app/shared/hooks/useTokenProvider'\nimport { shortenAddress } from 'shared/util'\n\nconst MintName = ({\n  mintAddress,\n  separator = ' • ',\n  isReverse = false,\n}: {\n  mintAddress: string\n  separator?: string\n  isReverse?: boolean\n}) => {\n  const tokens = useTokenProvider(mintAddress)\n\n  const names = useMemo(() => {\n    let names = tokens.map((token) => {\n      if (!token) return shortenAddress(mintAddress)\n      const { name, address, symbol } = token\n      if (tokens.length === 1 && name) return name\n      if (symbol) return symbol\n      return shortenAddress(address)\n    })\n    if (isReverse) names.reverse()\n    names.join(separator)\n    //Normal token\n    if (tokens.length === 1) return names\n    //LPT token\n    return `${names} LPT`\n  }, [isReverse, mintAddress, separator, tokens])\n  return <span>{names}</span>\n}\n\nexport default MintName\n","import { useMemo } from 'react'\n\nimport useTokenProvider from 'app/shared/hooks/useTokenProvider'\n\nconst MintSymbol = ({\n  mintAddress,\n  separator = ' • ',\n  isReverse = false,\n}: {\n  mintAddress: string\n  separator?: string\n  isReverse?: boolean\n}) => {\n  const tokens = useTokenProvider(mintAddress)\n\n  const symbols = useMemo(() => {\n    const symbols = tokens.map((token) => {\n      const shortenAddr = `${mintAddress?.substr(0, 3)}...`\n      if (!token) return shortenAddr\n      return token.symbol\n    })\n    if (isReverse) symbols.reverse()\n\n    return symbols.join(separator)\n  }, [isReverse, mintAddress, separator, tokens])\n  return <span>{symbols}</span>\n}\n\nexport default MintSymbol\n","import { Fragment, ReactElement, useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Row, Col, Card, Space, Typography, Divider, Tooltip } from 'antd'\nimport PoolTVL from '../../../components/poolTVL'\nimport PoolCardStatus from 'app/components/PoolCardStatus'\n\nimport { numeric } from 'shared/util'\nimport { AppState } from 'app/model'\nimport { fetchStatPoolData } from 'app/model/stat.controller'\nimport { PoolStatus } from 'app/constant'\nimport { MintAvatar, MintSymbol } from 'app/shared/components/mint'\nimport { usePool } from 'senhub/providers'\n\nconst ItemPool = ({\n  poolAddress,\n  onClick = () => {},\n  action = <Fragment />,\n  selected = false,\n}: {\n  poolAddress: string\n  onClick?: () => void\n  action?: ReactElement\n  selected?: boolean\n}) => {\n  const dispatch = useDispatch()\n  const { pools } = usePool()\n  const details = useSelector(\n    (state: AppState) => state.stat[poolAddress]?.details,\n  )\n  const poolData = pools?.[poolAddress] || {}\n  const { state: poolState } = poolData\n\n  const mintLptAddress = pools?.[poolAddress]?.mint_lpt\n\n  const apy = useMemo(() => {\n    if (!details) return 0\n\n    const roi = details.roi\n    return Math.pow(1 + Number(roi || 0) / 100, 365) - 1\n  }, [details])\n\n  useEffect(() => {\n    if (!poolAddress) return\n    dispatch(fetchStatPoolData({ address: poolAddress }))\n  }, [dispatch, poolAddress])\n\n  const isFrozen = poolState === PoolStatus.Frozen\n  const cardStyle = selected ? 'card-active' : ''\n\n  return (\n    <Card\n      className={cardStyle}\n      bodyStyle={{ padding: 12, height: 78 }}\n      onClick={onClick}\n      bordered={selected}\n      hoverable\n    >\n      <Row gutter={[12, 12]} wrap={false} align=\"middle\">\n        <Col span={24} flex=\"auto\">\n          <Space direction=\"vertical\">\n            <Space>\n              <MintAvatar mintAddress={mintLptAddress} size={24} />\n              <Typography.Text type={isFrozen ? 'secondary' : undefined}>\n                <MintSymbol mintAddress={mintLptAddress} />\n              </Typography.Text>\n            </Space>\n            <Space>\n              <Tooltip title=\"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.\">\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  TVL:\n                </Typography.Text>\n              </Tooltip>\n              <Typography.Text>\n                <PoolTVL poolAddress={poolAddress} />\n              </Typography.Text>\n              <Divider type=\"vertical\" style={{ margin: 0 }} />\n              <Typography.Text type=\"secondary\" className=\"caption\">\n                APY:\n              </Typography.Text>\n              <Typography.Text>\n                {numeric(apy).format('0,0.[00]%')}\n              </Typography.Text>\n            </Space>\n          </Space>\n        </Col>\n        <Col>\n          <Space size={2}>\n            <PoolCardStatus poolAddress={poolAddress} />\n            {action}\n          </Space>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default ItemPool\n","import { ReactElement, useMemo, useState, useEffect, Fragment } from 'react'\nimport { PoolData } from '@senswap/sen-js'\nimport LazyLoad from 'react-lazyload'\n\nimport { Row, Col } from 'antd'\nimport Search from './search'\nimport ItemPool from '../components/itemPool'\n\nimport { usePool } from 'senhub/providers'\n\nconst ListAllPools = ({\n  onInit = () => {},\n  onClick = () => {},\n  selectedPoolAddress,\n  action = () => <Fragment />,\n}: {\n  onInit?: (poolAddress: string) => void\n  onClick?: (poolAddress: string) => void\n  selectedPoolAddress?: string\n  action?: (poolAddress: string) => ReactElement\n}) => {\n  const [searchedPools, setSearchedPools] = useState<\n    Array<PoolData & { address: string }> | undefined\n  >()\n  const { pools } = usePool()\n\n  const sortedPools = useMemo(\n    () =>\n      Object.keys(pools)\n        .map((address) => ({ address, ...pools[address] }))\n        .sort(\n          (\n            { reserve_a: firstRa, reserve_b: firstRb },\n            { reserve_a: secondRa, reserve_b: secondRb },\n          ) => {\n            const firstK = firstRa * firstRb\n            const secondK = secondRa * secondRb\n            if (firstK > secondK) return -1\n            if (firstK < secondK) return 1\n            return 0\n          },\n        ),\n    [pools],\n  )\n\n  useEffect(() => {\n    if (!sortedPools.length || selectedPoolAddress) return\n    onInit(sortedPools[0]?.address)\n  }, [onInit, selectedPoolAddress, sortedPools])\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <Search onChange={setSearchedPools} pools={sortedPools} />\n      </Col>\n      {(searchedPools || sortedPools).map((poolData, i) => (\n        <Col span={24} key={poolData.address + i}>\n          <LazyLoad height={78} overflow>\n            <ItemPool\n              poolAddress={poolData.address}\n              action={action(poolData.address)}\n              onClick={() => onClick(poolData.address)}\n              selected={selectedPoolAddress === poolData.address}\n            />\n          </LazyLoad>\n        </Col>\n      ))}\n    </Row>\n  )\n}\n\nexport default ListAllPools\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\nexport type State = {\n  selectedPoolAddress: string\n  visible: boolean\n  selectedCategoryPool: string\n}\n\nconst NAME = 'main'\nconst initialState: State = {\n  selectedPoolAddress: '',\n  visible: false,\n  selectedCategoryPool: '',\n}\n\n/**\n * Actions\n */\n\nexport const selectPool = createAsyncThunk(\n  `${NAME}/selectPool`,\n  async (poolAddress: string) => {\n    return { selectedPoolAddress: poolAddress, selectedLptAddress: '' }\n  },\n)\nexport const selectCategoryPool = createAsyncThunk(\n  `${NAME}/selectCategoryPool`,\n  async (category: string) => {\n    return { selectedCategoryPool: category }\n  },\n)\nexport const handleOpenDrawer = createAsyncThunk(\n  `${NAME}/handleOpenDrawer`,\n  async (condition: boolean) => {\n    return { visible: condition }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        selectPool.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        handleOpenDrawer.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        selectCategoryPool.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { account } from '@senswap/sen-js'\n\nimport { Button, Col, Row } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport ListAllPools from './listPools'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { handleOpenDrawer, selectPool } from 'app/model/main.controller'\n\nconst AllPools = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n  const query = new URLSearchParams(useLocation().search)\n  const poolAddress = query.get('poolAddress') || ''\n\n  const onInit = useCallback(\n    (address) => {\n      const addr = account.isAddress(poolAddress) ? poolAddress : address\n      return dispatch(selectPool(addr))\n    },\n    [dispatch, poolAddress],\n  )\n  const setActiveAddress = useCallback(\n    (address: string) => {\n      dispatch(selectPool(address))\n      dispatch(handleOpenDrawer(false))\n    },\n    [dispatch],\n  )\n\n  const action = useCallback(\n    (poolAddress) => {\n      return (\n        <Button\n          type=\"text\"\n          onClick={() => setActiveAddress(poolAddress)}\n          icon={\n            <IonIcon\n              name=\"arrow-forward-outline\"\n              style={{ fontSize: 12, color: '#7A7B85' }}\n            />\n          }\n        />\n      )\n    },\n    [setActiveAddress],\n  )\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <ListAllPools\n          action={action}\n          selectedPoolAddress={selectedPoolAddress}\n          onInit={onInit}\n          onClick={setActiveAddress}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default AllPools\n","import { Fragment, ReactElement } from 'react'\nimport { utils } from '@senswap/sen-js'\n\nimport { Row, Col, Card, Space, Typography, Divider, Tooltip } from 'antd'\nimport PoolTVL from '../../../components/poolTVL'\n\nimport { LPTData } from 'app/model/lpts.controller'\nimport { PoolStatus } from 'app/constant'\nimport { numeric } from 'shared/util'\nimport { MintAvatar, MintSymbol } from 'app/shared/components/mint'\nimport { usePool } from 'senhub/providers'\nimport PoolCardStatus from 'app/components/PoolCardStatus'\n\nconst DECIMAL = 9\n\nconst LPTCard = ({\n  data,\n  onClick = () => {},\n  action = <Fragment />,\n  selected = false,\n}: {\n  data: LPTData\n  onClick?: () => void\n  action: ReactElement\n  selected?: boolean\n}) => {\n  const { pool: poolAddress, amount } = data\n  const lp = utils.undecimalize(amount, DECIMAL)\n  const cardStyle = selected ? 'card-active' : ''\n  const isFrozen = data.state === PoolStatus.Frozen\n  const { pools } = usePool()\n\n  const mintLptAddress = pools?.[poolAddress]?.mint_lpt || ''\n\n  return (\n    <Card\n      className={cardStyle}\n      bodyStyle={{ padding: 12, height: 78 }}\n      onClick={onClick}\n      bordered={selected}\n      hoverable\n    >\n      <Row gutter={[12, 12]} align=\"middle\" wrap={false}>\n        <Col flex=\"auto\">\n          <Space direction=\"vertical\">\n            <Space size=\"middle\">\n              <MintAvatar mintAddress={mintLptAddress} size={24} />\n              <Typography.Text type={isFrozen ? 'secondary' : undefined}>\n                <MintSymbol mintAddress={mintLptAddress} />\n              </Typography.Text>\n            </Space>\n            <Space>\n              <Tooltip title=\"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.\">\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  TVL:\n                </Typography.Text>\n              </Tooltip>\n              <Typography.Text>\n                <PoolTVL poolAddress={poolAddress} />\n              </Typography.Text>\n              <Divider type=\"vertical\" style={{ margin: 0 }} />\n              <Typography.Text type=\"secondary\" className=\"caption\">\n                My LPT:\n              </Typography.Text>\n              <Typography.Text>\n                {numeric(lp).format('0,0.[00]')}\n              </Typography.Text>\n            </Space>\n          </Space>\n        </Col>\n        <Col>\n          <Space size={2}>\n            <PoolCardStatus poolAddress={poolAddress} /> {action}\n          </Space>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default LPTCard\n","import { ReactElement, Fragment, useEffect, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport LazyLoad from 'react-lazyload'\n\nimport { Row, Col } from 'antd'\nimport LPTCard from '../components/lptCard'\n\nimport { AppState } from 'app/model'\nimport { usePool, useWallet } from 'senhub/providers'\n\nconst ListMyPools = ({\n  onInit = () => {},\n  onClick = () => {},\n  selectedPoolAddress,\n  action = () => <Fragment />,\n}: {\n  onInit?: (poolAddress: string) => void\n  onClick?: (lptAddress: string, poolAddress: string) => void\n  selectedPoolAddress?: string\n  action?: (lptAddress: string, poolAddress: string) => ReactElement\n}) => {\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const { pools } = usePool()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const lptAddresses = useMemo(\n    () =>\n      Object.keys(lpts).filter((lptAddress) => {\n        const { pool: poolAddress } = lpts[lptAddress]\n        if (pools?.[poolAddress]?.owner === walletAddress)\n          return pools?.[poolAddress]\n        return null\n      }),\n    [lpts, pools, walletAddress],\n  )\n\n  useEffect(() => {\n    if (!lptAddresses.length) return\n    onInit(lptAddresses[0])\n  }, [onInit, lptAddresses, lpts])\n\n  return (\n    <Row gutter={[12, 12]}>\n      {lptAddresses.map((lptAddress, i) => {\n        const { pool: poolAddress } = lpts[lptAddress]\n        return (\n          <Col span={24} key={lptAddress + i}>\n            <LazyLoad height={78} overflow>\n              <LPTCard\n                data={lpts[lptAddress]}\n                action={action(lptAddress, poolAddress)}\n                onClick={() => onClick(lptAddress, poolAddress)}\n                selected={selectedPoolAddress === poolAddress}\n              />\n            </LazyLoad>\n          </Col>\n        )\n      })}\n    </Row>\n  )\n}\n\nexport default ListMyPools\n","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Row, Col, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport ListMyPools from './listDepositedPools'\n\nimport { handleOpenDrawer, selectPool } from 'app/model/main.controller'\nimport { AppDispatch, AppState } from 'app/model'\n\nconst YourPools = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n\n  const setActiveAddress = useCallback(\n    (lptAddress: string, poolAddress: string) => {\n      dispatch(selectPool(poolAddress))\n      dispatch(handleOpenDrawer(false))\n    },\n    [dispatch],\n  )\n  const action = useCallback(\n    (lptAddress, poolAddress) => (\n      <Button\n        type=\"text\"\n        onClick={() => setActiveAddress(lptAddress, poolAddress)}\n        size=\"small\"\n        icon={\n          <IonIcon\n            name=\"arrow-forward-outline\"\n            style={{ fontSize: 12, color: '#7A7B85' }}\n          />\n        }\n      />\n    ),\n    [setActiveAddress],\n  )\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <ListMyPools\n          action={action}\n          selectedPoolAddress={selectedPoolAddress}\n          onClick={setActiveAddress}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default YourPools\n","import { ChangeEvent, useState, forwardRef, useCallback, useRef } from 'react'\n\nimport { Input, Tooltip, Space, InputProps } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nlet timeoutId: ReturnType<typeof setTimeout> | undefined\n\n/**\n * Numeric Input\n * - Check balance based on max\n * - Only accept numeric characters\n * @remarks The props of input follows the same as https://ant.design/components/input/#API. Extra & Overrided props\n * @param max - Maximum\n * @param onValue - A triggerred function if a valid number\n */\nconst NumericInput = forwardRef(\n  (\n    {\n      max,\n      onValue = () => {},\n      onChange = () => {},\n      onBlur = () => {},\n      ...props\n    }: InputProps & {\n      onValue?: (val: string) => void\n      max?: string | number\n    },\n    ref: any,\n  ) => {\n    const [error, setError] = useState('')\n    const [cursor, setCursor] = useState<number | null>(null)\n    const innerRef = useRef(ref)\n\n    // Handle amount\n    const onAmount = useCallback(\n      (val: string) => {\n        const onError = (er: string) => {\n          if (timeoutId) {\n            clearTimeout(timeoutId)\n            timeoutId = undefined\n          }\n          setError(er)\n          timeoutId = setTimeout(() => setError(''), 500)\n        }\n        const reg = /^\\d*(\\.\\d*)?$/\n        if (!reg.test(val)) return onError('Invalid character')\n        if (max && parseFloat(val) > parseFloat(max.toString()))\n          return onError('Not enough balance')\n        return onValue(val)\n      },\n      [max, onValue],\n    )\n    // Handle cursor\n    innerRef?.current?.setSelectionRange(cursor, cursor)\n    return (\n      <Tooltip\n        title={\n          <Space>\n            <IonIcon name=\"warning\" />\n            {error}\n          </Space>\n        }\n        visible={!!error}\n      >\n        <Input\n          {...props}\n          onBlur={(e) => {\n            onBlur(e)\n            const value = Number(e.target.value)\n            if (e.target.value) onAmount(value ? value.toString() : '')\n          }}\n          onChange={(e: ChangeEvent<HTMLInputElement>) => {\n            onChange(e)\n            setCursor(e.target.selectionStart)\n            onAmount(e.target.value || '')\n          }}\n          ref={innerRef}\n        />\n      </Tooltip>\n    )\n  },\n)\n\nexport default NumericInput\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from 'senhub/providers'\n\nconst useMintDecimals = (mintAddress: string): number => {\n  const [decimals, setDecimals] = useState(0)\n  const { tokenProvider, getMint } = useMint()\n\n  const fetchTokenDecimals = useCallback(async () => {\n    if (!mintAddress) return setDecimals(0)\n    // Find in token provider\n    const token = await tokenProvider.findByAddress(mintAddress)\n    if (token) return setDecimals(token.decimals)\n    // Find on blockchain (slow than token provider)\n    try {\n      const mint = await getMint({ address: mintAddress })\n      return setDecimals(mint[mintAddress].decimals)\n    } catch (error) {}\n    return setDecimals(0)\n  }, [getMint, mintAddress, tokenProvider])\n\n  useEffect(() => {\n    fetchTokenDecimals()\n  }, [fetchTokenDecimals])\n\n  return decimals\n}\n\nexport default useMintDecimals\n","import { Space, Select, Divider, Typography } from 'antd'\nimport { MintAvatar, MintSymbol } from 'app/shared/components/mint'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst SelectPools = ({\n  mintAddresses,\n  activeMintAddress,\n  onSelect,\n}: {\n  mintAddresses: string[]\n  activeMintAddress: string\n  onSelect: (mintAddress: any) => void\n}) => {\n  return (\n    <Select\n      onChange={onSelect}\n      value={activeMintAddress || ''}\n      bordered={false}\n      suffixIcon={<Divider type=\"vertical\" style={{ margin: 0 }} />}\n      style={{ marginLeft: -7 }}\n    >\n      <Select.Option value=\"Select\">\n        <Space size={4}>\n          <MintAvatar\n            mintAddress={'Select'}\n            icon={<IonIcon name=\"help-outline\" />}\n          />\n          <Typography.Text>Select</Typography.Text>\n        </Space>\n      </Select.Option>\n      {mintAddresses.map((mintAddress, i) => {\n        return (\n          <Select.Option key={mintAddress + i} value={mintAddress}>\n            <Space size={4}>\n              <MintAvatar mintAddress={mintAddress} />\n              <MintSymbol mintAddress={mintAddress} />\n            </Space>\n          </Select.Option>\n        )\n      })}\n    </Select>\n  )\n}\n\nexport default SelectPools\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useAccount, useWallet } from 'senhub/providers'\nimport { account, AccountData, utils } from '@senswap/sen-js'\n\nimport { Row, Col, Button, Typography, Space } from 'antd'\n\nimport NumericInput from 'shared/antd/numericInput'\nimport { numeric } from 'shared/util'\nimport useTokenProvider from 'app/shared/hooks/useTokenProvider'\nimport useMintDecimals from 'app/shared/hooks/useMintDecimals'\nimport SelectPools from './selectPools'\n\ninterface SuggestMintAmount {\n  symbol?: string\n  amount?: number\n  address: string\n}\n\nconst AmountSelect = ({\n  mintAddresses,\n  onChange,\n  suggestInfo,\n}: {\n  mintAddresses: string[]\n  onChange: ({\n    amount,\n    mintAddress,\n  }: {\n    amount: bigint\n    mintAddress: string\n  }) => void\n  suggestInfo?: SuggestMintAmount\n}) => {\n  const [amount, setAmount] = useState('')\n  const [activeMintAddress, setActiveMintAddress] = useState<string>('Select')\n  const [associatedAddress, setAssociatedAddress] = useState('')\n  const { accounts } = useAccount()\n  const tokenInfo = useTokenProvider(activeMintAddress)\n  const decimals = useMintDecimals(activeMintAddress)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const accountData: AccountData = accounts?.[associatedAddress]\n\n  const { symbol } = tokenInfo[0] || {}\n\n  const balance = useMemo(() => {\n    const { amount } = accountData || {}\n    if (!amount || !decimals) return '0'\n    return utils.undecimalize(amount, decimals) || '0'\n  }, [accountData, decimals])\n\n  const getAssociatedAddress = useCallback(async () => {\n    const { splt } = window.sentre\n    let associatedAdd = ''\n    try {\n      associatedAdd = await account?.deriveAssociatedAddress(\n        walletAddress,\n        activeMintAddress,\n        splt.spltProgramId.toBase58(),\n        splt.splataProgramId.toBase58(),\n      )\n    } catch (er) {}\n    setAssociatedAddress(associatedAdd)\n  }, [activeMintAddress, walletAddress])\n\n  const onAmount = useCallback(\n    async (val: string) => {\n      await setAmount(val)\n      if (!account.isAddress(activeMintAddress)) return\n      if (!decimals)\n        return onChange({ amount: BigInt(0), mintAddress: activeMintAddress })\n      return onChange({\n        amount: utils.decimalize(val, decimals),\n        mintAddress: activeMintAddress,\n      })\n    },\n    [onChange, decimals, activeMintAddress],\n  )\n\n  const onSelect = useCallback(\n    async (mintAddress) => {\n      await setActiveMintAddress(mintAddress)\n      // Return amount\n      if (!decimals || !parseFloat(amount))\n        return onChange({ amount: BigInt(0), mintAddress })\n      return onChange({\n        amount: utils.decimalize(amount, decimals),\n        mintAddress,\n      })\n    },\n    [onChange, decimals, amount],\n  )\n\n  useEffect(() => {\n    getAssociatedAddress()\n  }, [getAssociatedAddress])\n  const {\n    symbol: suggestSymbol,\n    amount: suggestAmount,\n    address: suggestAddr,\n  } = suggestInfo || {}\n  const isAddr = activeMintAddress === suggestAddr\n\n  return (\n    <Row gutter={[4, 4]}>\n      <NumericInput\n        placeholder={`Amount of ${symbol || 'TOKEN'}`}\n        value={amount}\n        onValue={onAmount}\n        prefix={\n          <SelectPools\n            mintAddresses={mintAddresses}\n            activeMintAddress={activeMintAddress}\n            onSelect={onSelect}\n          />\n        }\n        size=\"large\"\n        suffix={\n          <Button\n            type=\"text\"\n            style={{ marginRight: -7 }}\n            onClick={() => onAmount(balance)}\n          >\n            MAX\n          </Button>\n        }\n        max={balance}\n      />\n      <Col span={24}>\n        <Row gutter={[4, 4]}>\n          <Col span={24} flex=\"auto\">\n            {isAddr && suggestAmount ? (\n              <Space size={4}>\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  Recommend:\n                </Typography.Text>\n                <Typography.Text\n                  type=\"danger\"\n                  style={{ fontSize: 12, cursor: 'pointer' }}\n                  onClick={() => onAmount(suggestAmount?.toString() || '0')}\n                >\n                  {numeric(suggestAmount).format('0,0.[00000]a')}\n                </Typography.Text>\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  {suggestSymbol || 'TOKEN'}\n                </Typography.Text>\n              </Space>\n            ) : null}\n          </Col>\n          <Col>\n            <Typography.Text type=\"secondary\" className=\"caption\">\n              Available: {numeric(balance).format('0,0.[0000]')}{' '}\n              {symbol || 'TOKEN'}\n            </Typography.Text>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default AmountSelect\n","import { explorer } from 'shared/util'\n\nexport const notifySuccess = (content: string, txId: string) => {\n  return window.notify({\n    type: 'success',\n    description: `${content} successfully. Click to view details.`,\n    onClick: () => window.open(explorer(txId), '_blank'),\n  })\n}\n\nexport const notifyError = (er: any) => {\n  return window.notify({\n    type: 'error',\n    description: er.message,\n  })\n}\n","import { utils } from '@senswap/sen-js'\n\nexport interface MintPrice {\n  price: number\n}\nexport interface MintInfo {\n  address: string\n  symbol: string\n  price: number\n  decimals: number\n}\nconst suggestions = {\n  calculateAmount: (\n    srcReserve: bigint,\n    srcMintInfo: MintInfo,\n    suggestMintInfo: MintInfo,\n  ) => {\n    if (!srcReserve || !srcMintInfo || !suggestMintInfo) return 0\n    const { price: suggestPrice } = suggestMintInfo\n    const { decimals, price: srcPrice } = srcMintInfo\n    const totalPriceSrcMint =\n      Number(utils.undecimalize(srcReserve, decimals)) * srcPrice\n    const suggestAmount = totalPriceSrcMint / suggestPrice\n    return suggestAmount\n  },\n}\n\nexport default suggestions\n","import { Fragment, useState, useEffect, useCallback, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useAccount, useMint, usePool, useWallet } from 'senhub/providers'\nimport { account } from '@senswap/sen-js'\n\nimport { Row, Col, Modal, Button, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport AmountSelect from './amountSelect'\n\nimport { notifyError, notifySuccess } from 'app/helper'\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\nimport suggestions, { MintInfo } from 'app/helper/suggestions'\nimport { fetchCGK } from 'shared/helper'\n\nconst {\n  sol: { taxmanAddress },\n} = configs\nconst {\n  fee: { exoticFee, exoticTax },\n} = configs\n\nconst NewPool = () => {\n  const [visible, setVisible] = useState(false)\n  const [reserveA, setReserveA] = useState(BigInt(0))\n  const [mintAddressA, setMintAddressA] = useState('')\n  const [reserveB, setReserveB] = useState(BigInt(0))\n  const [mintAddressB, setMintAddressB] = useState('')\n  const [mapMints, setMapMints] = useState<Map<string, string>>(new Map())\n  const [mintInfos, setMintInfos] = useState<Map<string, MintInfo>>()\n  const [isMintAChanged, setIsMintAChanged] = useState<boolean>(false)\n  const { accounts } = useAccount()\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { pools } = usePool()\n  const { tokenProvider } = useMint()\n\n  const lptAddresses = useMemo(\n    () =>\n      Object.keys(lpts).map((lptAddress) => {\n        const { pool: poolAddress } = lpts[lptAddress]\n        return pools?.[poolAddress]?.mint_lpt\n      }),\n    [pools, lpts],\n  )\n\n  const filterMintAddress = () => {\n    const mintAddress = []\n    for (const accountAddress of Object.keys(accounts)) {\n      const { mint } = accounts[accountAddress]\n      if (!lptAddresses.includes(mint)) mintAddress.push(mint)\n    }\n    return mintAddress\n  }\n\n  const mintsAddress = useMemo(() => {\n    const mints = []\n    if (mintAddressA) mints.push(mintAddressA)\n    if (mintAddressB) mints.push(mintAddressB)\n    return mints\n  }, [mintAddressA, mintAddressB])\n\n  const isValid =\n    reserveA &&\n    reserveB &&\n    account.isAddress(mintAddressA) &&\n    account.isAddress(mintAddressB)\n\n  const mint_a_b = `${mintAddressA}${mintAddressB}`\n  const mint_b_a = `${mintAddressB}${mintAddressA}`\n  const isExist = mapMints.has(mint_a_b) || mapMints.has(mint_b_a)\n\n  const onSelectMintA = ({\n    amount,\n    mintAddress,\n  }: {\n    amount: bigint\n    mintAddress: string\n  }) => {\n    setReserveA(amount)\n    setMintAddressA(mintAddress)\n    setIsMintAChanged(true)\n  }\n\n  const onSelectMintB = async ({\n    amount,\n    mintAddress,\n  }: {\n    amount: bigint\n    mintAddress: string\n  }) => {\n    setReserveB(amount)\n    setMintAddressB(mintAddress)\n    setIsMintAChanged(false)\n  }\n\n  const suggestInfo = useMemo(() => {\n    if (!mintInfos) return\n    const mintInfoA = mintInfos.get(mintAddressA)\n    const mintInfoB = mintInfos.get(mintAddressB)\n\n    if (!mintInfoA || !mintInfoB) return\n    const { address: addressA, symbol: symbolA } = mintInfoA\n    const { address: addressB, symbol: symbolB } = mintInfoB\n\n    let suggestAmount = 0\n    let symbol = ''\n    let mintAddress = ''\n    if (isMintAChanged) {\n      suggestAmount = suggestions.calculateAmount(\n        reserveA,\n        mintInfoA,\n        mintInfoB,\n      )\n      symbol = symbolB\n      mintAddress = addressB\n    } else {\n      suggestAmount = suggestions.calculateAmount(\n        reserveB,\n        mintInfoB,\n        mintInfoA,\n      )\n      symbol = symbolA\n      mintAddress = addressA\n    }\n    return { symbol, amount: suggestAmount, address: mintAddress }\n  }, [\n    isMintAChanged,\n    mintAddressA,\n    mintAddressB,\n    mintInfos,\n    reserveA,\n    reserveB,\n  ])\n\n  const onNewPool = async () => {\n    const { swap, splt, wallet } = window.sentre\n    const mintAddresses = [mintAddressA, mintAddressB]\n    const srcAddresses = await Promise.all(\n      mintAddresses.map((mintAddress) =>\n        splt.deriveAssociatedAddress(walletAddress, mintAddress),\n      ),\n    )\n    if (!wallet) return\n    try {\n      const { txId } = await swap.initializePool(\n        reserveA,\n        reserveB,\n        exoticFee,\n        exoticTax,\n        walletAddress,\n        srcAddresses[0],\n        srcAddresses[1],\n        taxmanAddress,\n        wallet,\n      )\n      setVisible(false)\n      return notifySuccess('Create a new pool', txId)\n    } catch (er) {\n      return notifyError(er)\n    }\n  }\n\n  const getMapMints = useCallback(() => {\n    for (let addr in pools) {\n      const pool = pools[addr]\n      const { mint_a, mint_b } = pool\n      const concatMint = `${mint_a}${mint_b}`\n      mapMints.set(concatMint, addr)\n    }\n    setMapMints(mapMints)\n  }, [mapMints, pools])\n\n  useEffect(() => {\n    getMapMints()\n  }, [getMapMints])\n\n  const onClose = () => {\n    setVisible(!visible)\n    setMintAddressA('')\n    setMintAddressB('')\n  }\n\n  const getMintInfos = useCallback(\n    async (mintAddress: string[]) => {\n      let promise = mintAddress.map(async (mint) => {\n        const mintInfo = {} as MintInfo\n        const tokenInfo = await tokenProvider.findByAddress(mint)\n        const ticket = tokenInfo?.extensions?.coingeckoId\n        let price = 0\n        if (ticket) {\n          price = (await fetchCGK(ticket)).price\n        }\n        if (tokenInfo) {\n          mintInfo.symbol = tokenInfo.symbol\n          mintInfo.decimals = tokenInfo.decimals\n          mintInfo.address = tokenInfo.address\n          mintInfo.price = price\n        }\n        return mintInfo\n      })\n      const mintsDetails = await Promise.all(promise)\n      const mapMintsDetails = new Map<string, MintInfo>()\n      mintsDetails.forEach((mint) => {\n        mapMintsDetails.set(mint.address, mint)\n      })\n      return mapMintsDetails\n    },\n    [tokenProvider],\n  )\n\n  useEffect(() => {\n    if (!mintsAddress) return\n    ;(async () => {\n      const infos = await getMintInfos(mintsAddress)\n      setMintInfos(infos)\n    })()\n  }, [mintsAddress, getMintInfos])\n\n  return (\n    <Fragment>\n      <Button\n        type=\"primary\"\n        size=\"small\"\n        icon={<IonIcon name=\"add-outline\" />}\n        onClick={() => setVisible(!visible)}\n      ></Button>\n      <Modal\n        visible={visible}\n        onCancel={onClose}\n        title={<Typography.Title level={4}>New Pool</Typography.Title>}\n        footer={\n          <Button\n            type=\"primary\"\n            size=\"large\"\n            onClick={onNewPool}\n            disabled={!isValid}\n            block\n          >\n            Supply\n          </Button>\n        }\n        destroyOnClose={true}\n        centered={true}\n      >\n        <Row gutter={[16, 12]}>\n          <Col span={24}>\n            <Typography.Text type=\"secondary\">\n              This is your first time adding liquidity. It is the rate you add\n              that sets the price for that LP token pair. If you feel satisfied\n              with the rate please press the Supply button.\n            </Typography.Text>\n          </Col>\n          <Col span={24}>\n            <Typography.Text type=\"secondary\">\n              <strong className=\"content\">Liquidity provider incentive.</strong>{' '}\n              Liquidity providers earn a 0.25% fee on all trades proportional to\n              their share of the pool. Fees are accrued into the pool and can be\n              claimed by withdrawing your liquidity.\n            </Typography.Text>\n          </Col>\n          <Col span={24}>\n            <AmountSelect\n              mintAddresses={filterMintAddress()}\n              onChange={onSelectMintA}\n              suggestInfo={suggestInfo}\n            />\n          </Col>\n          <Col span={24}>\n            <AmountSelect\n              mintAddresses={filterMintAddress()}\n              onChange={onSelectMintB}\n              suggestInfo={suggestInfo}\n            />\n          </Col>\n          {isExist && (\n            <Col span={24}>\n              <Typography.Text className=\"caption\" type=\"danger\">\n                The pool you want to create with selected mints already exists.\n                We hightly recomment to deposit your liquidity to the pool\n                instead.\n              </Typography.Text>\n            </Col>\n          )}\n        </Row>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default NewPool\n","import { useCallback, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { useLocation } from 'react-router-dom'\n\nimport { Button, Col, Row } from 'antd'\nimport ItemPool from '../components/itemPool'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport configs from 'app/configs'\nimport { usePool } from 'senhub/providers'\nimport { handleOpenDrawer, selectPool } from 'app/model/main.controller'\nimport { AppState } from 'app/model'\n\nconst SentrePools = () => {\n  const dispatch = useDispatch()\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n  const { pools } = usePool()\n  const query = new URLSearchParams(useLocation().search)\n  const poolAddress = query.get('poolAddress') || ''\n  const senOwner = configs.sol.senOwner\n\n  const listSentrePools = Object.keys(pools).filter((poolAddr) => {\n    const poolData = pools?.[poolAddr]\n    const { owner } = poolData\n    return senOwner.includes(owner)\n  })\n\n  const setActiveAddress = useCallback(\n    (address: string) => {\n      dispatch(selectPool(address))\n      dispatch(handleOpenDrawer(false))\n    },\n    [dispatch],\n  )\n\n  const action = useCallback(\n    (poolAddress) => {\n      return (\n        <Button\n          type=\"text\"\n          onClick={() => setActiveAddress(poolAddress)}\n          icon={\n            <IonIcon\n              name=\"arrow-forward-outline\"\n              style={{ fontSize: 12, color: '#7A7B85' }}\n            />\n          }\n        />\n      )\n    },\n    [setActiveAddress],\n  )\n\n  const onInit = useCallback(\n    (address) => {\n      const addr = account.isAddress(poolAddress) ? poolAddress : address\n      return dispatch(selectPool(addr))\n    },\n    [dispatch, poolAddress],\n  )\n\n  useEffect(() => {\n    if (!listSentrePools.length || selectedPoolAddress) return\n    onInit(listSentrePools[0])\n  }, [listSentrePools, onInit, selectedPoolAddress])\n\n  return (\n    <Row gutter={[16, 16]}>\n      {listSentrePools.map((poolAddress, idx) => {\n        return (\n          <Col span={24} key={poolAddress + idx}>\n            <ItemPool\n              poolAddress={poolAddress}\n              action={action(poolAddress)}\n              onClick={() => setActiveAddress(poolAddress)}\n              selected={selectedPoolAddress === poolAddress}\n            />\n          </Col>\n        )\n      })}\n    </Row>\n  )\n}\n\nexport default SentrePools\n","import { useMemo, useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport LazyLoad from 'react-lazyload'\n\nimport { Row, Col, Button } from 'antd'\nimport LPTCard from '../components/lptCard'\n\nimport { AppState } from 'app/model'\nimport { usePool } from 'senhub/providers'\nimport { handleOpenDrawer, selectPool } from 'app/model/main.controller'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst DepositedPools = () => {\n  const dispatch = useDispatch()\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n  const { pools } = usePool()\n\n  const lptAddresses = useMemo(\n    () =>\n      Object.keys(lpts).filter((lptAddress) => {\n        const { pool: poolAddress, amount } = lpts[lptAddress]\n        if (amount !== BigInt(0)) return pools?.[poolAddress]\n        return null\n      }),\n    [pools, lpts],\n  )\n\n  const setActiveAddress = useCallback(\n    (address: string) => {\n      dispatch(selectPool(address))\n      dispatch(handleOpenDrawer(false))\n    },\n    [dispatch],\n  )\n\n  const action = useCallback(\n    (poolAddress) => {\n      return (\n        <Button\n          type=\"text\"\n          onClick={() => setActiveAddress(poolAddress)}\n          icon={\n            <IonIcon\n              name=\"arrow-forward-outline\"\n              style={{ fontSize: 12, color: '#7A7B85' }}\n            />\n          }\n        />\n      )\n    },\n    [setActiveAddress],\n  )\n\n  return (\n    <Row gutter={[12, 12]}>\n      {lptAddresses.map((lptAddress, i) => {\n        const { pool: poolAddress } = lpts[lptAddress]\n        return (\n          <Col span={24} key={lptAddress + i}>\n            <LazyLoad height={78} overflow>\n              <LPTCard\n                data={lpts[lptAddress]}\n                action={action(poolAddress)}\n                onClick={() => setActiveAddress(poolAddress)}\n                selected={selectedPoolAddress === poolAddress}\n              />\n            </LazyLoad>\n          </Col>\n        )\n      })}\n    </Row>\n  )\n}\n\nexport default DepositedPools\n","import { Tabs } from 'antd'\nimport AllPools from './allPools'\nimport YourPools from './yourPools'\nimport NewPool from './newPool'\nimport SentrePools from './sentrePools'\nimport DepositedPools from './depositedPools'\n\nconst SideBar = () => {\n  return (\n    <Tabs\n      defaultActiveKey=\"sentre-pools\"\n      tabBarExtraContent={<NewPool />}\n      style={{ padding: 16 }}\n    >\n      <Tabs.TabPane key=\"sentre-pools\" tab=\"Sentre Pools\">\n        <SentrePools />\n      </Tabs.TabPane>\n      <Tabs.TabPane key=\"all-pools\" tab=\"Community Pools\">\n        <AllPools />\n      </Tabs.TabPane>\n      <Tabs.TabPane key=\"deposited\" tab=\"Deposited\">\n        <DepositedPools />\n      </Tabs.TabPane>\n      <Tabs.TabPane key=\"your-pools\" tab=\"Your Pools\">\n        <YourPools />\n      </Tabs.TabPane>\n    </Tabs>\n  )\n}\n\nexport default SideBar\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { PoolData, utils } from '@senswap/sen-js'\nimport { TokenInfo } from '@solana/spl-token-registry'\n\nimport { Button, Space, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { MintAvatar, MintSymbol } from 'app/shared/components/mint'\nimport { useMint, usePool } from 'senhub/providers'\nimport { numeric } from 'shared/util'\n\nexport type MarketInfo = {\n  icon: any\n  symbol: any\n  name: any\n  address: any\n  rank: any\n  price: any\n  priceChange: any\n  totalVolume: any\n}\nexport type Decimals = {\n  decimals: number\n}\n\nexport type MintDetail = Decimals & MarketInfo\n\nconst DEFAULT_TOKEN_INFO: TokenInfo = {\n  address: '',\n  chainId: 0,\n  decimals: 0,\n  name: '',\n  symbol: 'TOKEN',\n  extensions: undefined,\n  logoURI: '',\n  tags: [],\n}\n\nconst InservePrice = ({ poolAddress }: { poolAddress: string }) => {\n  const { pools } = usePool()\n  const { tokenProvider } = useMint()\n  const [isReverse, setIsReverse] = useState(true)\n  const [tokenInfos, setTokenInfos] = useState<TokenInfo[]>()\n\n  const poolData = useMemo(() => {\n    return pools?.[poolAddress] || {}\n  }, [poolAddress, pools])\n\n  const extractReserve = (mintAddress: string, poolData: PoolData): bigint => {\n    const { mint_a, mint_b, reserve_a, reserve_b } = poolData\n    if (mintAddress === mint_a) return reserve_a\n    if (mintAddress === mint_b) return reserve_b\n    return BigInt(0)\n  }\n\n  const fetchTokenInfos = useCallback(async () => {\n    if (!poolData) return\n    const { mint_a, mint_b } = poolData\n    const listMint = [mint_a, mint_b]\n\n    const promises = listMint.map(async (mint): Promise<TokenInfo> => {\n      let tokenInfo = await tokenProvider.findByAddress(mint)\n      if (!tokenInfo) tokenInfo = DEFAULT_TOKEN_INFO\n      return tokenInfo\n    })\n    const tokenInfos = await Promise.all(promises)\n    setTokenInfos(tokenInfos)\n  }, [poolData, tokenProvider])\n\n  useEffect(() => {\n    fetchTokenInfos()\n  }, [fetchTokenInfos])\n\n  function calcMintAmount(mintDetail: MintDetail | TokenInfo) {\n    if (!mintDetail || !poolData) return 0\n    const { address, decimals } = mintDetail\n    const reserve = extractReserve(address, poolData)\n    const amount = Number(utils.undecimalize(reserve, decimals))\n    return amount\n  }\n\n  function calcInPoolPrice() {\n    if (!tokenInfos) return 0\n    const mintADetail = tokenInfos[0]\n    const mintBDetail = tokenInfos[1]\n\n    const mintAAmount = calcMintAmount(mintADetail)\n    const mintBAmount = calcMintAmount(mintBDetail)\n    if (!mintAAmount || !mintBAmount) return 0\n\n    const inPoolPrice = mintAAmount / mintBAmount\n    if (isReverse) return 1 / inPoolPrice\n    return inPoolPrice\n  }\n\n  return (\n    <Space>\n      <MintAvatar mintAddress={poolData?.mint_lpt} isReserve={isReverse} />\n      <Space>\n        <Typography.Text>\n          {numeric(calcInPoolPrice()).format('0,0.[0000]')}\n        </Typography.Text>\n        <MintSymbol\n          mintAddress={poolData?.mint_lpt}\n          isReverse={isReverse}\n          separator=\"/\"\n        />\n      </Space>\n      <Button\n        type=\"text\"\n        onClick={() => setIsReverse(!isReverse)}\n        icon={<IonIcon name=\"swap-horizontal-outline\" />}\n      />\n    </Space>\n  )\n}\n\nexport default InservePrice\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { account, utils } from '@senswap/sen-js'\n\nimport { Row, Col, Card, Typography, Space, Button, Divider } from 'antd'\nimport { useAccount, useWallet } from 'senhub/providers'\nimport NumericInput from 'shared/antd/numericInput'\nimport { MintAvatar } from 'app/shared/components/mint'\nimport { numeric } from 'shared/util'\nimport useMintDecimals from 'app/shared/hooks/useMintDecimals'\nimport useTokenProvider from 'app/shared/hooks/useTokenProvider'\n\n/**\n * Single amount input\n */\nconst Amount = ({\n  mintAddress,\n  onChange,\n  value,\n}: {\n  mintAddress: string\n  onChange: (value: bigint) => void\n  value: bigint\n}) => {\n  const [amount, setAmount] = useState('')\n  const [associatedAddress, setAssociatedAddress] = useState<string>('')\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { accounts } = useAccount()\n  const tokenInfos = useTokenProvider(mintAddress)\n  const decimals = useMintDecimals(mintAddress)\n\n  const symbols = tokenInfos.map((token) => token?.symbol).join('/')\n  const accountData = accounts?.[associatedAddress]\n\n  const balance = useMemo(() => {\n    const { amount } = accountData || {}\n    if (!amount || !decimals) return '0'\n    return utils.undecimalize(amount, decimals) || '0'\n  }, [accountData, decimals])\n\n  const onAmount = useCallback(\n    async (val: string) => {\n      await setAmount(val)\n      if (!decimals || !parseFloat(val)) return onChange(BigInt(0))\n      return onChange(utils.decimalize(val, decimals))\n    },\n    [decimals, onChange],\n  )\n\n  const setAmountFromProps = useCallback(() => {\n    const newAmount = utils.undecimalize(value, decimals || 0)\n    if (Number(newAmount) === Number(amount)) return\n    setAmount(newAmount)\n    //ignore  'amount' because this function only  call after change 'value' from props\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [decimals, value])\n\n  const fetchAssociatedAddress = useCallback(async () => {\n    const { splt } = window.sentre\n    try {\n      const associatedAddress = await account.deriveAssociatedAddress(\n        walletAddress,\n        mintAddress,\n        splt.spltProgramId.toBase58(),\n        splt.splataProgramId.toBase58(),\n      )\n      setAssociatedAddress(associatedAddress)\n    } catch (er) {}\n  }, [mintAddress, walletAddress])\n\n  useEffect(() => {\n    fetchAssociatedAddress()\n  }, [fetchAssociatedAddress])\n\n  useEffect(() => {\n    setAmountFromProps()\n  }, [setAmountFromProps])\n\n  const notEnoughBalance = Number(amount) > Number(balance)\n\n  return (\n    <Row gutter={[4, 4]}>\n      <Col span={24}>\n        <Card\n          style={{ borderRadius: 8 }}\n          bodyStyle={{ padding: 8 }}\n          bordered={false}\n        >\n          <NumericInput\n            placeholder={`Amount of ${symbols || 'TOKEN'}`}\n            value={amount}\n            onValue={onAmount}\n            size=\"small\"\n            bordered={false}\n            prefix={\n              <Space style={{ marginLeft: -4, marginRight: 7, lineHeight: 1 }}>\n                <MintAvatar mintAddress={mintAddress} />\n                <Divider type=\"vertical\" style={{ margin: 0 }} />\n              </Space>\n            }\n            suffix={\n              <Button\n                type=\"text\"\n                style={{ marginRight: -7 }}\n                size=\"small\"\n                onClick={() => onAmount(balance)}\n              >\n                MAX\n              </Button>\n            }\n            max={balance}\n          />\n        </Card>\n      </Col>\n      <Col flex=\"auto\">\n        {notEnoughBalance && (\n          <Typography.Text style={{ fontSize: 12 }} type=\"danger\">\n            Not enough balance.\n          </Typography.Text>\n        )}\n      </Col>\n      <Col>\n        <Typography.Text style={{ fontSize: 12 }} type=\"secondary\">\n          Available: {numeric(balance).format('0,0.[0000]')}{' '}\n          {symbols || 'TOKEN'}\n        </Typography.Text>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Amount\n","import { Fragment, useCallback, useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { PoolData, utils } from '@senswap/sen-js'\n\nimport { Row, Col, Card, Typography, Space, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { AppState } from 'app/model'\nimport { useMint, usePool } from 'senhub/providers'\nimport { numeric } from 'shared/util'\nimport useTokenProvider from 'app/shared/hooks/useTokenProvider'\nimport { MintDetail } from 'app/page/poolDetails/liquidityPosition/inversePrice'\nimport { fetchCGK } from 'shared/helper'\nimport { TokenInfo } from '@solana/spl-token-registry'\n\nconst MARKET_DEFAULT = {\n  icon: '',\n  symbol: '',\n  name: '',\n  address: '',\n  rank: '',\n  price: 0,\n  priceChange: 0,\n  totalVolume: 0,\n  decimals: 0,\n}\n\nconst LPT = ({\n  value = '0',\n  poolAddress,\n}: {\n  value?: string\n  poolAddress: string\n}) => {\n  const [isReverse, setIsReverse] = useState(false)\n  const [totalLPT, setTotalLPT] = useState('0')\n  const [listMintDetail, setListMintDetail] = useState<MintDetail[]>([])\n  const [ratio, setRatio] = useState(0)\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const { getMint } = useMint()\n  const { pools } = usePool()\n\n  const poolData = pools?.[poolAddress]\n  const { reserve_a, mint_a, reserve_b, mint_b, mint_lpt } = poolData\n  const tokenInfos = useTokenProvider(mint_lpt)\n\n  const lptAddress =\n    Object.keys(lpts).find((key) => lpts[key].pool === poolAddress) || ''\n  const { amount } = lpts[lptAddress] || {}\n  const lpt = Number(utils.undecimalize(amount || BigInt(0), 9))\n  const reserveA = useMemo(async () => {\n    const {\n      [mint_a]: { decimals: decimals_a },\n    } = await getMint({ address: mint_a })\n    return Number(utils.undecimalize(reserve_a, decimals_a))\n  }, [getMint, mint_a, reserve_a])\n  const reserveB = useMemo(async () => {\n    const {\n      [mint_b]: { decimals: decimals_b },\n    } = await getMint({ address: mint_b })\n    return Number(utils.undecimalize(reserve_b, decimals_b))\n  }, [getMint, mint_b, reserve_b])\n  const symbols = useMemo(() => {\n    const symbol = tokenInfos.map((token) => {\n      if (!token) return 'UNKN'\n      return token.symbol\n    })\n    if (isReverse) symbol.reverse()\n    return symbol.join('/')\n  }, [isReverse, tokenInfos])\n\n  const extractReserve = (mintAddress: string, poolData: PoolData) => {\n    const { mint_a, mint_b, reserve_a, reserve_b } = poolData\n    if (mintAddress === mint_a) return reserve_a\n    if (mintAddress === mint_b) return reserve_b\n    return BigInt(0)\n  }\n  const calcMintAmount = (mintDetail: MintDetail | TokenInfo) => {\n    if (!mintDetail || !poolData) return 0\n    const { address, decimals } = mintDetail\n    const reserve = extractReserve(address, poolData)\n    const amount = Number(utils.undecimalize(reserve, decimals))\n    return amount\n  }\n\n  useEffect(() => {\n    ;(async () => {\n      const ratio = isReverse\n        ? (await reserveB) / (await reserveA)\n        : (await reserveA) / (await reserveB)\n      setRatio(ratio)\n    })()\n  }, [isReverse, reserveA, reserveB])\n  useEffect(() => {\n    ;(async () => {\n      const {\n        [mint_lpt]: { supply, decimals },\n      } = await getMint({ address: mint_lpt })\n      setTotalLPT(utils.undecimalize(supply, decimals))\n    })()\n  }, [mint_lpt, getMint])\n\n  const fetchMintDetails = useCallback(async () => {\n    if (!tokenInfos) return\n    const promises = tokenInfos.map(async (tokenInfo): Promise<MintDetail> => {\n      const ticket = tokenInfo?.extensions?.coingeckoId\n      if (!ticket) return MARKET_DEFAULT\n      const marketInfo = await fetchCGK(ticket)\n      return {\n        ...marketInfo,\n        decimals: tokenInfo.decimals,\n        address: tokenInfo.address,\n      }\n    })\n    const listMintDetail = await Promise.all(promises)\n    setListMintDetail(listMintDetail)\n  }, [tokenInfos])\n\n  useEffect(() => {\n    fetchMintDetails()\n  }, [fetchMintDetails])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[12, 12]}>\n        <Col span={24}>\n          <Row gutter={[12, 12]}>\n            <Col flex=\"auto\">\n              <Typography.Text type=\"secondary\">\n                In - Pool Price\n              </Typography.Text>\n            </Col>\n            <Col>\n              <Space>\n                <Button\n                  type=\"text\"\n                  style={{ width: 'auto', height: 'auto' }}\n                  icon={<IonIcon name=\"swap-horizontal-outline\" />}\n                  onClick={() => setIsReverse(!isReverse)}\n                />\n                <Typography.Text>\n                  {numeric(ratio).format('0,0.[0000]')}\n                </Typography.Text>\n                <Typography.Text>{symbols}</Typography.Text>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[12, 12]}>\n            <Col flex=\"auto\">\n              <Typography.Text type=\"secondary\">\n                Pool Share Composition\n              </Typography.Text>\n            </Col>\n            <Col>\n              <Space size={4}>\n                {listMintDetail.map((mintDetail, idx) => {\n                  const mintAmount = calcMintAmount(mintDetail)\n                  return (\n                    <Fragment key={mintAmount + idx}>\n                      <Typography.Text>\n                        {numeric(mintAmount).format('0,0.[00]a')}\n                        {mintDetail.symbol}\n                      </Typography.Text>\n                      {listMintDetail.length > idx + 1 && (\n                        <Typography.Text>+</Typography.Text>\n                      )}\n                    </Fragment>\n                  )\n                })}\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[12, 12]}>\n            <Col flex=\"auto\">\n              <Typography.Text type=\"secondary\">Your LPT</Typography.Text>\n            </Col>\n            <Col>\n              <Typography.Text>\n                {numeric(lpt).format('0,0.[0000]')}LPT\n              </Typography.Text>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[8, 8]}>\n            <Col flex=\"auto\">\n              <Typography.Text type=\"secondary\">Total LPT</Typography.Text>\n            </Col>\n            <Col>\n              <Typography.Text>\n                {numeric(totalLPT).format('0,0.[0000]')}\n              </Typography.Text>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[12, 12]}>\n            <Col flex=\"auto\">\n              <Typography.Text type=\"secondary\">\n                You will reveice\n              </Typography.Text>\n            </Col>\n            <Col>\n              <Space size={4}>\n                <Typography.Title level={5}>\n                  {numeric(value).format('0,0.[0000]')}\n                </Typography.Title>\n                <Typography.Title level={5}>LPT</Typography.Title>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default LPT\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { account, Swap, utils } from '@senswap/sen-js'\n\nimport { Row, Col, Button, Radio, Space, Tag } from 'antd'\nimport { useAccount, useMint, usePool, useWallet } from 'senhub/providers'\nimport Amount from '../amount'\nimport LPT from './lpt'\nimport { explorer } from 'shared/util'\nimport { MintSymbol } from 'app/shared/components/mint'\nimport useMintDecimals from 'app/shared/hooks/useMintDecimals'\n/**\n * Main\n */\nconst FullSide = ({\n  poolAddress,\n  onClose = () => {},\n}: {\n  poolAddress: string\n  onClose?: () => void\n}) => {\n  const [loading, setLoading] = useState(false)\n  const [lpt, setLPT] = useState('')\n  const [amounts, setAmounts] = useState<bigint[]>([BigInt(0), BigInt(0)])\n  const [selectMint, setSelectMint] = useState<string>('all')\n  const [disabled, setDisabled] = useState(true)\n  const { pools } = usePool()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { getMint } = useMint()\n  const { accounts } = useAccount()\n\n  const {\n    mint_a,\n    mint_b,\n    reserve_a,\n    reserve_b,\n    mint_lpt,\n    fee_ratio,\n    tax_ratio,\n  } = pools[poolAddress]\n  const mintAddresses = [mint_a, mint_b]\n  const decimalA = useMintDecimals(mint_a)\n  const decimalB = useMintDecimals(mint_b)\n  const decimals = useMemo(() => {\n    return [decimalA, decimalB]\n  }, [decimalA, decimalB])\n  const ratio = useMemo(() => {\n    return (\n      Number(utils.undecimalize(reserve_a, decimalA)) /\n      Number(utils.undecimalize(reserve_b, decimalB))\n    )\n  }, [decimalA, decimalB, reserve_a, reserve_b])\n\n  const getSuggestMintAmount = useCallback(\n    (amount: bigint, index: number) => {\n      if (!decimals) return BigInt(0)\n      const suggestDecimal = index === 0 ? decimals[1] : decimals[0]\n      const parseAmount = Number(utils.undecimalize(amount, decimals[index]))\n      let suggestAmount = parseAmount * ratio\n      if (index === 0) suggestAmount = parseAmount / ratio\n      return utils.decimalize(suggestAmount, suggestDecimal)\n    },\n    [decimals, ratio],\n  )\n\n  const onAmounts = (mintAddress: string, amount: bigint) => {\n    if (!account.isAddress(mintAddress) || !amount)\n      return setAmounts([BigInt(0), BigInt(0)])\n    const index = mintAddresses.findIndex((mint) => mint === mintAddress)\n    if (index === -1) return\n    let newAmounts = [...amounts]\n    if (selectMint === 'all')\n      newAmounts[0] = newAmounts[1] = getSuggestMintAmount(amount, index)\n    newAmounts[index] = amount\n    setAmounts(newAmounts)\n  }\n\n  const estimateLPT = useCallback(async () => {\n    if (!account.isAddress(walletAddress)) return setLPT('')\n    try {\n      const {\n        [mint_lpt]: { supply },\n      } = await getMint({ address: mint_lpt })\n      const { lpt } = Swap.oracle.sided_deposit(\n        amounts[0],\n        amounts[1],\n        reserve_a,\n        reserve_b,\n        supply,\n        fee_ratio,\n        tax_ratio,\n      )\n      return setLPT(utils.undecimalize(lpt, 9))\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    }\n  }, [\n    amounts,\n    fee_ratio,\n    getMint,\n    mint_lpt,\n    reserve_a,\n    reserve_b,\n    tax_ratio,\n    walletAddress,\n  ])\n\n  const onDeposit = async () => {\n    setLoading(true)\n    const { splt, swap, wallet } = window.sentre\n    const [srcAAddress, srcBAddress] = await Promise.all(\n      mintAddresses.map((mintAddress) =>\n        splt.deriveAssociatedAddress(walletAddress, mintAddress),\n      ),\n    )\n    if (!wallet) return\n    try {\n      const { txId } = await swap.addSidedLiquidity(\n        amounts[0],\n        amounts[1],\n        poolAddress,\n        srcAAddress,\n        srcBAddress,\n        wallet,\n      )\n      onClose()\n      return window.notify({\n        type: 'success',\n        description: 'Deposit liquidity successfully. Click to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    estimateLPT()\n  }, [estimateLPT])\n\n  useEffect(() => {\n    setAmounts([BigInt(0), BigInt(0)])\n  }, [selectMint])\n\n  const validateInput = useCallback(async () => {\n    const { splt } = window.sentre\n    // get wallet account mint A\n    const accAddrMintA = await splt.deriveAssociatedAddress(\n      walletAddress,\n      mint_a,\n    )\n    const accMintA = accounts[accAddrMintA]\n    // get wallet account mint B\n    const accAddrMintB = await splt.deriveAssociatedAddress(\n      walletAddress,\n      mint_b,\n    )\n    const accMintB = accounts[accAddrMintB]\n    if (!accMintA || !accMintB) return setDisabled(true)\n    const disabled =\n      amounts[0] > accMintA.amount || amounts[1] > accMintB.amount\n    setDisabled(disabled)\n  }, [accounts, amounts, mint_a, mint_b, walletAddress])\n\n  useEffect(() => {\n    validateInput()\n  }, [validateInput])\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Radio.Group\n          onChange={(e) => setSelectMint(e.target.value)}\n          value={selectMint}\n        >\n          <Radio value={'all'}>\n            <Space size={4}>\n              <MintSymbol mintAddress={mint_lpt} separator=\"+\" />\n              <Tag className=\"deposit-tag\">0 Fee</Tag>\n            </Space>\n          </Radio>\n\n          {mintAddresses.map((mintAddress, idx) => (\n            <Radio value={mintAddress} key={mintAddress + idx}>\n              <MintSymbol mintAddress={mintAddress} />\n            </Radio>\n          ))}\n        </Radio.Group>\n      </Col>\n      {mintAddresses.map(\n        (mintAddress, i) =>\n          (mintAddress === selectMint || selectMint === 'all') && (\n            <Col key={mintAddress + i} span={24}>\n              <Amount\n                mintAddress={mintAddress}\n                value={amounts[i]}\n                onChange={(amount) => onAmounts(mintAddress, amount)}\n              />\n            </Col>\n          ),\n      )}\n      <Col span={24}>\n        <LPT value={lpt} poolAddress={poolAddress} />\n      </Col>\n      <Col span={24}>\n        <Button\n          type=\"primary\"\n          onClick={onDeposit}\n          disabled={!Number(lpt) || disabled}\n          block\n          loading={loading}\n        >\n          Deposit\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default FullSide\n","import { utils } from '@senswap/sen-js'\nimport { Row, Col, Typography } from 'antd'\nimport { usePool } from 'senhub/providers'\n\nimport FullSide from './fullSide'\n\nconst FEE_DECIMALS_PERCENT = 7\n\nconst Deposit = ({\n  poolAddress,\n  onClose = () => {},\n}: {\n  poolAddress: string\n  onClose?: () => void\n}) => {\n  const { pools } = usePool()\n  const { fee_ratio, tax_ratio } = pools[poolAddress] || {}\n  const feeRatio = fee_ratio || BigInt(0)\n  const taxRatio = tax_ratio || BigInt(0)\n\n  const totalRatio = utils.undecimalize(\n    feeRatio + taxRatio,\n    FEE_DECIMALS_PERCENT,\n  )\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Typography.Title level={5}>Deposit Liquidity</Typography.Title>\n      </Col>\n      <Col span={24}>\n        <Typography.Paragraph type=\"secondary\">\n          <strong>Liquidity provider incentive.</strong> Liquidity providers\n          earn a {totalRatio}%% fee on all trades proportional to their share of\n          the pool. Fees are accrued into the pool and can be claimed by\n          withdrawing your liquidity.\n        </Typography.Paragraph>\n        <Typography.Paragraph type=\"secondary\">\n          <strong>Asymmetric Deposit.</strong> Instead of depositing amounts of\n          tokens proportionally, Asymmetric Deposit allows you to deposit even\n          one side of token. The pool will automatically re-balance itself.\n        </Typography.Paragraph>\n      </Col>\n      <Col span={24}>\n        <FullSide poolAddress={poolAddress} onClose={onClose} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Deposit\n","import { Row, Col, Card, Typography, Space, Button, Divider } from 'antd'\nimport NumericInput from 'shared/antd/numericInput'\nimport { MintAvatar, MintName } from 'app/shared/components/mint'\nimport { numeric } from 'shared/util'\nimport { useCallback, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { AppState } from 'app/model'\nimport { utils } from '@senswap/sen-js'\nimport { usePool } from 'senhub/providers'\n\n/**\n * Single amount input\n */\nconst LPT = ({\n  lptAddress,\n  onChange,\n}: {\n  lptAddress: string\n  onChange: (value: bigint) => void\n}) => {\n  const [lpt, setLPT] = useState('')\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const { pools } = usePool()\n  const { amount, pool } = lpts?.[lptAddress] || {}\n  const { mint_lpt } = pools?.[pool] || {}\n\n  const balance = useMemo(() => {\n    if (!amount) return '0'\n    return utils.undecimalize(amount, 9) || '0'\n  }, [amount])\n\n  const onLPT = useCallback(\n    async (val: string) => {\n      await setLPT(val)\n      // Return amount\n      if (!parseFloat(val)) return onChange(BigInt(0))\n      return onChange(utils.decimalize(val, 9))\n    },\n    [onChange],\n  )\n  return (\n    <Row gutter={[4, 4]} justify=\"end\">\n      <Col span={24}>\n        <Card bodyStyle={{ padding: 8 }} bordered={false}>\n          <NumericInput\n            placeholder=\"Amount of LPT\"\n            value={lpt}\n            onValue={onLPT}\n            size=\"small\"\n            bordered={false}\n            prefix={\n              <Space\n                style={{\n                  marginLeft: -7,\n                  marginRight: 7,\n                  fontSize: 12,\n                  lineHeight: 1,\n                }}\n              >\n                <MintAvatar mintAddress={mint_lpt} size={24} />\n                <Typography.Text>\n                  <MintName mintAddress={mint_lpt} />\n                </Typography.Text>\n                <Divider type=\"vertical\" style={{ margin: 0 }} />\n              </Space>\n            }\n            suffix={\n              <Button\n                type=\"text\"\n                style={{ marginRight: -7 }}\n                size=\"small\"\n                onClick={() => onLPT(balance)}\n              >\n                MAX\n              </Button>\n            }\n            max={balance}\n          />\n        </Card>\n      </Col>\n      <Col>\n        <Typography.Text style={{ fontSize: 12 }} type=\"secondary\">\n          Available: {numeric(balance).format('0,0.[0000]')} LPT\n        </Typography.Text>\n      </Col>\n    </Row>\n  )\n}\n\nexport default LPT\n","import { Row, Col, Card, Typography } from 'antd'\nimport { MintAvatar } from 'app/shared/components/mint'\nimport { numeric } from 'shared/util'\n\nconst Info = ({\n  mintAddresses,\n  amounts,\n}: {\n  mintAddresses: string[]\n  amounts: string[]\n}) => {\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Typography.Text>You will receive</Typography.Text>\n        </Col>\n        {mintAddresses.map((mintAddress, i) => (\n          <Col span={24} key={i}>\n            <Row gutter={[8, 8]} justify=\"space-between\">\n              <Col>\n                <MintAvatar mintAddress={mintAddress} size={32} />\n              </Col>\n              <Col>\n                <Typography.Title level={5} style={{ margin: 0 }}>\n                  {numeric(amounts[i] || 0).format('0,0.[0000]')}\n                </Typography.Title>\n              </Col>\n            </Row>\n          </Col>\n        ))}\n      </Row>\n    </Card>\n  )\n}\n\nexport default Info\n","import { useCallback, useEffect, useState } from 'react'\nimport { Swap, utils } from '@senswap/sen-js'\nimport { useSelector } from 'react-redux'\n\nimport { Row, Col, Typography, Button } from 'antd'\nimport LPT from './lpt'\nimport Info from './info'\n\nimport { explorer } from 'shared/util'\nimport { useMint, usePool, useWallet } from 'senhub/providers'\nimport { AppState } from 'app/model'\n\nconst Withdraw = ({\n  poolAddress,\n  onClose = () => {},\n}: {\n  poolAddress: string\n  onClose?: () => void\n}) => {\n  const [lpt, setLPT] = useState(BigInt(0))\n  const [supply, setSupply] = useState<bigint | undefined>()\n  const [amounts, setAmounts] = useState<string[]>([])\n  const [decimals, setDecimals] = useState([0, 0])\n  const [loading, setLoading] = useState(false)\n  const lpts = useSelector((state: AppState) => state.lpts)\n\n  const lptAddress =\n    Object.keys(lpts).find((key) => lpts[key].pool === poolAddress) || ''\n  const lptPoolAddress = lpts?.[lptAddress]?.pool\n\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { pools } = usePool()\n  const { getMint } = useMint()\n\n  const { mint_a, mint_b, mint_lpt, reserve_a, reserve_b } =\n    pools?.[lptPoolAddress] || {}\n  const mintAddresses = [mint_a, mint_b]\n\n  const fetchData = useCallback(async () => {\n    try {\n      const {\n        [mint_lpt]: { supply },\n      } = await getMint({ address: mint_lpt })\n      setSupply(supply)\n    } catch (er) {}\n    try {\n      const {\n        [mint_a]: { decimals: decimalsA },\n      } = await getMint({ address: mint_a })\n      const {\n        [mint_b]: { decimals: decimalsB },\n      } = await getMint({ address: mint_b })\n      setDecimals([decimalsA, decimalsB])\n    } catch (er) {}\n  }, [mint_a, mint_b, mint_lpt, getMint])\n\n  const onWithdraw = async () => {\n    if (!lpt) return\n    setLoading(true)\n    const { swap, wallet, splt } = window.sentre\n    const dstAddresses = await Promise.all(\n      mintAddresses.map((mintAddress) =>\n        splt.deriveAssociatedAddress(walletAddress, mintAddress),\n      ),\n    )\n    if (!wallet) return\n    try {\n      const { txId } = await swap.removeLiquidity(\n        lpt,\n        poolAddress,\n        dstAddresses[0],\n        dstAddresses[1],\n        wallet,\n      )\n      onClose()\n      return window.notify({\n        type: 'success',\n        description: 'Withdraw liquidity successfully. Click to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    if (!supply) {\n      setAmounts([])\n    } else {\n      const { deltaA, deltaB } = Swap.oracle.withdraw(\n        lpt,\n        supply,\n        reserve_a,\n        reserve_b,\n      )\n      const deltas = [deltaA, deltaB]\n      const amounts = deltas.map((delta, i) =>\n        utils.undecimalize(delta, decimals[i]),\n      )\n      setAmounts(amounts)\n    }\n  }, [reserve_a, reserve_b, lpt, supply, decimals])\n  useEffect(() => {\n    fetchData()\n  }, [fetchData])\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Typography.Title level={5}>Withdraw Liquidity</Typography.Title>\n      </Col>\n      <Col span={24}>\n        <LPT lptAddress={lptAddress} onChange={setLPT} />\n      </Col>\n      <Col span={24}>\n        <Info mintAddresses={mintAddresses} amounts={amounts} />\n      </Col>\n      <Col span={24}>\n        <Button\n          type=\"primary\"\n          onClick={onWithdraw}\n          disabled={!lpt}\n          block\n          loading={loading}\n        >\n          Withdraw\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Withdraw\n","import { useState } from 'react'\n\nimport { Button, Col, Modal, Row } from 'antd'\nimport Deposit from 'app/components/deposit'\nimport Withdraw from 'app/components/withdraw'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst LiquidityAction = ({\n  poolAddress,\n  lpt,\n}: {\n  poolAddress: string\n  lpt?: number\n}) => {\n  const [depositVisible, setDepositVisible] = useState(false)\n  const [withdrawVisible, setWithdrawVisible] = useState(false)\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={12}>\n        <Button\n          onClick={() => setWithdrawVisible(true)}\n          icon={<IonIcon name=\"log-out-outline\" />}\n          disabled={!lpt}\n          block\n        >\n          Withdraw\n        </Button>\n      </Col>\n      <Col span={12}>\n        <Button\n          onClick={() => setDepositVisible(true)}\n          type=\"primary\"\n          icon={<IonIcon name=\"log-in-outline\" />}\n          block\n        >\n          Deposit\n        </Button>\n      </Col>\n      <Modal\n        visible={depositVisible}\n        onCancel={() => setDepositVisible(false)}\n        closeIcon={<IonIcon name=\"close\" />}\n        footer={null}\n        destroyOnClose={true}\n        centered={true}\n      >\n        <Deposit\n          poolAddress={poolAddress}\n          onClose={() => setDepositVisible(false)}\n        />\n      </Modal>\n      <Modal\n        visible={withdrawVisible}\n        onCancel={() => setWithdrawVisible(false)}\n        closeIcon={<IonIcon name=\"close\" />}\n        footer={null}\n        destroyOnClose={true}\n        centered={true}\n      >\n        <Withdraw\n          poolAddress={poolAddress}\n          onClose={() => setWithdrawVisible(false)}\n        />\n      </Modal>\n    </Row>\n  )\n}\n\nexport default LiquidityAction\n","import { Fragment, ReactNode, useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account, PoolData, utils } from '@senswap/sen-js'\nimport { TokenInfo } from '@solana/spl-token-registry'\n\nimport { Card, Col, Row, Space, Typography } from 'antd'\nimport InservePrice, { MintDetail } from './inversePrice'\nimport LiquidityAction from './liquidityAction'\n\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\nimport { useMint, usePool } from 'senhub/providers'\nimport { fetchCGK } from 'shared/helper'\nimport useTokenProvider from 'app/shared/hooks/useTokenProvider'\n\nconst APY_DATE = 365\nconst MARKET_DEFAULT = {\n  icon: '',\n  symbol: '',\n  name: '',\n  address: '',\n  rank: '',\n  price: 0,\n  priceChange: 0,\n  totalVolume: 0,\n  decimals: 0,\n}\n\nconst Content = ({\n  label = 'label',\n  title = '',\n  subTitle = null,\n}: {\n  label?: string\n  title?: string | ReactNode\n  subTitle?: string | null\n}) => {\n  return (\n    <Space direction=\"vertical\" size={4}>\n      <Typography.Text className=\"caption\" type=\"secondary\">\n        {label}\n      </Typography.Text>\n      <span>{title}</span>\n      {subTitle && (\n        <Typography.Text type=\"secondary\">{subTitle}</Typography.Text>\n      )}\n    </Space>\n  )\n}\n\nconst Title = ({\n  value = 0,\n  sub = '',\n  format = '',\n}: {\n  value?: string | number\n  sub?: string\n  format?: string\n}) => {\n  return (\n    <Space size={4} align=\"baseline\">\n      <Typography.Title level={4}>\n        {numeric(value).format(format)}\n      </Typography.Title>\n      {sub && (\n        <Typography.Text className=\"caption\" type=\"secondary\">\n          {sub}\n        </Typography.Text>\n      )}\n    </Space>\n  )\n}\n\nconst LiquidityPosition = ({ poolAddress }: { poolAddress: string }) => {\n  const [listMintDetail, setListMintDetail] = useState<MintDetail[]>([])\n  const roi = useSelector(\n    (state: AppState) => state.stat?.[poolAddress]?.details?.roi,\n  )\n  const [supply, setSupply] = useState<number>(0)\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const { getMint } = useMint()\n  const { pools } = usePool()\n  const poolData = pools?.[poolAddress] || {}\n  const { mint_lpt } = poolData\n  const tokenInfos = useTokenProvider(mint_lpt)\n\n  const lptAddress =\n    Object.keys(lpts).find((key) => lpts[key].pool === poolAddress) || ''\n  const { amount } = lpts[lptAddress] || {}\n  const lpt = Number(utils.undecimalize(amount || BigInt(0), 9))\n\n  const calculateRoi = useCallback(\n    (date: number) => {\n      if (!roi || !date) return 0\n      return Math.pow(roi / 100 + 1, date) - 1\n    },\n    [roi],\n  )\n\n  const getSupply = useCallback(async () => {\n    if (!account.isAddress(mint_lpt)) return 0\n    const {\n      [mint_lpt]: { decimals, supply },\n    } = await getMint({ address: mint_lpt })\n    setSupply(Number(utils.undecimalize(supply, decimals)))\n  }, [getMint, mint_lpt])\n  useEffect(() => {\n    getSupply()\n  }, [getSupply])\n\n  const extractReserve = (mintAddress: string, poolData: PoolData) => {\n    const { mint_a, mint_b, reserve_a, reserve_b } = poolData\n    if (mintAddress === mint_a) return reserve_a\n    if (mintAddress === mint_b) return reserve_b\n    return BigInt(0)\n  }\n  const calcMintAmount = (mintDetail: MintDetail | TokenInfo) => {\n    if (!mintDetail || !poolData) return 0\n    const { address, decimals } = mintDetail\n    const reserve = extractReserve(address, poolData)\n    const amount = Number(utils.undecimalize(reserve, decimals))\n    return amount\n  }\n\n  const fetchMintDetails = useCallback(async () => {\n    if (!tokenInfos) return\n    const promises = tokenInfos.map(async (tokenInfo): Promise<MintDetail> => {\n      const ticket = tokenInfo?.extensions?.coingeckoId\n      if (!ticket) return MARKET_DEFAULT\n      const marketInfo = await fetchCGK(ticket)\n      return {\n        ...marketInfo,\n        decimals: tokenInfo.decimals,\n        address: tokenInfo.address,\n      }\n    })\n    const listMintDetail = await Promise.all(promises)\n    setListMintDetail(listMintDetail)\n  }, [tokenInfos])\n  useEffect(() => {\n    fetchMintDetails()\n  }, [fetchMintDetails])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Typography.Title level={4}>Liquidity Position</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[20, 20]}>\n            <Col span={24}>\n              <Content\n                label=\"APY\"\n                title={\n                  <Title value={calculateRoi(APY_DATE)} format=\"0,0.[00]%\" />\n                }\n              />\n            </Col>\n            <Col xs={7} sm={12}>\n              <Content\n                label=\"Your LPT\"\n                title={<Title value={lpt} sub=\"LPT\" format=\"0,0.[0000]a\" />}\n              />\n            </Col>\n            <Col xs={17} sm={12}>\n              <Content\n                label=\"Pool Share Composition\"\n                title={\n                  <Space size={4} align=\"baseline\">\n                    {listMintDetail.map((mintDetail, idx) => {\n                      const mintAmount = calcMintAmount(mintDetail)\n                      return (\n                        <Fragment key={mintAmount + idx}>\n                          <Title\n                            value={mintAmount}\n                            sub={mintDetail.symbol}\n                            format=\"0,0.[00]a\"\n                          />\n                          {listMintDetail.length > idx + 1 && (\n                            <Typography.Title level={5}>+</Typography.Title>\n                          )}\n                        </Fragment>\n                      )\n                    })}\n                  </Space>\n                }\n              />\n            </Col>\n            <Col xs={7} sm={12}>\n              <Content\n                label=\"My Portion\"\n                title={<Title value={lpt / supply} format=\"0,0.[00]%\" />}\n                subTitle={numeric(supply).format('0,0.[0000]a')}\n              />\n            </Col>\n            <Col xs={17} sm={12}>\n              <Content\n                label=\"In - Pool Price\"\n                title={<InservePrice poolAddress={poolAddress} />}\n              />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <LiquidityAction lpt={lpt} poolAddress={poolAddress} />\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default LiquidityPosition\n","import React, { useState, forwardRef, useCallback, useRef } from 'react'\n\nimport { Input, Tooltip, Space } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nlet timeoutId: ReturnType<typeof setTimeout> | undefined\n\nconst NumericInput = forwardRef(\n  ({ max, onChange, ...props }: any, ref: any) => {\n    const [error, setError] = useState('')\n    const [cursor, setCursor] = useState<number | null>(null)\n    const innerRef = useRef(ref)\n\n    // Handle amount\n    const onAmount = useCallback(\n      (val: string) => {\n        const onError = (er: string) => {\n          if (timeoutId) {\n            clearTimeout(timeoutId)\n            timeoutId = undefined\n          }\n          setError(er)\n          timeoutId = setTimeout(() => setError(''), 500)\n        }\n        const reg = /^\\d*(\\.\\d*)?$/\n        if (!reg.test(val)) return onError('Invalid character')\n        if (max && parseFloat(val) > parseFloat(max))\n          return onError('Not enough balance')\n        return onChange(val)\n      },\n      [max, onChange],\n    )\n    // Handle cursor\n    innerRef?.current?.setSelectionRange(cursor, cursor)\n    return (\n      <Tooltip\n        title={\n          <Space>\n            <IonIcon name=\"warning\" />\n            {error}\n          </Space>\n        }\n        visible={!!error}\n      >\n        <Input\n          {...props}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n            setCursor(e.target.selectionStart)\n            onAmount(e.target.value || '')\n          }}\n          ref={innerRef}\n        />\n      </Tooltip>\n    )\n  },\n)\n\nexport default NumericInput\n","import { Row, Card, Col, Typography, Space } from 'antd'\nimport NumericInput from 'app/shared/components/numericInput'\n\nconst FeeInput = ({\n  title,\n  label,\n  ratio,\n  currentRatio = '0',\n  onChange = () => { },\n}: {\n  title: string\n  label: string\n  ratio: string | number\n  currentRatio: string\n  onChange?: (e: any) => void\n}) => {\n  return (\n    <Row gutter={[4, 4]}>\n      <Col span={24}>\n        <Typography.Text type=\"secondary\">{title}</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <Card bodyStyle={{ padding: 4 }} bordered={false}>\n          <NumericInput\n            placeholder={0}\n            value={ratio}\n            onChange={onChange}\n            bordered={false}\n          />\n        </Card>\n      </Col>\n      <Col span={24} style={{ fontSize: 12 }}>\n        <Space size={4}>\n          <Typography.Text type=\"secondary\">{label}:</Typography.Text>\n          <Typography.Text>{currentRatio}%</Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\nexport default FeeInput\n","import { useMemo, useState } from 'react'\n\nimport { Button, Row, Col } from 'antd'\nimport { utils } from '@senswap/sen-js'\n\nimport FeeInput from './FeeInput'\nimport { usePool, useWallet } from 'senhub/providers'\nimport { explorer } from 'shared/util'\nimport IonIcon from 'shared/antd/ionicon'\n\n//Fee decimal = 9\n//however feeUI = Fee * 100 (%)\n//-> FEE_DECIMALS_PERCENT = 9 - 2 = 7\nconst FEE_DECIMALS_PERCENT = 7\n\nconst Fee = ({ address: poolAddress }: { address: string }) => {\n  const { pools } = usePool()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const [feeRatio, setFeeRatio] = useState<string>('')\n  const [taxRatio, setTaxRatio] = useState<string>('')\n  const [loading, setLoading] = useState(false)\n  const poolData = pools[poolAddress]\n  const { fee_ratio, tax_ratio } = poolData || {}\n\n  const onUpdateFee = async () => {\n    setLoading(true)\n    const feeAmount = utils.decimalize(\n      feeRatio || currentFee,\n      FEE_DECIMALS_PERCENT,\n    )\n    const taxAmount = utils.decimalize(\n      taxRatio || currentTax,\n      FEE_DECIMALS_PERCENT,\n    )\n    // PRECISION\n    const { swap, wallet } = window.sentre\n    if (!wallet) return\n    const { txId } = await swap.updateFee(\n      feeAmount,\n      taxAmount,\n      poolAddress,\n      wallet,\n    )\n    setLoading(false)\n    if (!txId)\n      return window.notify({\n        type: 'error',\n        description: 'Update fee make failure.',\n      })\n    setFeeRatio('')\n    setTaxRatio('')\n    return window.notify({\n      type: 'success',\n      description: 'Update fee successfully. Click to view details',\n      onClick: () => window.open(explorer(txId), '_blank'),\n    })\n  }\n\n  const currentFee = useMemo(() => {\n    if (!fee_ratio) return '0'\n    return utils.undecimalize(fee_ratio, FEE_DECIMALS_PERCENT)\n  }, [fee_ratio])\n\n  const currentTax = useMemo(() => {\n    if (!tax_ratio) return '0'\n    return utils.undecimalize(tax_ratio, FEE_DECIMALS_PERCENT)\n  }, [tax_ratio])\n\n  //Check owner in here\n  if (!poolData || walletAddress !== poolData?.owner) return null\n  return (\n    <Row gutter={[16, 24]}>\n      <Col span={24}>\n        <Row gutter={[4, 4]}>\n          <Col span={24}>\n            <FeeInput\n              title=\"Fee (%)\"\n              label=\"Current fee\"\n              ratio={feeRatio}\n              currentRatio={currentFee}\n              onChange={setFeeRatio}\n            />\n          </Col>\n          <Col span={24}>\n            <FeeInput\n              title=\"Tax (%)\"\n              label=\"Current tax\"\n              ratio={taxRatio}\n              currentRatio={currentTax}\n              onChange={setTaxRatio}\n            />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Button\n          onClick={onUpdateFee}\n          icon={<IonIcon name=\"cash-outline\" />}\n          block\n          loading={loading}\n          disabled={!taxRatio && !feeRatio}\n        >\n          Update Fee\n        </Button>\n      </Col>\n    </Row>\n  )\n}\nexport default Fee\n","import { useMemo, useState } from 'react'\n\nimport { Button, Row, Col, Typography, Card, Badge, Space } from 'antd'\nimport { usePool, useWallet } from 'senhub/providers'\nimport { explorer } from 'shared/util'\nimport IonIcon from 'shared/antd/ionicon'\n\nenum PoolStatus {\n  Frozen = 2,\n  Active = 1,\n}\n\nconst CardDescription = ({\n  poolStatus,\n  description,\n}: {\n  poolStatus: PoolStatus\n  description: string\n}) => {\n  const status = poolStatus === PoolStatus.Active\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space size={0}>\n          <Badge status={status ? 'success' : 'error'} />\n          <Typography.Text>\n            Current status: {status ? 'Active' : 'Frozen'}\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Card bordered={false} bodyStyle={{ padding: 16 }}>\n          <Space size={4} align=\"start\">\n            <IonIcon name=\"information-circle-outline\" />\n            <Space direction=\"vertical\" size={0}>\n              <Typography.Text>{description}</Typography.Text>\n            </Space>\n          </Space>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nconst Freeze = ({ address }: { address: string }) => {\n  const { pools } = usePool()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const [loading, setLoading] = useState(false)\n  const poolData = pools[address]\n\n  const onFreezePool = async () => {\n    setLoading(true)\n    const { swap, wallet } = window.sentre\n    if (!wallet) return\n    const { txId } = await swap.freezePool(address, wallet)\n    setLoading(false)\n    if (!txId)\n      return window.notify({\n        type: 'error',\n        description: 'Freeze the pool make failure.',\n      })\n    return window.notify({\n      type: 'success',\n      description: 'Freeze the pool successfully. Click to view details',\n      onClick: () => window.open(explorer(txId), '_blank'),\n    })\n  }\n\n  const onThawPool = async () => {\n    setLoading(true)\n    const { swap, wallet } = window.sentre\n    if (!wallet) return\n    const { txId } = await swap.thawPool(address, wallet)\n    setLoading(false)\n    if (!txId)\n      return window.notify({\n        type: 'error',\n        description: 'Thaw the pool make failure.',\n      })\n    return window.notify({\n      type: 'success',\n      description: 'Thaw the pool successfully. Click to view details',\n      onClick: () => window.open(explorer(txId), '_blank'),\n    })\n  }\n\n  //Check owner in here\n  const description = useMemo(() => {\n    const state = poolData?.state\n    if (state === PoolStatus.Active)\n      return (\n        <CardDescription\n          poolStatus={state}\n          description=\"Freezing a pool will prevent all actions until the pool has been thawed.\"\n        />\n      )\n\n    if (state === PoolStatus.Frozen)\n      return (\n        <CardDescription\n          poolStatus={state}\n          description=\"Thaw a pool will active all actions\"\n        />\n      )\n    return 'Pool is closed'\n  }, [poolData?.state])\n\n  if (!poolData || walletAddress !== poolData?.owner) return null\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>{description}</Col>\n      <Col span={24}>\n        {poolData?.state === PoolStatus.Active ? (\n          <Button\n            style={{ background: '#40A9FF', color: '#fff' }}\n            onClick={onFreezePool}\n            icon={<IonIcon name=\"snow-outline\" />}\n            block\n            loading={loading}\n          >\n            Freeze Pool\n          </Button>\n        ) : (\n          <Button\n            type=\"primary\"\n            onClick={onThawPool}\n            icon={<IonIcon name=\"sunny-outline\" />}\n            block\n            loading={loading}\n          >\n            Thaw Pool\n          </Button>\n        )}\n      </Col>\n    </Row>\n  )\n}\nexport default Freeze\n","import { useState } from 'react'\n\nimport { Button, Row, Col, Input, Card, Space, Typography } from 'antd'\nimport { account } from '@senswap/sen-js'\nimport { usePool, useWallet } from 'senhub/providers'\nimport { explorer } from 'shared/util'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst TransferOwner = ({ address: poolAddress }: { address: string }) => {\n  const { pools } = usePool()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const [newOwner, setNewOwner] = useState('')\n  const [loading, setLoading] = useState(false)\n  const poolData = pools[poolAddress]\n\n  const onTransferOwner = async () => {\n    const { swap, wallet } = window.sentre\n    if (!wallet) return\n    setLoading(true)\n    const { txId } = await swap.transferPoolOwnership(\n      poolAddress,\n      newOwner,\n      wallet,\n    )\n    setLoading(false)\n    if (!txId)\n      return window.notify({\n        type: 'error',\n        description: 'Transfer make failure.',\n      })\n    return window.notify({\n      type: 'success',\n      description: 'Transfer successfully. Click to view details',\n      onClick: () => window.open(explorer(txId), '_blank'),\n    })\n  }\n\n  if (!poolData || walletAddress !== poolData?.owner) return null\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space align=\"start\">\n          <IonIcon name=\"information-circle-outline\" />\n          <Typography.Text>\n            Your current account will lose the pool control when you transfer\n            ownership.\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Card bodyStyle={{ padding: 8 }} bordered={false}>\n          <Row gutter={[0, 0]}>\n            <Col span={24}>\n              <Typography.Text\n                style={{ marginLeft: 12, fontSize: 12 }}\n                type=\"secondary\"\n              >\n                Transfer to Owner\n              </Typography.Text>\n            </Col>\n            <Col span={24}>\n              <Input\n                placeholder=\"E.g. AgTMC...\"\n                value={newOwner}\n                onChange={(e: any) => setNewOwner(e.target.value)}\n                bordered={false}\n              />\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n      <Col span={24}>\n        <Button\n          onClick={onTransferOwner}\n          icon={<IonIcon name=\"airplane-outline\" />}\n          disabled={!account.isAddress(newOwner)}\n          loading={loading}\n          block\n        >\n          Transfer\n        </Button>\n      </Col>\n    </Row>\n  )\n}\nexport default TransferOwner\n","import { Col, Card, Tabs } from 'antd'\nimport { usePool, useWallet } from 'senhub/providers'\n\nimport Fee from './fee'\nimport Freeze from './freeze'\nimport TransferOwner from './transferOwner'\n\nexport default function PoolManagement({\n  poolAddress,\n}: {\n  poolAddress: string\n}) {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { pools } = usePool()\n  const poolData = pools?.[poolAddress]\n  if (!poolData || walletAddress !== poolData?.owner) return null\n  return (\n    <Col xs={24} lg={12}>\n      <Card\n        style={{ minHeight: 285 }}\n        bodyStyle={{ padding: 0 }}\n        bordered={false}\n      >\n        <Tabs style={{ padding: 24 }}>\n          <Tabs.TabPane key=\"freeze-thaw\" tab=\"Freeze/Thaw\">\n            <Freeze address={poolAddress} />\n          </Tabs.TabPane>\n          <Tabs.TabPane key=\"fee\" tab=\"Fee\">\n            <Fee address={poolAddress}></Fee>\n          </Tabs.TabPane>\n          <Tabs.TabPane key=\"transfer-owner\" tab=\"Transfer Owner\">\n            <TransferOwner address={poolAddress} />\n          </Tabs.TabPane>\n        </Tabs>\n      </Card>\n    </Col>\n  )\n}\n","import { useCallback, useState, useRef, useEffect } from 'react'\nimport Chart from 'chart.js'\nimport isEqual from 'react-fast-compare'\n\nimport { numeric } from 'shared/util'\ninterface Props {\n  labels?: (number | string)[]\n  chartData?: (number | string)[]\n  configs?: { backgroundColor?: string } & object\n  type?: string\n  disableAxe?: boolean\n  chartHeight?: string\n  chartId?: string\n}\n\nconst DEFAULT_BACKGROUND_COLOR = '#dadada'\n\nconst SenChart = ({\n  chartData = [],\n  labels = [],\n  type = 'line',\n  configs,\n  disableAxe = false,\n  chartId = 'sen_chart',\n}: Props) => {\n  const { backgroundColor } = configs || {}\n  const [isRebuildChart, setRebuildChart] = useState<boolean>(false)\n\n  const formatData = useCallback(\n    (\n      data: Array<number | number[] | undefined | null | any>,\n      label: Array<string | number>,\n      background?: string | CanvasGradient | undefined,\n    ): Chart.ChartData => ({\n      labels: label,\n      datasets: [{ ...configs, data, backgroundColor: background }],\n    }),\n    [configs],\n  )\n  // use a ref to store the chart instance since it it mutable\n  const chartRef = useRef<Chart | null>(null)\n\n  // callback creates the chart on the canvas element\n  const canvasCallback = (canvas: HTMLCanvasElement | null) => {\n    if (!canvas) return\n    const ctx = canvas.getContext('2d')\n    if (ctx && !isRebuildChart) {\n      // create new chart\n      chartRef.current = new Chart(ctx, {\n        type: type,\n        data: {\n          labels: [],\n          datasets: [\n            {\n              data: [],\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            xAxes: [\n              {\n                gridLines: {\n                  drawBorder: false,\n                  display: false,\n                },\n                ticks: {\n                  display: !disableAxe,\n                },\n              },\n            ],\n            yAxes: [\n              {\n                gridLines: {\n                  drawBorder: false,\n                  display: false,\n                },\n                ticks: {\n                  display: !disableAxe,\n                  beginAtZero: false,\n                  maxTicksLimit: 8,\n                  callback: function (value, index, values) {\n                    return numeric(value).format('0,0.[0]a')\n                  },\n                },\n              },\n            ],\n          },\n          plugins: {\n            legend: false,\n          },\n          hover: {\n            onHover: (event, elements) => {\n              const target = document.getElementById(chartId)\n              if (!target) return\n              target.style.cursor = elements[0] ? 'pointer' : 'default'\n            },\n          },\n        },\n      })\n      setRebuildChart(true)\n    }\n  }\n\n  const getBackground = useCallback(() => {\n    if (!chartRef || !backgroundColor) return DEFAULT_BACKGROUND_COLOR\n    const ctx = chartRef?.current?.canvas?.getContext('2d')\n    const gradient = ctx?.createLinearGradient(0, 0, 0, 270)\n    gradient?.addColorStop(0, backgroundColor)\n    gradient?.addColorStop(1, `${backgroundColor}00`)\n    const background = type === 'line' ? gradient : backgroundColor\n    return background\n  }, [backgroundColor, type])\n\n  useEffect(() => {\n    const chartInstance = chartRef.current\n    const dataInstace = chartInstance?.data.datasets?.find(({ data }) => data)\n    const compareData = isEqual(dataInstace?.data, chartData)\n    if (chartInstance && !compareData) {\n      chartInstance.data = formatData(chartData, labels, getBackground())\n      chartInstance?.update()\n    }\n  }, [chartData, formatData, getBackground, labels])\n\n  return <canvas id={chartId} height=\"270\" ref={canvasCallback}></canvas>\n}\n\nexport default SenChart\n","import moment from 'moment'\n\nconst SECOND_PER_MILLISECOND = 1000\n\nexport enum TimeFormat {\n  YMD = 'YYYYMMDD',\n  SortableTimePattern = 'YYYY-MM-DD HH:mm:ss',\n}\n\nexport class DateHelper {\n  private milliSeconds: number = new Date().valueOf()\n\n  setMilliSeconds(milliSeconds: number) {\n    this.milliSeconds = milliSeconds\n  }\n\n  static fromSeconds(seconds: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = seconds * SECOND_PER_MILLISECOND\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static fromYmd(ymd: number): DateHelper {\n    const date = new DateHelper()\n    const milliSeconds = moment(ymd, TimeFormat.YMD).valueOf()\n    date.setMilliSeconds(milliSeconds)\n    return date\n  }\n\n  static getListDate(ymdFrom: number, ymdTo: number): number[] {\n    const dates: number[] = []\n    let dateFrom = DateHelper.fromYmd(ymdFrom)\n    const dateTo = DateHelper.fromYmd(ymdTo)\n    while (dateFrom.ymd() <= dateTo.ymd()) {\n      dates.push(dateFrom.ymd())\n      dateFrom = dateFrom.addDay()\n    }\n    return dates\n  }\n\n  format(dateFormat: TimeFormat): string {\n    const date = new Date(this.milliSeconds)\n    return moment(date).format(dateFormat)\n  }\n\n  subtractDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .subtract(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  addDay(dayAmount: number = 1): DateHelper {\n    const milliSeconds = moment(this.milliSeconds)\n      .add(dayAmount, 'days')\n      .valueOf()\n    const date = DateHelper.fromSeconds(milliSeconds / SECOND_PER_MILLISECOND)\n    return date\n  }\n\n  seconds(): number {\n    return (\n      (this.milliSeconds - (this.milliSeconds % SECOND_PER_MILLISECOND)) /\n      SECOND_PER_MILLISECOND\n    )\n  }\n\n  ymd(): number {\n    return Number(this.format(TimeFormat.YMD))\n  }\n\n  static today(format: string = TimeFormat.YMD): string {\n    return moment().format(format)\n  }\n}\n","export class DailyReport {\n  programId = ''\n  time: number = 0\n  address: string = ''\n  mint: string = ''\n  actionType: string = ''\n  amountIn: bigint = BigInt(0)\n  amountOut: bigint = BigInt(0)\n  totalTrans: number = 0\n}\n","import { PoolData } from '@senswap/sen-js'\nimport { DailyReport } from '../entities/daily-report'\nimport { TransLog } from '../entities/trans-log'\n\nexport default class DailyReportService {\n  parserDailyReport(transLogs: TransLog[]): DailyReport[] {\n    let reports = new Array<DailyReport>()\n    for (const transLog of transLogs) {\n      reports = reports.concat(this.parseDailyReport(transLog))\n    }\n    return this.mergeDailyReport(reports)\n  }\n\n  parseDailyReport(transLog: TransLog): DailyReport[] {\n    const dailyReports = new Array<DailyReport>()\n    const { programId, time, actionType, actionTransfers } = transLog\n    for (const transfer of actionTransfers) {\n      const { source, destination, amount } = transfer\n\n      const report = new DailyReport()\n      report.programId = programId\n      report.time = time\n      report.actionType = actionType\n\n      if (source) {\n        const { mint, address } = source\n        dailyReports.push({\n          ...report,\n          mint: mint,\n          address: address,\n          amountOut: BigInt(amount),\n        })\n      }\n      if (destination) {\n        const { mint, address } = destination\n        dailyReports.push({\n          ...report,\n          mint: mint,\n          address: address,\n          amountIn: BigInt(amount),\n        })\n      }\n    }\n    return dailyReports\n  }\n\n  mergeDailyReport(dailyReports: Array<DailyReport>): Array<DailyReport> {\n    const map = new Map<string, DailyReport>()\n    for (const report of dailyReports) {\n      const key = `${report.time}^${report.address}^${report.mint}^${report.actionType}`\n      if (map.has(key)) {\n        const val = map.get(key)\n        if (val !== undefined) {\n          report.amountIn += val.amountIn\n          report.amountOut += val.amountOut\n          report.totalTrans += val.totalTrans\n        }\n      }\n      map.set(key, report)\n    }\n    const results = new Array<DailyReport>()\n    map.forEach((report) => results.push(report))\n    return results\n  }\n}\n\nexport type MapTreasury = { poolAddress: string; data: PoolData }\n","export class TransLog {\n  programId: string = ''\n  programInfo: ProgramInfo | undefined\n  signature: string = ''\n  blockTime: number = 0\n  time: number = 0\n  owner: string = ''\n  actionType: string = ''\n  actionTransfers: Array<ActionTransfer> = []\n  programTransfer: Array<ActionTransfer> = []\n}\n\nexport class ActionInfo {\n  address: string = ''\n  mint: string = ''\n  decimals: number = 0\n  preBalance: string = '0'\n  postBalance: string = '0'\n}\n/**\n * Amount is not same postBalance - preBalance\n * @postBalance and @preBalance are balance after all action (transaction)\n * @postBalance = @preBalance +- all @amount (multi amount in transaction)\n * @amount is value in 1 action\n */\nexport class ActionTransfer {\n  source: ActionInfo | undefined\n  destination: ActionInfo | undefined\n  amount: string = '0'\n}\ntype ProgramInfo = {\n  programId: string\n  data: string\n}\n","import {\n  ConfirmedSignatureInfo,\n  ConfirmedSignaturesForAddress2Options,\n  Connection,\n  ParsedConfirmedTransaction,\n  PublicKey,\n} from '@solana/web3.js'\n\nimport { OptionsFetchSignature } from '../../constants/transaction'\n\nconst DEFAULT_LIMIT = 700\nconst TRANSACTION_LIMIT = 200\n\nexport class Solana {\n  private conn: Connection = window.sentre.splt.connection\n\n  //Search for all signatures from last Signature and earlier\n  //So: If new collection (to now) -> last Signature = null\n  private async fetchSignatures(\n    address: PublicKey,\n    lastSignature?: string,\n    limit: number = DEFAULT_LIMIT,\n  ): Promise<Array<ConfirmedSignatureInfo>> {\n    if (limit > DEFAULT_LIMIT) limit = DEFAULT_LIMIT\n    const options: ConfirmedSignaturesForAddress2Options = {\n      limit: limit,\n      before: lastSignature,\n    }\n    return this.conn.getConfirmedSignaturesForAddress2(address, options)\n  }\n\n  private async fetchConfirmTransaction(signatures: string[]) {\n    let confirmedTransactions: ParsedConfirmedTransaction[] = []\n    let limit = TRANSACTION_LIMIT\n\n    const promiseTransGroup = []\n    for (let offset = 0; offset <= signatures.length / limit; offset++) {\n      const skip = offset * limit\n      const signaturesGroup = signatures.slice(skip, skip + limit)\n      promiseTransGroup.push(\n        this.conn.getParsedConfirmedTransactions(signaturesGroup),\n      )\n    }\n\n    const transGroups = await Promise.all(promiseTransGroup)\n    for (const transGroup of transGroups) {\n      //@ts-ignore\n      confirmedTransactions = confirmedTransactions.concat(transGroup)\n    }\n    return confirmedTransactions\n  }\n\n  async fetchTransactions(\n    programId: string,\n    options: OptionsFetchSignature,\n  ): Promise<ParsedConfirmedTransaction[]> {\n    const currentTime = new Date().getTime() / 1000\n    let { secondFrom, secondTo, lastSignature, limit } = options\n    secondFrom = Math.floor(secondFrom || 0)\n    secondTo = Math.floor(secondTo || currentTime)\n\n    const programPublicKey = new PublicKey(programId)\n    let signatures: string[] = []\n    let isStop = false\n\n    while (!isStop) {\n      const confirmedSignatureInfos: ConfirmedSignatureInfo[] =\n        await this.fetchSignatures(programPublicKey, lastSignature, limit)\n      if (!confirmedSignatureInfos?.length || isStop) break\n      for (const info of confirmedSignatureInfos) {\n        const blockTime = info.blockTime\n        if (!blockTime || blockTime > secondTo) continue\n        if (blockTime < secondFrom) {\n          isStop = true\n          break\n        }\n        lastSignature = info.signature\n        signatures.push(info.signature)\n      }\n\n      if (limit && signatures.length >= limit) break\n      if (confirmedSignatureInfos?.length < DEFAULT_LIMIT) break\n    }\n    const confirmedTransactions = await this.fetchConfirmTransaction(signatures)\n    return confirmedTransactions\n  }\n}\n","export enum ParsedType {\n  Transfer = 'transfer',\n}\n\nexport type ParsedAction = {\n  type: ParsedType\n  info: ParsedInfoTransfer\n}\n\nexport type ParsedInfoTransfer = {\n  source: string\n  destination: string\n  amount: string\n  lamports: number\n}\n\nexport type OptionsFetchSignature = {\n  limit?: number\n  lastSignature?: string\n  secondFrom?: number\n  secondTo?: number\n}\n","//@ts-ignore\nimport { base58_to_binary } from '@relocke/base58'\n//@ts-ignore\nimport { struct } from 'soprox-abi'\n\nimport { TransLog } from './../../entities/trans-log'\nimport { TransLogService } from './../translog'\n\nconst TRANSLOG_PROGRAM_DATA_SCHEMA = { key: 'code', type: 'u8' }\n\nexport enum SwapActionType {\n  InitPool = 'INITIALIZE_POOL',\n  AddLiquidity = 'ADD_LIQUIDITY',\n  RemoveLiquidity = 'REMOVE_LIQUIDITY',\n  Swap = 'SWAP',\n  Route = 'SWAP',\n}\n\nconst ACTION_TYPE: Record<number, SwapActionType> = {\n  0: SwapActionType.InitPool,\n  1: SwapActionType.AddLiquidity,\n  2: SwapActionType.RemoveLiquidity,\n  3: SwapActionType.Swap,\n  8: SwapActionType.Route,\n}\n\nexport default class PoolTransLogService extends TransLogService {\n  parseAction = (transLog: TransLog) => {\n    const programDataEncode = transLog.programInfo?.data\n    const dataBuffer = base58_to_binary(programDataEncode)\n    const actionLayout = new struct([TRANSLOG_PROGRAM_DATA_SCHEMA])\n    const programDataDecode: { code: number } = actionLayout.fromBuffer(\n      Buffer.from(dataBuffer),\n    )\n    return ACTION_TYPE[programDataDecode.code] || ''\n  }\n}\n","//@ts-ignore\nimport {\n  ParsedConfirmedTransaction,\n  ParsedInstruction,\n  ParsedMessageAccount,\n  PartiallyDecodedInstruction,\n  TokenBalance,\n} from '@solana/web3.js'\nimport { account } from '@senswap/sen-js'\n\nimport { ActionInfo, ActionTransfer, TransLog } from '../entities/trans-log'\nimport { Solana } from '../adapters/solana/client'\nimport {\n  OptionsFetchSignature,\n  ParsedAction,\n  ParsedInfoTransfer,\n  ParsedType,\n} from '../constants/transaction'\nimport { DateHelper } from '../helpers/date'\nimport { SOL_ADDRESS, SOL_DECIMALS } from '../constants/sol'\n\ntype InstructionData = ParsedInstruction | PartiallyDecodedInstruction\n\nexport class TransLogService {\n  protected parseAction = (transLog: TransLog) => {\n    return ''\n  }\n\n  async collect(\n    programId: string,\n    configs: OptionsFetchSignature,\n    filterTransLog?: (transLog: TransLog) => Promise<boolean>,\n  ): Promise<TransLog[]> {\n    let { lastSignature, limit } = configs\n    const solana = new Solana()\n    let transLogs: Array<TransLog> = []\n    let lastSignatureTmp = lastSignature\n    let isStop = false\n    let smartLimit = 100\n    while (!isStop) {\n      const confirmedTrans: ParsedConfirmedTransaction[] =\n        await solana.fetchTransactions(programId, {\n          ...configs,\n          lastSignature: lastSignatureTmp,\n          limit: smartLimit,\n        })\n\n      for (const trans of confirmedTrans) {\n        lastSignatureTmp = trans.transaction.signatures[0]\n        const log = this.parseTransLog(trans)\n        if (!log) continue\n        // filter\n        if (filterTransLog) {\n          const checked = await filterTransLog(log)\n          if (!checked) continue\n        }\n        transLogs.push(log)\n\n        if (limit && transLogs.length >= limit) {\n          isStop = true\n          break\n        }\n      }\n      if (limit) smartLimit = (smartLimit * limit) / (transLogs.length || 1)\n      if (!confirmedTrans.length) break\n      if (isStop) break\n    }\n    return transLogs\n  }\n\n  private parseTransLog(\n    confirmedTrans: ParsedConfirmedTransaction,\n  ): TransLog | undefined {\n    const { blockTime, meta, transaction } = confirmedTrans\n    if (!blockTime || !meta) return\n    const { postTokenBalances, preTokenBalances, postBalances, preBalances } =\n      meta\n    const { signatures, message } = transaction\n\n    const innerInstructionData = meta.innerInstructions?.[0]?.instructions || []\n    const instructionData = message.instructions[0] || []\n\n    const transLog = new TransLog()\n    transLog.signature = signatures[0]\n    transLog.blockTime = blockTime\n    transLog.time = DateHelper.fromSeconds(blockTime).ymd()\n    transLog.programId = instructionData.programId.toString()\n\n    const mapAccount = this.parseAccountInfo(\n      message.accountKeys,\n      postTokenBalances || [],\n      preTokenBalances || [],\n      postBalances,\n      preBalances,\n    )\n    // system program transaction\n    if (this.isParsedInstruction(instructionData)) {\n      transLog.programTransfer = this.parseListActionTransfer(\n        [instructionData],\n        mapAccount,\n      )\n      return transLog\n    }\n    // smart contract transaction\n    transLog.actionTransfers = this.parseListActionTransfer(\n      innerInstructionData,\n      mapAccount,\n    )\n    transLog.programInfo = {\n      programId: instructionData.programId.toString(),\n      data: (instructionData as PartiallyDecodedInstruction).data,\n    }\n    transLog.actionType = ''\n    transLog.actionType = this.parseAction(transLog)\n\n    return transLog\n  }\n\n  private isParsedInstruction(instructionData: InstructionData) {\n    return (instructionData as ParsedInstruction).parsed !== undefined\n  }\n\n  private parseListActionTransfer(\n    actions: InstructionData[],\n    mapAccount: Map<string, ActionInfo>,\n  ) {\n    const actionTransfer: ActionTransfer[] = []\n    for (const action of actions) {\n      if (!this.isParsedInstruction(action)) continue\n      const actionParsed: ParsedAction =\n        (action as ParsedInstruction).parsed || {}\n      switch (actionParsed.type) {\n        case ParsedType.Transfer:\n          const info: ParsedInfoTransfer = actionParsed.info\n          const parsedAction = this.parseActionTransfer(info, mapAccount)\n          if (parsedAction) actionTransfer.push(parsedAction)\n          break\n        default:\n          break\n      }\n    }\n    return actionTransfer\n  }\n\n  private parseActionTransfer(\n    parsedTransfer: ParsedInfoTransfer,\n    mapAccount: Map<string, ActionInfo>,\n  ): ActionTransfer | undefined {\n    const { source, destination, amount, lamports } = parsedTransfer\n    const amountTransfer = amount || lamports.toString()\n\n    if (\n      !amountTransfer ||\n      !mapAccount.has(source) ||\n      !mapAccount.has(destination)\n    )\n      return\n\n    const actionTransfer = new ActionTransfer()\n    actionTransfer.source = mapAccount.get(source)\n    actionTransfer.destination = mapAccount.get(destination)\n    actionTransfer.amount = amountTransfer\n    return actionTransfer\n  }\n\n  private parseAccountInfo(\n    accountKeys: Array<ParsedMessageAccount>,\n    postTokenBalances: Array<TokenBalance>,\n    preTokenBalances: Array<TokenBalance>,\n    postBalances: number[],\n    preBalances: number[],\n  ): Map<string, ActionInfo> {\n    const mapAccountInfo = new Map<string, ActionInfo>()\n\n    // Associated Address\n    for (const postBalance of postTokenBalances) {\n      const { accountIndex, mint, uiTokenAmount } = postBalance\n      const info = new ActionInfo()\n      info.address = accountKeys[accountIndex].pubkey.toString()\n      info.postBalance = uiTokenAmount.amount\n      info.mint = mint\n      info.decimals = uiTokenAmount.decimals\n      mapAccountInfo.set(info.address, info)\n    }\n\n    for (const preBalance of preTokenBalances) {\n      const { accountIndex, uiTokenAmount } = preBalance\n      const address = accountKeys[accountIndex].pubkey.toString()\n      const info = mapAccountInfo.get(address) || new ActionInfo()\n      info.preBalance = uiTokenAmount.amount\n      mapAccountInfo.set(info.address, info)\n    }\n\n    // Wallet address\n    accountKeys.forEach((accountData, idx) => {\n      const address = accountData.pubkey.toString()\n      if (!account.isAssociatedAddress(address)) {\n        const info = mapAccountInfo.get(address) || new ActionInfo()\n        info.address = address\n        info.mint = SOL_ADDRESS\n        info.postBalance = String(postBalances[idx] || 0) // lamports\n        info.preBalance = String(preBalances[idx] || 0) // lamports\n        info.decimals = SOL_DECIMALS\n        mapAccountInfo.set(info.address, info)\n      }\n    })\n\n    return mapAccountInfo\n  }\n}\n","export const SOL_ADDRESS = '11111111111111111111111111111111'\n\nexport const SOL_DECIMALS = 9\n","import { PoolData, utils } from '@senswap/sen-js'\n\nimport { fetchCGK } from 'shared/helper'\nimport TokenProvider from 'os/providers/tokenProvider'\nimport { TotalSummary } from 'app/stat/constants/summary'\nimport { DailyReport } from 'app/stat/entities/daily-report'\nimport { DateHelper } from 'app/stat/helpers/date'\n\nimport DailyReportService from '../daily-report'\nimport PoolTransLogService, { SwapActionType } from './poolTranslog'\n\nconst DATE_RANGE = 11\n\nexport default class PoolService {\n  poolAddress: string\n  poolData: PoolData | undefined\n  poolTransLogService = new PoolTransLogService()\n  dailyReportService = new DailyReportService()\n  tokenProvider = new TokenProvider()\n\n  constructor(poolAddress: string) {\n    this.poolAddress = poolAddress\n  }\n\n  getPoolData = async (): Promise<PoolData> => {\n    if (!this.poolData) {\n      const swap = window.sentre.swap\n      this.poolData = await swap.getPoolData(this.poolAddress)\n    }\n    return this.poolData\n  }\n\n  getUsd = async (mint: string, amountBigint: bigint) => {\n    const mintInfo = await this.tokenProvider.findByAddress(mint)\n    if (!mintInfo) return 0\n    const { decimals, extensions } = mintInfo\n    try {\n      const cgkData = await fetchCGK(extensions?.coingeckoId)\n      if (!cgkData?.price) return 0\n      const amount = utils.undecimalize(amountBigint, decimals)\n      return Number(amount) * cgkData.price\n    } catch (error) {\n      return 0\n    }\n  }\n  getDailyInfo = async () => {\n    let timeTo = new DateHelper()\n    const timeFrom = new DateHelper().subtractDay(DATE_RANGE)\n    const {\n      mint_a,\n      mint_b,\n      treasury_a,\n      treasury_b,\n      reserve_a,\n      reserve_b,\n      fee_ratio,\n      tax_ratio,\n    } = await this.getPoolData()\n\n    // fetch transLog\n    const transLogs = await this.poolTransLogService.collect(this.poolAddress, {\n      secondFrom: timeFrom.seconds(),\n      secondTo: timeTo.seconds(),\n    })\n    // parse daily + create map time\n    const dailyReports = this.dailyReportService.parserDailyReport(transLogs)\n    const mapTimeDailyReport: Record<number, DailyReport[]> = {}\n    for (const report of dailyReports) {\n      const { time, address } = report\n      // filter daily report\n      if (address !== treasury_a && address !== treasury_b) continue\n      if (!mapTimeDailyReport[time]) mapTimeDailyReport[time] = []\n      mapTimeDailyReport[time].push(report)\n    }\n    // parse summary\n    const tvlA = await this.getUsd(mint_a, reserve_a)\n    const tvlB = await this.getUsd(mint_b, reserve_b)\n\n    const mapTimeTotal: Record<string, TotalSummary> = {}\n\n    mapTimeTotal[timeTo.ymd()] = {\n      tvl: tvlA + tvlB,\n      fee: 0,\n      volume: 0,\n    }\n\n    while (timeTo.ymd() > timeFrom.ymd()) {\n      const reports = mapTimeDailyReport[timeTo.ymd()] || []\n      const currentReport = mapTimeTotal[timeTo.ymd()]\n      const prevDate = timeTo.subtractDay(1)\n      if (!mapTimeTotal[prevDate.ymd()] && prevDate.ymd() >= timeFrom.ymd()) {\n        mapTimeTotal[prevDate.ymd()] = {\n          tvl: currentReport.tvl,\n          fee: 0,\n          volume: 0,\n        }\n      }\n      for (const report of reports) {\n        const amountOut = await this.getUsd(report.mint, report.amountOut)\n        const amountIn = await this.getUsd(report.mint, report.amountIn)\n        if (mapTimeTotal[prevDate.ymd()]) {\n          mapTimeTotal[prevDate.ymd()].tvl += amountOut - amountIn\n          if (mapTimeTotal[prevDate.ymd()].tvl < 0)\n            mapTimeTotal[prevDate.ymd()].tvl = 0\n        }\n        if (report.actionType === SwapActionType.Swap) {\n          mapTimeTotal[timeTo.ymd()].volume += amountIn + amountOut\n          const fee =\n            Number(utils.undecimalize(fee_ratio + tax_ratio, 9)) * amountOut\n          mapTimeTotal[timeTo.ymd()].fee += fee\n        }\n      }\n      timeTo = timeTo.subtractDay(1)\n    }\n\n    return mapTimeTotal\n  }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport moment from 'moment'\n\nimport { Card, Col, Row, Typography, Spin } from 'antd'\nimport SenChart from 'app/components/chart'\n\nimport PoolService from 'app/stat/logic/pool/pool'\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\nimport { DataLoader } from 'shared/dataloader'\n\nconst CHART_CONFIGS = {\n  color: '#40A9FF',\n  radius: 0,\n  hitRadius: 14,\n  tooltip: 'TVL',\n  transparent: 'transparent',\n}\nconst TTL_5_MIN = 300000\n\nconst TotalValueLocked = () => {\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n  const [chartData, setChartData] = useState<{ data: number; label: string }[]>(\n    [],\n  )\n  const [isLoading, setIsLoading] = useState(false)\n\n  const tvlChartConfigs = {\n    borderColor: CHART_CONFIGS.transparent,\n    borderRadius: CHART_CONFIGS.radius,\n    pointRadius: CHART_CONFIGS.radius,\n    tooltip: CHART_CONFIGS.tooltip,\n    pointHitRadius: CHART_CONFIGS.hitRadius,\n    pointHoverRadius: CHART_CONFIGS.radius,\n    backgroundColor: CHART_CONFIGS.color,\n  }\n\n  const fetchChart = useCallback(async () => {\n    if (!selectedPoolAddress) return\n    try {\n      setIsLoading(true)\n      const poolService = new PoolService(selectedPoolAddress)\n      const poolStat = await DataLoader.load(\n        'getDailyInfo' + selectedPoolAddress,\n        poolService.getDailyInfo,\n        { cache: { ttl: TTL_5_MIN } },\n      )\n      const chartData = Object.keys(poolStat).map((time) => {\n        return {\n          data: poolStat[time].tvl,\n          label: moment(time, 'YYYYMMDD').format('MM/DD'),\n        }\n      })\n      setChartData(chartData)\n    } catch (error) {\n    } finally {\n      setIsLoading(false)\n    }\n  }, [selectedPoolAddress])\n  useEffect(() => {\n    fetchChart()\n  }, [fetchChart])\n\n  return (\n    <Card bordered={false} style={{ height: 'auto' }}>\n      <Spin tip=\"Loading...\" spinning={isLoading}>\n        <Row gutter={[24, 24]}>\n          <Col flex=\"auto\">\n            <Typography.Title level={4}>Total Value Locked</Typography.Title>\n          </Col>\n          <Col>\n            <Typography.Title level={2}>\n              ${numeric(chartData.at(-1)?.data).format('0,0.[0]a')}\n            </Typography.Title>\n          </Col>\n          <Col span={24}>\n            <SenChart\n              chartData={chartData.map((e) => e.data)}\n              labels={chartData.map((e) => e.label)}\n              configs={tvlChartConfigs}\n            />\n          </Col>\n        </Row>\n      </Spin>\n    </Card>\n  )\n}\n\nexport default TotalValueLocked\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport moment from 'moment'\n\nimport { Card, Col, Row, Spin, Typography } from 'antd'\nimport SenChart from 'app/components/chart'\n\nimport PoolService from 'app/stat/logic/pool/pool'\nimport { AppState } from 'app/model'\nimport { DataLoader } from 'shared/dataloader'\nimport { numeric } from 'shared/util'\n\nconst CHART_CONFIGS = {\n  color: '#40A9FF',\n  radius: 0,\n  hitRadius: 14,\n  tooltip: 'TVL',\n  transparent: 'transparent',\n}\nconst TTL_5_MIN = 300000\n\nconst Volume24h = () => {\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n  const [chartData, setChartData] = useState<{ data: number; label: string }[]>(\n    [],\n  )\n  const [isLoading, setIsLoading] = useState(false)\n\n  const volumeChartConfigs = {\n    borderColor: CHART_CONFIGS.transparent,\n    borderRadius: CHART_CONFIGS.radius,\n    pointRadius: CHART_CONFIGS.radius,\n    tooltip: CHART_CONFIGS.tooltip,\n    pointHitRadius: CHART_CONFIGS.hitRadius,\n    pointHoverRadius: CHART_CONFIGS.radius,\n    backgroundColor: CHART_CONFIGS.color,\n  }\n\n  const fetchChart = useCallback(async () => {\n    if (!selectedPoolAddress) return\n    try {\n      setIsLoading(true)\n      const poolService = new PoolService(selectedPoolAddress)\n      const poolStat = await DataLoader.load(\n        'getDailyInfo' + selectedPoolAddress,\n        poolService.getDailyInfo,\n        { cache: { ttl: TTL_5_MIN } },\n      )\n      const chartData = Object.keys(poolStat).map((time) => {\n        return {\n          data: poolStat[time].volume,\n          label: moment(time, 'YYYYMMDD').format('MM/DD'),\n        }\n      })\n      setChartData(chartData)\n    } catch (error) {\n    } finally {\n      setIsLoading(false)\n    }\n  }, [selectedPoolAddress])\n\n  useEffect(() => {\n    fetchChart()\n  }, [fetchChart])\n\n  const vol24h = useMemo(() => {\n    const today = chartData.at(-1)?.data || 0\n    const yesterday = chartData.at(-2)?.data || 0\n    const house = new Date().getHours()\n    return today + (house * yesterday) / 24\n  }, [chartData])\n\n  return (\n    <Card bordered={false} style={{ height: 384 }}>\n      <Spin tip=\"Loading...\" spinning={isLoading}>\n        <Row gutter={[24, 24]}>\n          <Col flex=\"auto\">\n            <Typography.Title level={4}>24h Volume</Typography.Title>\n          </Col>\n          <Col>\n            <Typography.Title level={2}>\n              ${numeric(vol24h).format('0,0.[0]a')}\n            </Typography.Title>\n          </Col>\n          <Col span={24}>\n            <SenChart\n              type=\"bar\"\n              chartData={chartData.map((e) => e.data)}\n              labels={chartData.map((e) => e.label)}\n              configs={volumeChartConfigs}\n            />\n          </Col>\n        </Row>\n      </Spin>\n    </Card>\n  )\n}\n\nexport default Volume24h\n","import { useCallback, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { Button, Col, Popover, Row, Space, Tooltip, Typography } from 'antd'\n\nimport { MintAvatar, MintSymbol } from 'app/shared/components/mint'\nimport { usePool } from 'senhub/providers'\nimport IonIcon from 'shared/antd/ionicon'\nimport { asyncWait } from 'shared/util'\n\nconst PoolDetailsHeader = ({ poolAddress }: { poolAddress: string }) => {\n  const [copied, setCopied] = useState(false)\n  const history = useHistory()\n  const { pools } = usePool()\n  const { mint_lpt } = pools?.[poolAddress] || {}\n\n  const onCopy = async () => {\n    setCopied(true)\n    await asyncWait(1500)\n    setCopied(false)\n  }\n  const goFarming = useCallback(() => {\n    return history.push(`/app/sen_farming?mintAddress=${mint_lpt}`)\n  }, [history, mint_lpt])\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col flex=\"auto\">\n        <Space>\n          <MintAvatar mintAddress={mint_lpt} size={32} />\n          <MintSymbol mintAddress={mint_lpt} />\n        </Space>\n      </Col>\n      <Col>\n        <Space>\n          <Popover\n            placement=\"left\"\n            content={\n              <Space>\n                <Typography.Text>PoolAddress: {poolAddress}</Typography.Text>\n                <Tooltip title=\"Copied\" visible={copied} arrowPointAtCenter>\n                  <CopyToClipboard text={poolAddress}>\n                    <Button\n                      type=\"text\"\n                      size=\"small\"\n                      icon={<IonIcon name=\"copy-outline\" />}\n                      onClick={onCopy}\n                    />\n                  </CopyToClipboard>\n                </Tooltip>\n              </Space>\n            }\n          >\n            <IonIcon name=\"alert-circle-outline\" />\n          </Popover>\n          <Button onClick={goFarming}>Go Farming</Button>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\nexport default PoolDetailsHeader\n","import { useSelector } from 'react-redux'\n\nimport { Col, Row } from 'antd'\nimport { AppState } from 'app/model'\nimport LiquidityPosition from './liquidityPosition'\nimport PoolManagement from './management'\nimport TotalValueLocked from './totalValueLocked'\nimport Volume24h from './volume24h'\nimport PoolDetailsHeader from './poolDetailsHeader'\n\nconst PoolDetails = () => {\n  const { selectedPoolAddress } = useSelector((state: AppState) => state.main)\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <PoolDetailsHeader poolAddress={selectedPoolAddress} />\n      </Col>\n      <Col xs={24} lg={12}>\n        <TotalValueLocked />\n      </Col>\n      <Col xs={24} lg={12}>\n        <Volume24h />\n      </Col>\n      <Col xs={24} lg={12}>\n        <LiquidityPosition poolAddress={selectedPoolAddress} />\n      </Col>\n      <PoolManagement poolAddress={selectedPoolAddress} />\n    </Row>\n  )\n}\n\nexport default PoolDetails\n","import { useDispatch } from 'react-redux'\n\nimport { Affix, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { handleOpenDrawer } from 'app/model/main.controller'\n\nconst ViewPoolButton = ({ width }: { width: number }) => {\n  const dispatch = useDispatch()\n\n  if (width > 1200) return null\n  return (\n    <Affix style={{ position: 'fixed', bottom: 80, right: 16 }}>\n      <Button\n        type=\"primary\"\n        onClick={() => dispatch(handleOpenDrawer(true))}\n        icon={<IonIcon name=\"list-outline\" />}\n      >\n        Pools\n      </Button>\n    </Affix>\n  )\n}\nexport default ViewPoolButton\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { account, AccountData, utils } from '@senswap/sen-js'\n\n/**\n * Store constructor\n */\nexport type LPTData = AccountData & {\n  pool: string\n  selectedPoolAddress?: string\n  selectedLPTAddress?: string\n}\nexport type State = Record<string, LPTData>\n\nconst NAME = 'lpts'\nconst initialState: State = {}\n\n/**\n * Actions\n */\n\nexport const getLPTs = createAsyncThunk(\n  `${NAME}/getLPTs`,\n  async ({\n    accounts,\n  }: {\n    accounts: Array<AccountData & { address: string }>\n  }) => {\n    const { splt, swap } = window.sentre\n    // Get the corresponding mint list\n    const mintAddresses = accounts.map(({ mint: mintAddress }) => mintAddress)\n    const mintPublicKeys = mintAddresses.map((mintAddress) =>\n      account.fromAddress(mintAddress),\n    )\n    // Validate whether lp mint or normal mint\n    const mintData = (\n      await utils.wrappedGetMultipleAccountsInfo(\n        splt.connection,\n        mintPublicKeys,\n      )\n    ).map((re) => {\n      if (!re?.data) return null\n      return splt.parseMintData(re.data)\n    })\n    if (!mintData?.length) return {}\n    const poolAddresses = await Promise.all(\n      mintData.map(async (re) => {\n        try {\n          const { mint_authority, freeze_authority } = re || {}\n          if (\n            !account.isAddress(mint_authority) ||\n            !account.isAddress(freeze_authority)\n          )\n            return undefined\n          return await swap.derivePoolAddress(mint_authority, freeze_authority)\n        } catch (er) {\n          return undefined\n        }\n      }),\n    )\n    // Filter lpt accounts\n    let bulk: State = {}\n    accounts.forEach(({ address, ...data }, index) => {\n      const poolAddress = poolAddresses[index]\n      if (account.isAddress(poolAddress))\n        bulk[address] = { ...data, pool: poolAddress }\n    })\n    return bulk\n  },\n)\n\nexport const getLPT = createAsyncThunk<\n  State,\n  { address: string },\n  { state: any }\n>(`${NAME}/getLPT`, async ({ address }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid account address')\n  const {\n    lpts: { [address]: data },\n  } = getState()\n  if (data) return { [address]: data }\n  const { swap } = window.sentre\n  const raw = await swap.getLPTData(address)\n  return { [address]: raw }\n})\n\nexport const upsetLPT = createAsyncThunk<\n  State,\n  { address: string; data: AccountData },\n  { state: any }\n>(`${NAME}/upsetLPT`, async ({ address, data }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  if (!data) throw new Error('Data is empty')\n  const {\n    lpts: { [address]: lptData },\n  } = getState()\n  const { pool } = lptData || {}\n  if (account.isAddress(pool)) return { [address]: { ...data, pool } }\n  // To make sure the new account is an lpt account\n  const { swap } = window.sentre\n  const raw = await swap.getLPTData(address)\n  return { [address]: raw }\n})\n\nexport const deleteLPT = createAsyncThunk(\n  `${NAME}/deleteLPT`,\n  async ({ address }: { address: string }) => {\n    if (!account.isAddress(address)) throw new Error('Invalid address')\n    return { address }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(getLPTs.fulfilled, (state, { payload }) => payload)\n      .addCase(\n        getLPT.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetLPT.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        deleteLPT.fulfilled,\n        (state, { payload }) => void delete state[payload.address],\n      ),\n})\n\nexport default slice.reducer\n","import { Fragment, useCallback, useEffect, useMemo } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { notifyError } from 'app/helper'\nimport { AppDispatch } from 'app/model'\nimport { getLPTs, upsetLPT } from 'app/model/lpts.controller'\nimport { useAccount, useWallet } from 'senhub/providers'\n\n// Watch id\nlet watchId = 0\n\nconst LptWatcher = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { accounts } = useAccount()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  // First-time fetching\n  const accountData = useMemo(\n    () =>\n      Object.keys(accounts).map((accountAddress) => ({\n        address: accountAddress,\n        ...accounts[accountAddress],\n      })),\n    [accounts],\n  )\n  const fetchData = useCallback(async () => {\n    try {\n      await dispatch(getLPTs({ accounts: accountData })).unwrap()\n    } catch (er) {\n      await notifyError(er)\n    }\n  }, [dispatch, accountData])\n  // Watch account changes\n  const watchData = useCallback(async () => {\n    if (watchId) return console.warn('Already watched')\n    const callback = (er: string | null, re: any) => {\n      if (er) return console.error(er)\n      const { address, data } = re\n      return dispatch(upsetLPT({ address, data }))\n    }\n    const filters = [{ memcmp: { bytes: walletAddress, offset: 32 } }]\n    watchId = window.sentre.splt.watch(callback, filters)\n  }, [dispatch, walletAddress])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await window.sentre.splt.unwatch(watchId)\n        } catch (er) {}\n      })()\n      watchId = 0\n    }\n  }, [fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default LptWatcher\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Row, Col, Modal, Typography, Card } from 'antd'\nimport SideBar from './sideBar'\nimport PoolDetails from './poolDetails'\nimport ViewPoolButton from 'app/components/viewPoolButton'\nimport LptWatcher from 'app/components/lptWatcher'\n\nimport { useUI } from 'senhub/providers'\nimport { AppState } from 'app/model'\nimport { handleOpenDrawer } from 'app/model/main.controller'\n\nconst Page = () => {\n  const {\n    ui: { width },\n  } = useUI()\n  const hideSidebar = width < 1200\n\n  const dispatch = useDispatch()\n  const visible = useSelector((state: AppState) => state.main?.visible)\n\n  return (\n    <Row gutter={[24, 24]} style={{ paddingBottom: 12 }}>\n      {!hideSidebar ? (\n        <Col lg={8} xl={6}>\n          <Card\n            className=\"side-bar\"\n            bodyStyle={{ padding: 0 }}\n            bordered={false}\n          >\n            <SideBar />\n          </Card>\n        </Col>\n      ) : (\n        <Modal\n          visible={visible}\n          onCancel={() => dispatch(handleOpenDrawer(false))}\n          footer={null}\n          centered={true}\n          forceRender={true}\n          title={<Typography.Title level={4}>Pool Selection</Typography.Title>}\n          bodyStyle={{ maxHeight: 400, overflow: 'auto', padding: 0 }}\n        >\n          <SideBar />\n        </Modal>\n      )}\n      <Col xs={24} lg={24} xl={18}>\n        <PoolDetails />\n      </Col>\n      <ViewPoolButton width={width} />\n      <LptWatcher />\n    </Row>\n  )\n}\n\nexport default Page\n","import { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { Col, Select, Row, Typography } from 'antd'\n\nimport { AppDispatch } from 'app/model'\nimport { selectCategoryPool } from 'app/model/main.controller'\n\nconst Header = () => {\n  const dispatch = useDispatch<AppDispatch>()\n\n  const handleChange = (value: string) => {\n    dispatch(selectCategoryPool(value))\n  }\n\n  useEffect(() => {\n    dispatch(selectCategoryPool('sentre'))\n  }, [dispatch])\n\n  return (\n    <Row gutter={24} align=\"middle\" className=\"header-widget\">\n      <Col flex=\"auto\">\n        <Typography.Text style={{ color: '#e9e9eb ' }}>\n          Pools list by\n        </Typography.Text>\n      </Col>\n      <Col>\n        <Select\n          defaultValue=\"sentre\"\n          onChange={handleChange}\n          className=\"header-select\"\n        >\n          <Select.Option value=\"sentre\">Sentre</Select.Option>\n          <Select.Option value=\"community\">Community</Select.Option>\n          <Select.Option value=\"deposited\">Deposited</Select.Option>\n          <Select.Option value=\"your-pools\">Your pools</Select.Option>\n        </Select>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Header\n","import { useHistory } from 'react-router-dom'\n\nimport { Button, Col, Row, Space, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport config from 'app/configs'\n\nconst SwapAction = ({\n  poolAddress,\n  isDisabled,\n}: {\n  poolAddress: string\n  isDisabled: boolean\n}) => {\n  const history = useHistory()\n  const {\n    swapRoute: { swapRoute },\n  } = config\n  const onSwap = (originalRoute: boolean) => {\n    history.push({\n      pathname: swapRoute,\n      state: { poolAddress, originalRoute },\n    })\n  }\n  return (\n    <Row gutter={[24, 12]} style={{ width: 260 }}>\n      <Col span={24}>\n        <Space direction=\"vertical\" size={0}>\n          <Space>\n            <IonIcon style={{ color: '#FA8C16' }} name=\"alert-circle-outline\" />\n            <Typography.Title level={5}>Choose the route?</Typography.Title>\n          </Space>\n          <Typography.Text type=\"secondary\">\n            We recommend choosing the best route to optimize the price.\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col style={{ textAlign: 'right' }} span={24}>\n        <Space>\n          <Button\n            size=\"small\"\n            disabled={isDisabled}\n            onClick={() => onSwap(true)}\n          >\n            Original route\n          </Button>\n          <Button size=\"small\" onClick={() => onSwap(false)} type=\"primary\">\n            Best route\n          </Button>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\nexport default SwapAction\n","import { Fragment, ReactElement, useState } from 'react'\nimport { utils } from '@senswap/sen-js'\n\nimport {\n  Row,\n  Col,\n  Card,\n  Space,\n  Typography,\n  Divider,\n  Tooltip,\n  Collapse,\n  Button,\n  Popover,\n} from 'antd'\nimport PoolTVL from '../../../components/poolTVL'\nimport IonIcon from 'shared/antd/ionicon'\nimport PoolCardStatus from 'app/components/PoolCardStatus'\nimport SwapAction from 'app/widget/\bcomponents/swapAction'\n\nimport { LPTData } from 'app/model/lpts.controller'\nimport { PoolStatus } from 'app/constant'\nimport { numeric } from 'shared/util'\nimport { MintAvatar, MintSymbol } from 'app/shared/components/mint'\nimport { usePool } from 'senhub/providers'\n\nconst DECIMAL = 9\n\nconst ItemLPT = ({\n  data,\n  onClick = () => {},\n  action = <Fragment />,\n  keyExpand,\n}: {\n  data: LPTData\n  onClick?: () => void\n  action: ReactElement\n  keyExpand: number\n}) => {\n  const { pool: poolAddress, amount } = data\n  const [isActive, setIsActive] = useState(false)\n  const lp = utils.undecimalize(amount, DECIMAL)\n  const { pools } = usePool()\n\n  const isFrozen = pools?.[poolAddress].state === PoolStatus.Frozen\n  const mintLptAddress = pools?.[poolAddress]?.mint_lpt || ''\n  const expandClass = isActive ? '' : 'expandHidden'\n  const defaultKey = keyExpand.toString()\n  return (\n    <Card bodyStyle={{ padding: 12, minHeight: 78 }} hoverable>\n      <Row gutter={[12, 12]} align=\"top\">\n        <Col flex=\"auto\">\n          <Space direction=\"vertical\">\n            <Space>\n              <MintAvatar mintAddress={mintLptAddress} size={24} />\n              <Typography.Text type={isFrozen ? 'secondary' : undefined}>\n                <MintSymbol mintAddress={mintLptAddress} />\n              </Typography.Text>\n            </Space>\n            <Space>\n              <Tooltip title=\"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.\">\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  TVL:\n                </Typography.Text>\n              </Tooltip>\n              <Typography.Text>\n                <PoolTVL poolAddress={poolAddress} />\n              </Typography.Text>\n              <Divider type=\"vertical\" style={{ margin: 0 }} />\n              <Typography.Text type=\"secondary\" className=\"caption\">\n                Your LPT:\n              </Typography.Text>\n              <Typography.Text>\n                {numeric(lp).format('0,0.[00]')}\n              </Typography.Text>\n            </Space>\n          </Space>\n        </Col>\n        <Col>\n          <Space size={2}>\n            <PoolCardStatus poolAddress={poolAddress} />\n            {action}\n            <Button\n              size=\"small\"\n              type=\"text\"\n              icon={\n                <IonIcon\n                  name={\n                    isActive\n                      ? 'chevron-down-outline'\n                      : 'chevron-forward-outline'\n                  }\n                />\n              }\n              onClick={() => setIsActive(!isActive)}\n            />\n          </Space>\n        </Col>\n      </Row>\n      <Collapse\n        className={expandClass}\n        style={{ marginTop: 16 }}\n        ghost={true}\n        activeKey={defaultKey}\n        bordered={false}\n      >\n        <Collapse.Panel header=\"\" key={defaultKey}>\n          <Row gutter={[16, 16]}>\n            <Col span={12}>\n              <Popover\n                trigger=\"click\"\n                placement=\"bottomLeft\"\n                content={\n                  <SwapAction isDisabled={isFrozen} poolAddress={poolAddress} />\n                }\n              >\n                <Button block>Swap</Button>\n              </Popover>\n            </Col>\n            <Col span={12}>\n              <Button onClick={onClick} block type=\"primary\">\n                Detail\n              </Button>\n            </Col>\n          </Row>\n        </Collapse.Panel>\n      </Collapse>\n    </Card>\n  )\n}\n\nexport default ItemLPT\n","import { ReactElement, Fragment, useEffect, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport LazyLoad from 'react-lazyload'\n\nimport { Row, Col } from 'antd'\nimport ItemLPT from './itemLPT'\n\nimport { AppState } from 'app/model'\nimport { usePool, useWallet } from 'senhub/providers'\n\nconst LptsPools = ({\n  onInit = () => {},\n  onClick = () => {},\n  action = () => <Fragment />,\n}: {\n  onInit?: (poolAddress: string) => void\n  onClick?: (poolAddress: string) => void\n  action?: (lptAddress: string, poolAddress: string) => ReactElement\n}) => {\n  const lpts = useSelector((state: AppState) => state.lpts)\n  const selectedCategoryPool = useSelector(\n    (state: AppState) => state.main.selectedCategoryPool,\n  )\n  const { pools } = usePool()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const lptAddresses = useMemo(\n    () =>\n      Object.keys(lpts).filter((lptAddress) => {\n        const { pool: poolAddress, amount } = lpts[lptAddress]\n        if (selectedCategoryPool === 'deposited' && amount !== BigInt(0))\n          return pools[poolAddress]\n        else if (\n          selectedCategoryPool === 'your-pools' &&\n          pools?.[poolAddress]?.owner === walletAddress\n        )\n          return pools[poolAddress]\n        return null\n      }),\n    [pools, lpts, walletAddress, selectedCategoryPool],\n  )\n\n  useEffect(() => {\n    if (!lptAddresses.length) return\n    onInit(lptAddresses[0])\n  }, [onInit, lptAddresses, lpts])\n\n  return (\n    <Row gutter={[12, 12]}>\n      {lptAddresses.map((lptAddress, i) => {\n        const { pool: poolAddress } = lpts[lptAddress]\n        return (\n          <Col span={24} key={lptAddress + i}>\n            <LazyLoad height={78} overflow>\n              <ItemLPT\n                keyExpand={i + 1}\n                data={lpts[lptAddress]}\n                action={action(lptAddress, poolAddress)}\n                onClick={() => onClick(poolAddress)}\n              />\n            </LazyLoad>\n          </Col>\n        )\n      })}\n    </Row>\n  )\n}\n\nexport default LptsPools\n","import { Fragment, ReactElement, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport {\n  Row,\n  Col,\n  Card,\n  Space,\n  Typography,\n  Divider,\n  Tooltip,\n  Collapse,\n  Button,\n  Popover,\n} from 'antd'\nimport PoolTVL from 'app/components/poolTVL'\nimport IonIcon from 'shared/antd/ionicon'\nimport PoolCardStatus from 'app/components/PoolCardStatus'\nimport SwapAction from '../swapAction'\n\nimport { numeric } from 'shared/util'\nimport { AppState } from 'app/model'\nimport { fetchStatPoolData } from 'app/model/stat.controller'\nimport { PoolStatus } from 'app/constant'\nimport { MintAvatar, MintSymbol } from 'app/shared/components/mint'\nimport { usePool } from 'senhub/providers'\n\nconst ItemPool = ({\n  poolAddress,\n  onClick = () => {},\n  action = <Fragment />,\n  keyExpand,\n}: {\n  poolAddress: string\n  onClick?: () => void\n  action?: ReactElement\n  keyExpand: number\n}) => {\n  const dispatch = useDispatch()\n  const [isActive, setIsActive] = useState(false)\n  const { pools } = usePool()\n  const details = useSelector(\n    (state: AppState) => state.stat[poolAddress]?.details,\n  )\n  const poolData = pools?.[poolAddress] || {}\n  const { mint_lpt: mintLptAddress, state: poolState } = poolData\n\n  const apy = useMemo(() => {\n    if (!details || !details.roi) return 0\n    const roi = details.roi\n    return Math.pow(1 + Number(roi) / 100, 365) - 1\n  }, [details])\n\n  useEffect(() => {\n    if (!poolAddress) return\n    dispatch(fetchStatPoolData({ address: poolAddress }))\n  }, [dispatch, poolAddress])\n\n  const isFrozen = poolState === PoolStatus.Frozen\n  const expandClass = isActive ? '' : 'expandHidden'\n  const defaultKey = keyExpand.toString()\n\n  return (\n    <Card bodyStyle={{ padding: 12, minHeight: 78 }} hoverable>\n      <Row gutter={[12, 12]} align=\"top\">\n        <Col flex=\"auto\">\n          <Space direction=\"vertical\">\n            <Space>\n              <MintAvatar mintAddress={mintLptAddress} size={24} />\n              <Typography.Text type={isFrozen ? 'secondary' : undefined}>\n                <MintSymbol mintAddress={mintLptAddress} />\n              </Typography.Text>\n            </Space>\n            <Space>\n              <Tooltip title=\"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.\">\n                <Typography.Text type=\"secondary\" className=\"caption\">\n                  TVL:\n                </Typography.Text>\n              </Tooltip>\n              <Typography.Text>\n                <PoolTVL poolAddress={poolAddress} />\n              </Typography.Text>\n              <Divider type=\"vertical\" style={{ margin: 0 }} />\n              <Typography.Text type=\"secondary\" className=\"caption\">\n                APY:\n              </Typography.Text>\n              <Typography.Text>\n                {numeric(apy).format('0,0.[00]%')}\n              </Typography.Text>\n            </Space>\n          </Space>\n        </Col>\n        <Col>\n          <Space size={2}>\n            <PoolCardStatus poolAddress={poolAddress} />\n            {action}\n            <Button\n              size=\"small\"\n              type=\"text\"\n              icon={\n                <IonIcon\n                  name={\n                    isActive\n                      ? 'chevron-down-outline'\n                      : 'chevron-forward-outline'\n                  }\n                />\n              }\n              onClick={() => setIsActive(!isActive)}\n            />\n          </Space>\n        </Col>\n      </Row>\n      <Collapse\n        className={expandClass}\n        style={{ marginTop: 16 }}\n        ghost={true}\n        activeKey={defaultKey}\n        bordered={false}\n      >\n        <Collapse.Panel header=\"\" key={defaultKey}>\n          <Row gutter={[16, 16]}>\n            <Col span={12}>\n              <Popover\n                trigger=\"click\"\n                placement=\"bottomLeft\"\n                content={\n                  <SwapAction isDisabled={isFrozen} poolAddress={poolAddress} />\n                }\n              >\n                <Button block>Swap</Button>\n              </Popover>\n            </Col>\n            <Col span={12}>\n              <Button onClick={onClick} block type=\"primary\">\n                Detail\n              </Button>\n            </Col>\n          </Row>\n        </Collapse.Panel>\n      </Collapse>\n    </Card>\n  )\n}\n\nexport default ItemPool\n","import { ReactElement, useMemo, useEffect, Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport LazyLoad from 'react-lazyload'\n\nimport { Row, Col } from 'antd'\nimport ItemPool from './itemPool'\n\nimport { usePool } from 'senhub/providers'\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\n\nconst ListPools = ({\n  onInit = () => {},\n  onClick = () => {},\n  action = () => <Fragment />,\n}: {\n  onInit?: (poolAddress: string) => void\n  onClick?: (poolAddress: string) => void\n  action?: (poolAddress: string) => ReactElement\n}) => {\n  const { pools } = usePool()\n  const selectedCategoryPool = useSelector(\n    (state: AppState) => state.main.selectedCategoryPool,\n  )\n  const senOwner = configs.sol.senOwner\n  const sortedPools = useMemo(\n    () =>\n      Object.keys(pools)\n        .map((address) => ({ address, ...pools[address] }))\n        .sort(\n          (\n            { reserve_a: firstRa, reserve_b: firstRb },\n            { reserve_a: secondRa, reserve_b: secondRb },\n          ) => {\n            const firstK = firstRa * firstRb\n            const secondK = secondRa * secondRb\n            if (firstK > secondK) return -1\n            if (firstK < secondK) return 1\n            return 0\n          },\n        ),\n\n    [pools],\n  )\n\n  const listSentrePools = Object.keys(pools).filter((poolAddr) => {\n    const poolData = pools?.[poolAddr]\n    const { owner } = poolData\n    return senOwner.includes(owner)\n  })\n\n  useEffect(() => {\n    if (!sortedPools.length) return\n    onInit(sortedPools[0]?.address)\n  }, [onInit, sortedPools])\n\n  const CommunityPool = () => (\n    <Fragment>\n      {sortedPools.map((poolData, i) => (\n        <Col span={24} key={poolData.address + i}>\n          <LazyLoad height={78} overflow>\n            <ItemPool\n              poolAddress={poolData.address}\n              action={action(poolData.address)}\n              onClick={() => onClick(poolData.address)}\n              keyExpand={i + 1}\n            />\n          </LazyLoad>\n        </Col>\n      ))}\n    </Fragment>\n  )\n\n  const SentrePools = () => (\n    <Fragment>\n      {listSentrePools.map((poolAddress, i) => (\n        <Col span={24} key={poolAddress + i}>\n          <LazyLoad height={78} overflow>\n            <ItemPool\n              poolAddress={poolAddress}\n              action={action(poolAddress)}\n              onClick={() => onClick(poolAddress)}\n              keyExpand={i + 1}\n            />\n          </LazyLoad>\n        </Col>\n      ))}\n    </Fragment>\n  )\n\n  return (\n    <Row gutter={[12, 12]}>\n      {selectedCategoryPool === 'sentre' ? <SentrePools /> : <CommunityPool />}\n    </Row>\n  )\n}\n\nexport default ListPools\n","import { useCallback } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Col, Row } from 'antd'\nimport Header from './header'\nimport LptWatcher from 'app/components/lptWatcher'\nimport LptsPools from './\bcomponents/lptsPools'\nimport HotPools from './\bcomponents/pools'\nimport configs from 'app/configs'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { handleOpenDrawer, selectPool } from 'app/model/main.controller'\n\nconst Widget = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const selectedCategoryPool = useSelector(\n    (state: AppState) => state.main.selectedCategoryPool,\n  )\n  const history = useHistory()\n  const {\n    manifest: { appId },\n  } = configs\n\n  const setActiveAddress = useCallback(\n    (address: string) => {\n      dispatch(selectPool(address))\n      dispatch(handleOpenDrawer(false))\n      history.push(`app/${appId}`)\n    },\n    [dispatch, history, appId],\n  )\n  return (\n    <Row>\n      <Col span={24}>\n        <Header />\n      </Col>\n      <Col span={24} className=\"body-widget\">\n        {selectedCategoryPool === 'sentre' ||\n        selectedCategoryPool === 'community' ? (\n          <HotPools onClick={setActiveAddress} />\n        ) : (\n          <LptsPools onClick={setActiveAddress} />\n        )}\n      </Col>\n      <Col span={24} style={{ height: 16 }} />\n      <LptWatcher />\n    </Row>\n  )\n}\n\nexport default Widget\n","// Bugfix performance\n// https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/Troubleshooting.md#excessive-use-of-memory-and-cpu\nexport const devTools = (appName: string): any => {\n  if (process.env.REACT_APP_ENV !== 'development') return false\n  return {\n    name: appName,\n    actionSanitizer: ({ payload, type }: { payload: any; type: string }) => ({\n      payload,\n      type,\n    }),\n  }\n}\n\n// BigInt Serialization Middleware\n// https://redux-toolkit.js.org/api/serializabilityMiddleware\nconst isPlain = (val: any): boolean => {\n  const isPlainObject = (obj: object): boolean => {\n    if (obj === null) return false\n    const proto = Object.getPrototypeOf(obj)\n    return proto !== null && Object.getPrototypeOf(proto) === null\n  }\n  return (\n    typeof val === 'undefined' ||\n    val === null ||\n    typeof val === 'string' ||\n    typeof val === 'boolean' ||\n    typeof val === 'number' ||\n    Array.isArray(val) ||\n    isPlainObject(val) ||\n    typeof val === 'bigint'\n  )\n}\nBigInt.prototype.toJSON = function () {\n  return this.toString() // https://github.com/GoogleChromeLabs/jsbi/issues/30\n}\nexport const bigintSerializationMiddleware = {\n  serializableCheck: {\n    isSerializable: isPlain,\n  },\n}\n","import { configureStore } from '@reduxjs/toolkit'\nimport { devTools, bigintSerializationMiddleware } from 'shared/devTools'\n\nimport main from 'app/model/main.controller'\nimport stat from 'app/model/stat.controller'\nimport lpts from 'app/model/lpts.controller'\n\n/**\n * Isolated store\n */\nconst model = configureStore({\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware(bigintSerializationMiddleware),\n  devTools: devTools('myapp'),\n  reducer: {\n    main,\n    stat,\n    lpts,\n  },\n})\n\nexport type AppState = ReturnType<typeof model.getState>\nexport type AppDispatch = typeof model.dispatch\nexport default model\n","import { Provider } from 'react-redux'\nimport {\n  WalletProvider,\n  UIProvider,\n  AccountProvider,\n  PoolProvider,\n  MintProvider,\n} from 'senhub/providers'\n\nimport PageView from 'app/page'\nimport WidgetView from 'app/widget'\n\nimport model from 'app/model'\nimport configs from 'app/configs'\n\nimport 'app/static/styles/light.less'\nimport 'app/static/styles/dark.less'\nimport 'app/static/styles/index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const Page = () => {\n  return (\n    <UIProvider appId={appId} antd>\n      <MintProvider>\n        <PoolProvider>\n          <AccountProvider>\n            <WalletProvider>\n              <Provider store={model}>\n                <PageView />\n              </Provider>\n            </WalletProvider>\n          </AccountProvider>\n        </PoolProvider>\n      </MintProvider>\n    </UIProvider>\n  )\n}\n\nexport const widgetConfig: WidgetConfig = {\n  size: 'small',\n  type: 'solid',\n}\n\nexport const Widget = () => {\n  return (\n    <MintProvider>\n      <UIProvider appId={appId} antd>\n        <PoolProvider>\n          <AccountProvider>\n            <WalletProvider>\n              <Provider store={model}>\n                <WidgetView />\n              </Provider>\n            </WalletProvider>\n          </AccountProvider>\n        </PoolProvider>\n      </UIProvider>\n    </MintProvider>\n  )\n}\n","import { net, env } from 'shared/runtime'\nimport sol from './sol.config'\nimport register from './register.config'\n\nconst configs = {\n  sol: sol[net],\n  register: register[env],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import { Env } from 'shared/runtime'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_NAME !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string' ||\n  typeof process.env.REACT_APP_SENHUB !== 'string'\n)\n  throw new Error(\n    'Please add REACT_APP_ID, REACT_APP_NAME, REACT_APP_URL in .env.local!',\n  )\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  defaultAppId: string\n  extra: SenReg\n  senreg: string\n}\n\nconst DEFAULT_APP_ID = 'senhub'\nconst devApp = {\n  [process.env.REACT_APP_ID]: {\n    url: process.env.REACT_APP_URL,\n    appId: process.env.REACT_APP_ID,\n    name: process.env.REACT_APP_NAME,\n    author: {\n      name: process.env.REACT_APP_AUTHOR_NAME || '',\n      email: process.env.REACT_APP_AUTHOR_EMAIL || '',\n    },\n    supportedViews: (process.env.REACT_APP_SUPPORTED_VIEWS || '')\n      .split(',')\n      .map((view) => view.trim())\n      .filter((view) => ['page', 'widget'].includes(view)) as Array<\n      'widget' | 'page'\n    >,\n    tags: (process.env.REACT_APP_TAGS || '')\n      .split(',')\n      .map((tag) => tag.trim()),\n    description: process.env.REACT_APP_DESCRIPTION || '',\n    verified: false,\n  },\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    defaultAppId: DEFAULT_APP_ID,\n    extra: devApp,\n    senreg: 'https://descartesnetwork.github.io/senreg/register.json',\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    defaultAppId: DEFAULT_APP_ID,\n    extra: devApp,\n    senreg: 'https://descartesnetwork.github.io/senreg/register.json',\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    defaultAppId: DEFAULT_APP_ID,\n    extra: {},\n    senreg: 'https://descartesnetwork.github.io/senreg/register.json',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Net } from 'shared/runtime'\n\nconst SOLVARS = {\n  spltAddress: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n  splataAddress: 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n}\n\n/**\n * Contructor\n */\ntype Conf = {\n  node: string\n  chainId: 101 | 102 | 103\n  sntrAddress: string\n  sntrPoolAddress: string\n  swapAddress: string\n  taxmanAddress: string\n} & typeof SOLVARS\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    ...SOLVARS,\n    node: 'https://api.devnet.solana.com',\n    chainId: 103,\n    sntrAddress: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n    sntrPoolAddress: '3EUPL7YQLbU6DNU5LZeQeHPXTf1MigJ2yASXA9rH5Ku4',\n    swapAddress: '4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF',\n    taxmanAddress: '8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    ...SOLVARS,\n    node: 'https://api.testnet.solana.com',\n    chainId: 102,\n    sntrAddress: '',\n    sntrPoolAddress: '',\n    swapAddress: '',\n    taxmanAddress: '',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    ...SOLVARS,\n    node: 'https://api.mainnet-beta.solana.com',\n    chainId: 101,\n    sntrAddress: 'SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M',\n    sntrPoolAddress: 'Aa3WZX7Xunfebp2MuAcz9CNw8TYTDL7mVrmb11rjyVm6',\n    swapAddress: 'SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV',\n    taxmanAddress: '9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","// Pseudo native sol info\n// It's for all networks\nexport const sol = (chainId: 101 | 102 | 103) => ({\n  symbol: 'SOL',\n  name: 'Solana',\n  address: '11111111111111111111111111111111',\n  decimals: 9,\n  chainId,\n  extensions: {\n    coingeckoId: 'solana',\n  },\n  logoURI:\n    'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png',\n})\n\n// Pseudo SNTR info\n// Only for testnet and mainnet\nexport const sntr = (chainId: 102 | 103) => ({\n  symbol: 'SNTR',\n  name: 'Sentre',\n  address: '5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ',\n  decimals: 9,\n  chainId,\n  extensions: {\n    coingeckoId: 'sentre',\n  },\n  logoURI:\n    'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png',\n})\n\n// Pseudo token infos for devnet\nconst supplementary = [\n  sol(103),\n  sntr(103),\n  {\n    symbol: 'wBTC',\n    name: 'Wrapped Bitcoin',\n    address: '8jk4eJymMfNZV9mkRNxJEt2VJ3pRvdJvD5FE94GXGBPM',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'bitcoin',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/qfnqNqs3nCAHjnyCgLRDbBtq4p2MtHZxw8YjSyYhPoL/logo.png',\n  },\n  {\n    symbol: 'wETH',\n    name: 'Ethereum',\n    address: '27hdcZv7RtuMp75vupThR3T4KLsL61t476eosMdoec4c',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'ethereum',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png',\n  },\n  {\n    symbol: 'UNI',\n    name: 'Uniswap',\n    address: 'FVZFSXu3yn17YdcxLD72TFDUqkdE5xZvcW18EUpRQEbe',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'uniswap',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3MVa4e32PaKmPxYUQ6n8vFkWtCma68Ld7e7fTktWDueQ/logo.png',\n  },\n  {\n    symbol: 'USDC',\n    name: 'USD Coin',\n    address: '2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj',\n    decimals: 9,\n    chainId: 103,\n    extensions: {\n      coingeckoId: 'usd-coin',\n    },\n    logoURI:\n      'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png',\n  },\n]\n\nexport default supplementary\n","import { Document } from 'flexsearch'\nimport { TokenListProvider, TokenInfo } from '@solana/spl-token-registry'\n\nimport { net } from 'shared/runtime'\nimport configs from 'os/configs'\nimport supplementary, { sntr, sol } from './supplementary'\n\nconst {\n  sol: { chainId, sntrAddress },\n} = configs\nconst DELIMITER = /[\\W_]+/g\nconst PRESET = {\n  tokenize: 'full',\n  context: true,\n  minlength: 3,\n}\nconst DOCUMENT = {\n  document: {\n    id: 'address',\n    index: [\n      { field: 'symbol', ...PRESET },\n      { field: 'name', ...PRESET },\n    ],\n  },\n}\n\nclass TokenProvider {\n  private tokenMap: Map<string, TokenInfo>\n  private engine: typeof Document | undefined\n  readonly chainId: typeof chainId\n  readonly cluster: typeof net\n  private loading: boolean\n  private queue: Array<any>\n\n  constructor() {\n    this.tokenMap = new Map<string, TokenInfo>()\n    this.engine = undefined\n    this.chainId = chainId\n    this.cluster = net\n    this.loading = false\n    this.queue = []\n    // Init\n    this._init()\n  }\n\n  private _init = async (): Promise<[Map<string, TokenInfo>, any]> => {\n    if (this.tokenMap.size) return [this.tokenMap, this.engine]\n    return new Promise(async (resolve) => {\n      // Queue of getters to avoid race condition of multiple _init calling\n      if (this.loading) return this.queue.push(resolve)\n      // Start\n      this.loading = true\n      // Build token list\n      let tokenList = await (await new TokenListProvider().resolve())\n        .filterByChainId(this.chainId)\n        .getList()\n\n      // Patch for SNTR\n      tokenList.forEach((token, index) => {\n        if (token.address === sntrAddress) {\n          const { extensions, name, symbol, ...rest } = token\n          tokenList[index] = {\n            ...rest,\n            name: 'Sentre',\n            symbol: 'SNTR',\n            extensions: { ...extensions, coingeckoId: 'sentre' },\n          }\n        }\n      })\n      if (this.cluster === 'devnet') tokenList = tokenList.concat(supplementary)\n      if (this.cluster === 'testnet')\n        tokenList = tokenList.concat([sntr(102), sol(102)])\n      else tokenList = tokenList.concat([sol(101)])\n      // Build token map\n      tokenList.forEach((token) => this.tokenMap.set(token.address, token))\n      // Build search engine\n      this.engine = new Document(DOCUMENT)\n      this.tokenMap.forEach(({ address, ...doc }) =>\n        this.engine.add(address, doc),\n      )\n      // Resolve the main getter\n      resolve([this.tokenMap, this.engine])\n      // Resolve the rest of getters\n      while (this.queue.length) this.queue.shift()([this.tokenMap, this.engine])\n      // Finish\n      this.loading = false\n    })\n  }\n\n  all = async (): Promise<TokenInfo[]> => {\n    const [tokenMap] = await this._init()\n    return Array.from(tokenMap.values())\n  }\n\n  findByAddress = async (addr: string): Promise<TokenInfo | undefined> => {\n    const [tokenMap] = await this._init()\n    return tokenMap.get(addr)\n  }\n\n  find = async (keyword: string, limit?: 10): Promise<TokenInfo[]> => {\n    const [tokenMap, engine] = await this._init()\n    let tokens: TokenInfo[] = []\n    keyword.split(DELIMITER).forEach((key) => {\n      const raw: Array<{ result: string[] }> = engine.search(key, limit)\n      return raw.forEach(({ result }) => {\n        return result.forEach((id: string) => {\n          if (tokens.findIndex(({ address }) => address === id) < 0) {\n            const token = tokenMap.get(id)\n            if (token) tokens.push(token)\n          }\n        })\n      })\n    })\n    return tokens\n  }\n}\n\nexport default TokenProvider\n","import storage from './storage'\n\n/**\n * Environment\n */\nconst getEnv = () => {\n  switch (process.env.REACT_APP_ENV) {\n    case 'development':\n      return 'development'\n    case 'staging':\n      return 'staging'\n    case 'production':\n      return 'production'\n    default:\n      return 'development'\n  }\n}\nexport type Env = 'development' | 'staging' | 'production'\nexport const env: Env = getEnv()\n\n/**\n * Network\n */\nconst getNetwork = () => {\n  switch (storage.get('network')) {\n    case 'devnet':\n      return 'devnet'\n    case 'testnet':\n      return 'testnet'\n    case 'mainnet':\n      return 'mainnet'\n    default:\n      return 'mainnet'\n  }\n}\nexport type Net = 'devnet' | 'testnet' | 'mainnet'\nexport const net: Net = getNetwork()\n\nexport const onSwitchNetwork = (value: Net) => {\n  storage.set('network', value)\n  return window.location.reload()\n}\n","const KEY = 'sentre'\nconst driver = window.localStorage\n\nconst convert = (value: string | null) => {\n  if (!value) return null\n  try {\n    return JSON.parse(value)\n  } catch (e) {\n    return null\n  }\n}\n\nconst storage = {\n  set: (key: string, value: any) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') data = {}\n    data[key] = value\n    driver.setItem(KEY, JSON.stringify(data))\n  },\n  get: (key: string) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') return null\n    return data[key]\n  },\n  clear: (key: string) => {\n    storage.set(key, null)\n  },\n}\n\nexport default storage\n"],"names":["CUSTOM_ICONS","forwardRef","name","className","props","ref","cln","src","pools","onChange","keyword","setKeyword","useState","tokenProvider","useMint","search","useCallback","async","length","undefined","account","poolData","find","address","tokenInfos","mintAddress","map","searchedPools","filter","data","mint_a","mint_b","includes","useEffect","Card","bodyStyle","padding","bordered","Input","placeholder","value","size","prefix","Button","type","style","marginLeft","onClick","icon","e","target","DEFAULT_CACHE_CONFIG","ttl","DEFAULT_SINGLE_FLIGHT_CONFIG","limit","calls","time","cache","RequestQueue","constructor","key","resolveQueue","rejectQueue","this","add","resolve","reject","push","resolves","shift","rejects","error","SingleFlightCache","configs","mapCache","set","setTimeout","delete","get","Map","DataLoader","instanceKey","JSON","stringify","mapInstance","has","instance","newSingleFlight","SingleFlight","requestKey","callback","singleFlight","getSingleFlight","newRequest","load","config","intervalRequest","timeLogs","mapRequestCalling","requestQueue","Object","assign","cacheData","Promise","isFetch","request","fetch","validateLimit","addRequestQueue","createTimeLogs","then","response","catch","finally","fetchRequestQueue","clearInterval","setInterval","timeFarthest","timeNow","Date","getTime","now","extractReserve","reserve_a","reserve_b","BigInt","calcSenPrice","sol","sntrPoolAddress","sntrAddress","senInfo","symbol","rank","price","priceChange","totalVolume","window","sentre","swap","getPoolData","usdcReserve","senReserve","Number","utils","er","fetchCGK","ticket","shortenAddress","num","delimiter","substring","explorer","addressOrTxId","net","numeric","numbro","poolAddress","usePool","tvl","setTVL","getTVL","mintAddresses","all","findByAddress","reserves","decimals","prices","extensions","coingeckoId","forEach","i","format","PoolStatus","wallet","walletAddress","useWallet","isFrozen","state","Frozen","isOwner","owner","Space","fontSize","shared","appId","process","url","senhub","development","staging","production","SOLVARS","spltAddress","splataAddress","devnet","node","chainId","cluster","senAddress","swapAddress","taxmanAddress","blackPoolAddresses","senPoolAddress","senOwner","testnet","mainnet","baseURL","exoticFee","exoticTax","correlatedFee","correlatedTax","swapRoute","manifest","env","stat","fee","api","auth","Error","msg","toString","Math","floor","random","signMessage","Authorization","post","params","authHeader","axios","method","headers","status","message","put","StatPool","NAME","fetchStatPoolData","createAsyncThunk","getState","fetchDetails","endpointDetail","fetchDaily","endpointDaily","details","daily","createSlice","initialState","reducers","extraReducers","builder","addCase","fulfilled","payload","tokenInfo","setTokenInfo","fetchTokenInfo","token","values","mint_lpt","tokenA","tokenB","isReserve","tokens","useTokenProvider","convertToken","useMemo","cloneToken","parse","reverse","Avatar","display","whiteSpace","logoURI","backgroundColor","border","separator","isReverse","names","join","symbols","shortenAddr","substr","action","Fragment","selected","dispatch","useDispatch","useSelector","poolState","mintLptAddress","apy","roi","pow","cardStyle","height","hoverable","Row","gutter","wrap","align","Col","span","flex","direction","Typography","Tooltip","title","Divider","margin","onInit","selectedPoolAddress","setSearchedPools","sortedPools","keys","sort","firstRa","firstRb","secondRa","secondRb","firstK","secondK","overflow","selectPool","selectedLptAddress","selectCategoryPool","selectedCategoryPool","category","handleOpenDrawer","visible","condition","main","URLSearchParams","useLocation","addr","setActiveAddress","color","pool","amount","lp","lpts","lptAddresses","lptAddress","timeoutId","max","onValue","onBlur","setError","cursor","setCursor","innerRef","useRef","onAmount","val","onError","clearTimeout","test","parseFloat","current","setSelectionRange","selectionStart","setDecimals","getMint","fetchTokenDecimals","mint","activeMintAddress","onSelect","Select","suffixIcon","suggestInfo","setAmount","setActiveMintAddress","associatedAddress","setAssociatedAddress","accounts","useAccount","useMintDecimals","accountData","balance","getAssociatedAddress","splt","associatedAdd","spltProgramId","toBase58","splataProgramId","suggestSymbol","suggestAmount","suggestAddr","isAddr","suffix","marginRight","notifyError","notify","description","calculateAmount","srcReserve","srcMintInfo","suggestMintInfo","suggestPrice","srcPrice","setVisible","reserveA","setReserveA","mintAddressA","setMintAddressA","reserveB","setReserveB","mintAddressB","setMintAddressB","mapMints","setMapMints","mintInfos","setMintInfos","isMintAChanged","setIsMintAChanged","filterMintAddress","accountAddress","mintsAddress","mints","isValid","mint_a_b","mint_b_a","isExist","mintInfoA","mintInfoB","addressA","symbolA","addressB","symbolB","suggestions","getMapMints","concatMint","getMintInfos","promise","mintInfo","mintsDetails","mapMintsDetails","infos","Modal","onCancel","level","footer","srcAddresses","deriveAssociatedAddress","txId","initializePool","content","open","notifySuccess","disabled","block","destroyOnClose","centered","listSentrePools","poolAddr","idx","Tabs","defaultActiveKey","tabBarExtraContent","tab","DEFAULT_TOKEN_INFO","tags","setIsReverse","setTokenInfos","fetchTokenInfos","promises","calcMintAmount","mintDetail","reserve","mintADetail","mintBDetail","mintAAmount","mintBAmount","inPoolPrice","calcInPoolPrice","setAmountFromProps","newAmount","fetchAssociatedAddress","notEnoughBalance","borderRadius","lineHeight","MARKET_DEFAULT","totalLPT","setTotalLPT","listMintDetail","setListMintDetail","ratio","setRatio","lpt","decimals_a","decimals_b","supply","fetchMintDetails","width","mintAmount","onClose","loading","setLoading","setLPT","amounts","setAmounts","selectMint","setSelectMint","setDisabled","fee_ratio","tax_ratio","decimalA","decimalB","getSuggestMintAmount","index","suggestDecimal","parseAmount","estimateLPT","Swap","validateInput","accAddrMintA","accMintA","accAddrMintB","accMintB","Radio","Tag","findIndex","newAmounts","onAmounts","srcAAddress","srcBAddress","addSidedLiquidity","feeRatio","taxRatio","totalRatio","onLPT","justify","setSupply","lptPoolAddress","fetchData","decimalsA","decimalsB","deltaA","deltaB","delta","dstAddresses","removeLiquidity","depositVisible","setDepositVisible","withdrawVisible","setWithdrawVisible","closeIcon","Content","label","subTitle","Title","sub","calculateRoi","date","getSupply","xs","sm","currentRatio","setFeeRatio","setTaxRatio","currentFee","currentTax","feeAmount","taxAmount","updateFee","CardDescription","poolStatus","Active","Badge","background","freezePool","thawPool","newOwner","setNewOwner","transferPoolOwnership","PoolManagement","lg","minHeight","chartData","labels","disableAxe","chartId","isRebuildChart","setRebuildChart","formatData","datasets","chartRef","getBackground","ctx","canvas","getContext","gradient","createLinearGradient","addColorStop","chartInstance","dataInstace","compareData","isEqual","update","id","Chart","options","responsive","maintainAspectRatio","scales","xAxes","gridLines","drawBorder","ticks","yAxes","beginAtZero","maxTicksLimit","plugins","legend","hover","onHover","event","elements","document","getElementById","SECOND_PER_MILLISECOND","TimeFormat","DateHelper","milliSeconds","valueOf","setMilliSeconds","seconds","ymd","moment","YMD","ymdFrom","ymdTo","dates","dateFrom","fromYmd","dateTo","addDay","dateFormat","subtractDay","dayAmount","subtract","fromSeconds","DailyReport","programId","actionType","amountIn","amountOut","totalTrans","DailyReportService","parserDailyReport","transLogs","reports","Array","transLog","concat","parseDailyReport","mergeDailyReport","dailyReports","actionTransfers","transfer","source","destination","report","results","TransLog","programInfo","signature","blockTime","programTransfer","ActionInfo","preBalance","postBalance","ActionTransfer","DEFAULT_LIMIT","Solana","conn","connection","lastSignature","before","getConfirmedSignaturesForAddress2","signatures","confirmedTransactions","promiseTransGroup","offset","skip","signaturesGroup","slice","getParsedConfirmedTransactions","transGroups","transGroup","currentTime","secondFrom","secondTo","programPublicKey","PublicKey","isStop","confirmedSignatureInfos","fetchSignatures","info","fetchConfirmTransaction","ParsedType","TRANSLOG_PROGRAM_DATA_SCHEMA","SwapActionType","ACTION_TYPE","InitPool","AddLiquidity","RemoveLiquidity","Route","PoolTransLogService","parseAction","filterTransLog","solana","lastSignatureTmp","smartLimit","confirmedTrans","fetchTransactions","trans","transaction","log","parseTransLog","meta","postTokenBalances","preTokenBalances","postBalances","preBalances","innerInstructionData","innerInstructions","instructions","instructionData","mapAccount","parseAccountInfo","accountKeys","isParsedInstruction","parseListActionTransfer","parsed","actions","actionTransfer","actionParsed","Transfer","parsedAction","parseActionTransfer","parsedTransfer","lamports","amountTransfer","mapAccountInfo","accountIndex","uiTokenAmount","pubkey","String","programDataEncode","dataBuffer","base58_to_binary","programDataDecode","struct","fromBuffer","Buffer","from","code","PoolService","poolTransLogService","dailyReportService","TokenProvider","getUsd","amountBigint","cgkData","getDailyInfo","timeTo","timeFrom","treasury_a","treasury_b","collect","mapTimeDailyReport","tvlA","tvlB","mapTimeTotal","volume","currentReport","prevDate","CHART_CONFIGS","setChartData","isLoading","setIsLoading","tvlChartConfigs","borderColor","pointRadius","tooltip","pointHitRadius","pointHoverRadius","fetchChart","poolService","poolStat","Spin","tip","spinning","at","volumeChartConfigs","vol24h","today","yesterday","getHours","copied","setCopied","history","useHistory","goFarming","Popover","placement","arrowPointAtCenter","text","ms","Affix","position","bottom","right","getLPTs","mintPublicKeys","mintData","re","parseMintData","poolAddresses","mint_authority","freeze_authority","derivePoolAddress","bulk","getLPT","getLPTData","upsetLPT","lptData","deleteLPT","watchId","unwrap","watchData","console","warn","filters","memcmp","bytes","watch","unwatch","ui","useUI","hideSidebar","paddingBottom","forceRender","maxHeight","xl","defaultValue","isDisabled","onSwap","originalRoute","pathname","textAlign","keyExpand","isActive","setIsActive","expandClass","defaultKey","Collapse","marginTop","ghost","activeKey","header","trigger","CommunityPool","SentrePools","prototype","toJSON","bigintSerializationMiddleware","serializableCheck","isSerializable","isArray","obj","proto","getPrototypeOf","isPlainObject","configureStore","middleware","getDefaultMiddleware","devTools","reducer","Page","UIProvider","antd","MintProvider","PoolProvider","AccountProvider","WalletProvider","Provider","store","model","widgetConfig","Widget","register","DEFAULT_APP_ID","devApp","author","email","supportedViews","split","view","trim","tag","verified","defaultAppId","extra","senreg","sntr","DELIMITER","PRESET","tokenize","context","minlength","DOCUMENT","field","tokenMap","engine","queue","_init","tokenList","TokenListProvider","filterByChainId","getList","rest","supplementary","Document","doc","result","storage","getNetwork","KEY","driver","localStorage","convert","getItem","setItem","clear"],"sourceRoot":""}