(globalThis.webpackChunksen_lp=globalThis.webpackChunksen_lp||[]).push([[770],{93235:(e,s,t)=>{"use strict";t.r(s),t.d(s,{Page:()=>qs,Widget:()=>Ws,widgetConfig:()=>Vs});var n=t(55754),r=t(49142),o=t(78589),l=t(92950),a=t(45055),i=t(95418);const d={"logo-telegram":t.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg"};var c=t(45263);const u=(0,l.forwardRef)((({name:e,className:s,...t},n)=>{const r=s?"anticon "+s:"anticon";return(0,c.jsx)("span",{className:r,...t,children:d[e]?(0,c.jsx)("ion-icon",{ref:n,src:d[e]}):(0,c.jsx)("ion-icon",{ref:n,name:e})})})),p=({pools:e,onChange:s})=>{const[t,n]=(0,l.useState)(""),{tokenProvider:a}=(0,r.useMint)(),d=(0,l.useCallback)((async()=>{if(!t||t.length<3)return s(void 0);if(i.account.isAddress(t)){const n=e.find((({address:e})=>e===t));return s(n?[n]:[])}const n=await a.find(t);if(!n)return s(void 0);const r=n.map((({address:e})=>e)),o=e.filter((e=>{const{mint_a:s,mint_b:t}=e;return!!r.includes(s)||!!r.includes(t)}));return s(o)}),[e,t,s,a]);return(0,l.useEffect)((()=>{d()}),[d]),(0,c.jsx)(o.Card,{bodyStyle:{padding:8},bordered:!1,children:(0,c.jsx)(o.Input,{placeholder:"Search",value:t,size:"small",bordered:!1,prefix:(0,c.jsx)(o.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:t?()=>n(""):()=>{},icon:(0,c.jsx)(u,{name:t?"close-outline":"search-outline"})}),onChange:e=>n(e.target.value)})})};var h=t(31633);const x={ttl:3e4},y={limit:{calls:10,time:1e3},cache:x};class j{constructor(e){this.key="",this.resolveQueue=[],this.rejectQueue=[],this.key=e}add(e,s){this.resolveQueue.push(e),this.rejectQueue.push(s)}resolves(e){for(;this.resolveQueue.length>0;){this.resolveQueue.shift()(e)}}rejects(e){for(;this.rejectQueue.length>0;){this.rejectQueue.shift()(e)}}}class m{static set(e,s,t=x){this.mapCache.set(e,s),setTimeout((()=>{this.mapCache.delete(e)}),t.ttl)}static get(e){return this.mapCache.get(e)}}m.mapCache=new Map;class g{static getSingleFlight(e){const s=JSON.stringify(e);if(this.mapInstance.has(s)){const e=this.mapInstance.get(s);if(e)return e}let t=new f(e);return this.mapInstance.set(s,t),t}static async load(e,s,t={}){"object"===typeof e&&(e=JSON.stringify(e));let n=g.getSingleFlight(t);g.mapInstance.set(e,n);const r=new j(e);return n.load(r,s)}}g.mapInstance=new Map;class f{constructor(e){this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(y,e)}async load(e,s){const t=m.get(e.key);if(t)return Promise.resolve(t);let n=!1,r=this.mapRequestCalling.get(e.key);return r||(r=e,n=!0,this.mapRequestCalling.set(r.key,r)),new Promise(((e,t)=>{if(!r)return t("Not found request!");r.add(e,t),n&&this.fetch(r,s)}))}fetch(e,s){if(!this.validateLimit())return this.addRequestQueue(e,s);this.createTimeLogs(),s().then((s=>{m.set(e.key,s,this.config.cache),e.resolves(s)})).catch((s=>{e.rejects(s)})).finally((()=>{this.mapRequestCalling.delete(e.key),this.fetchRequestQueue(s)}))}fetchRequestQueue(e){if(!this.validateLimit())return;const s=this.requestQueue.shift();s&&this.load(s,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}addRequestQueue(e,s){var t;this.requestQueue.push(e),this.intervalRequest=setInterval((()=>{this.fetchRequestQueue(s)}),null===(t=this.config.limit)||void 0===t?void 0:t.time)}validateLimit(){if(!this.config.limit)return!1;const e=this.timeLogs[0]||0,s=(new Date).getTime();if(this.timeLogs.length<this.config.limit.calls)return!0;return s-e>this.config.limit.time}createTimeLogs(){var e;if(!this.config.limit)return;const s=(new Date).getTime();this.timeLogs.push(s),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}const v=(e,s)=>{const{mint_a:t,mint_b:n,reserve_a:r,reserve_b:o}=s;return e===t?r:e===n?o:BigInt(0)},w=async()=>{const{sol:{senPoolAddress:e,senAddress:s}}=h.Z,t={icon:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png",symbol:"SEN",name:"Sen",address:s,rank:0,price:0,priceChange:0,totalVolume:0};try{var n,r;const o=await(null===(n=window.sentre)||void 0===n||null===(r=n.swap)||void 0===r?void 0:r.getPoolData(e)),{mint_a:l,mint_b:a}=o,d=v(s===l?a:l,o),c=v(s,o);return t.price=Number(i.utils.undecimalize(d,9))/Number(i.utils.undecimalize(c,9)),t}catch(o){return t}},b=async(e="")=>g.load("fetchCGK"+e,"sen"===e?w:()=>i.utils.parseCGK(e));var C=t(16200),T=t.n(C),S=t(63805);const A=(e,s=4,t="...")=>e.substring(0,s)+t+e.substring(e.length-s,e.length),k=e=>i.account.isAddress(e)?`https://explorer.solana.com/address/${e}?cluster=${S.ef}`:`https://explorer.solana.com/tx/${e}?cluster=${S.ef}`,P=e=>e?T()(e):T()("0"),R=({poolAddress:e})=>{const{tokenProvider:s}=(0,r.useMint)(),{pools:t}=(0,r.usePool)(),[n,o]=(0,l.useState)(0),a=(0,l.useCallback)((async()=>{try{const{reserve_a:n,reserve_b:r,mint_a:l,mint_b:a}=t[e],d=[l,a],c=await Promise.all(d.map((e=>i.account.isAddress(e)?s.findByAddress(e):{}))),u=[n,r],p=c.map((({decimals:e})=>e)),h=(await Promise.all(c.map((({extensions:e})=>null!==e&&void 0!==e&&e.coingeckoId?b(null===e||void 0===e?void 0:e.coingeckoId):{})))).map((({price:e})=>e));let x=0;return[0,1,2].forEach((e=>{u[e]&&p[e]&&h[e]&&(x+=Number(i.utils.undecimalize(u[e],p[e]))*h[e])})),o(x)}catch(n){return o(0)}}),[t,e,s]);return(0,l.useEffect)((()=>{a()}),[a]),(0,c.jsxs)("span",{children:["$",P(n).format("0,0.[00]a")]})};let z;!function(e){e[e.Frozen=2]="Frozen",e[e.Active=1]="Active"}(z||(z={}));const B=({poolAddress:e})=>{const{pools:s}=(0,r.usePool)(),t=s[e]||{},{wallet:{address:n}}=(0,r.useWallet)(),l=t.state===z.Frozen,a=n===t.owner;return(0,c.jsxs)(o.Space,{children:[l&&(0,c.jsx)(u,{name:"snow-outline",style:{fontSize:16}}),a&&(0,c.jsx)(u,{name:"person-outline",style:{fontSize:16}})]})};var L=t(19289);const I={appId:"sen_lp",url:"https://descartesnetwork.github.io/sen-lp/index.js",senhub:"senhub@https://descartesnetwork.github.io/senhub/index.js"},E={development:{...I},staging:{...I},production:{...I}},N={spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},M={development:{node:"https://api.devnet.solana.com",chainId:103,cluster:"devnet",senAddress:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",...N,swapAddress:"4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF",taxmanAddress:"8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9",blackPoolAddresses:["FaHQpdp87S7d7PBJZjaty514rrEtmStaf1FcDst9GPY4","5V7sDTzYmjkyg7zXLTTcY8Ls6AAusLRX27CpWEJiqriE","G8BEKsiKPiazG623piXynTSr89TXLTgWycByvDR9bPii"],senPoolAddress:"3EUPL7YQLbU6DNU5LZeQeHPXTf1MigJ2yASXA9rH5Ku4"},staging:{node:"https://api.devnet.solana.com",cluster:"devnet",chainId:103,senAddress:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",...N,swapAddress:"4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF",taxmanAddress:"8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9",blackPoolAddresses:["FaHQpdp87S7d7PBJZjaty514rrEtmStaf1FcDst9GPY4","5V7sDTzYmjkyg7zXLTTcY8Ls6AAusLRX27CpWEJiqriE","G8BEKsiKPiazG623piXynTSr89TXLTgWycByvDR9bPii"],senPoolAddress:"3EUPL7YQLbU6DNU5LZeQeHPXTf1MigJ2yASXA9rH5Ku4"},production:{node:"https://api.mainnet-beta.solana.com",cluster:"mainnet",chainId:101,senAddress:"SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M",...N,swapAddress:"SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV",taxmanAddress:"9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e",blackPoolAddresses:[],senPoolAddress:""}},_={development:{baseURL:"https://stat-dev.sentre.io"},staging:{baseURL:"https://stat-dev.sentre.io"},production:{baseURL:"https://stat.sentre.io"}},F={development:{exoticFee:BigInt(25e5),exoticTax:BigInt(0),correlatedFee:BigInt(5e5),correlatedTax:BigInt(0)},staging:{exoticFee:BigInt(25e5),exoticTax:BigInt(0),correlatedFee:BigInt(5e5),correlatedTax:BigInt(0)},production:{exoticFee:BigInt(25e5),exoticTax:BigInt(0),correlatedFee:BigInt(5e5),correlatedTax:BigInt(0)}},D={manifest:E[S.OB],sol:M[S.OB],stat:_[S.OB],fee:F[S.OB]};var O=t(21995),q=t.n(O);const V={auth:async(e=!1)=>{if("object"===typeof e)return e;if(!e)return null;const s=window.sentre.wallet;if(!s)throw new Error("Wallet is not connected");const t=(Number(new Date)+1e4).toString()+Math.floor(Math.random()*10**16),n=await s.signMessage(t);return{Authorization:JSON.stringify(n)}},post:async(e,s=null,t=!1)=>{const n=await V.auth(t);try{const{data:t}=await q()({method:"post",url:e,data:s,headers:n});if("ERROR"===t.status)throw new Error(t.error);return t}catch(r){if(!r.response)throw new Error(r.message);const{response:{data:{error:e}}}=r;throw new Error(e)}},get:async(e,s=null,t=!1)=>{const n=await V.auth(t);try{const{data:t}=await q()({method:"get",url:e,params:s,headers:n});if("ERROR"===t.status)throw new Error(t.error);return t}catch(r){if(!r.response)throw new Error(r.message);const{response:{data:{error:e}}}=r;throw new Error(e)}},put:async(e,s=null,t=!1)=>{const n=await V.auth(t);try{const{data:t}=await q()({method:"put",url:e,data:s,headers:n});if("ERROR"===t.status)throw new Error(t.error);return t}catch(r){if(!r.response)throw new Error(r.message);const{response:{data:{error:e}}}=r;throw new Error(e)}},delete:async(e,s=null,t=!1)=>{const n=await V.auth(t);try{const{data:t}=await q()({method:"delete",url:e,data:s,headers:n});if("ERROR"===t.status)throw new Error(t.error);return t}catch(r){if(!r.response)throw new Error(r.message);const{response:{data:{error:e}}}=r;throw new Error(e)}}},W=V;let U;!function(e){e.endpointDetail="public/api/v1/detail/pools",e.endpointDaily="public/api/v1/daily/pools"}(U||(U={}));const{stat:{baseURL:Y}}=D,H="stat",K=(0,L.createAsyncThunk)("stat/fetchStatPoolData",(async({address:e},{getState:s})=>{try{const t=s().stat[e];if(t)return{[e]:t};const n=W.get(`${Y}/${U.endpointDetail}/${e}`),r=W.get(`${Y}/${U.endpointDaily}/${e}`),[o,l]=await Promise.all([n,r]);return{[e]:{details:o,daily:l}}}catch(t){return{}}})),G=(0,L.createSlice)({name:H,initialState:{},reducers:{},extraReducers:e=>{e.addCase(K.fulfilled,((e,{payload:s})=>{Object.assign(e,s)}))}}).reducer,Z=e=>{const{tokenProvider:s}=(0,r.useMint)(),{pools:t}=(0,r.usePool)(),[n,o]=(0,l.useState)([]),a=(0,l.useCallback)((async()=>{const n=await s.findByAddress(e);if(n)return o([n]);const r=Object.values(t).find((({mint_lpt:s})=>s===e));if(!r)return o([void 0]);const{mint_a:l,mint_b:a}=r,i=await s.findByAddress(l),d=await s.findByAddress(a);return o([i,d])}),[e,t,s]);return(0,l.useEffect)((()=>{a()}),[a]),n},Q=({mintAddress:e,size:s=24,icon:t=(0,c.jsx)(u,{name:"diamond-outline"})})=>{const n=Z(e);return(0,c.jsx)(o.Avatar.Group,{style:{display:"block"},children:n.map(((e,n)=>(0,c.jsx)(o.Avatar,{src:null===e||void 0===e?void 0:e.logoURI,size:s,style:{backgroundColor:"#2D3355",border:"none"},children:t},(null===e||void 0===e?void 0:e.address)||n)))})},X=({mintAddress:e,separator:s=" \u2022 ",isReverse:t=!1})=>{const n=Z(e),r=(0,l.useMemo)((()=>{let r=n.map((s=>{if(!s)return A(e);const{name:t,address:r,symbol:o}=s;return 1===n.length&&t?t:o||A(r)}));return t&&r.reverse(),r.join(s),1===n.length?r:`${r} LPT`}),[t,e,s,n]);return(0,c.jsx)("span",{children:r})},$=({mintAddress:e,separator:s=" \u2022 "})=>{const t=Z(e),n=(0,l.useMemo)((()=>t.map((e=>e?e.symbol:"UNKN")).join(s)),[s,t]);return(0,c.jsx)("span",{children:n})},J=({data:e,onClick:s=(()=>{}),action:t=(0,c.jsx)(l.Fragment,{}),selected:a=!1})=>{var i;const{address:d,state:u}=e,p=(0,n.useDispatch)(),{pools:h}=(0,r.usePool)(),x=(0,n.useSelector)((s=>{var t;return null===(t=s.stat[e.address])||void 0===t?void 0:t.details})),y=null===h||void 0===h||null===(i=h[d])||void 0===i?void 0:i.mint_lpt,j=(0,l.useMemo)((()=>{if(!x)return 0;const e=x.roi;return Math.pow(1+Number(e||0)/100,365)-1}),[x]);(0,l.useEffect)((()=>{d&&p(K({address:d}))}),[p,d]);const m=u===z.Frozen,g=a?"card-active":"";return(0,c.jsx)(o.Card,{className:g,bodyStyle:{padding:12,height:78},onClick:s,bordered:a,hoverable:!0,children:(0,c.jsxs)(o.Row,{gutter:[12,12],wrap:!1,align:"middle",children:[(0,c.jsx)(o.Col,{span:24,flex:"auto",children:(0,c.jsxs)(o.Space,{direction:"vertical",children:[(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(Q,{mintAddress:y,size:24}),(0,c.jsx)(o.Typography.Text,{type:m?"secondary":void 0,children:(0,c.jsx)(X,{mintAddress:y})})]}),(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Tooltip,{title:"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"TVL:"})}),(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(R,{poolAddress:d})}),(0,c.jsx)(o.Divider,{type:"vertical",style:{margin:0}}),(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"APY:"}),(0,c.jsx)(o.Typography.Text,{children:P(j).format("0,0.[00]%")})]})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:2,children:[(0,c.jsx)(B,{poolAddress:d}),t]})})]})})};var ee=t(36498);const se=({onInit:e=(()=>{}),onClick:s=(()=>{}),selectedPoolAddress:t,action:n=(()=>(0,c.jsx)(l.Fragment,{}))})=>{const[a,i]=(0,l.useState)(),{pools:d}=(0,r.usePool)(),u=(0,l.useMemo)((()=>Object.keys(d).map((e=>({address:e,...d[e]}))).sort((({reserve_a:e,reserve_b:s},{reserve_a:t,reserve_b:n})=>{const r=e*s,o=t*n;return r>o?-1:r<o?1:0}))),[d]);return(0,l.useEffect)((()=>{var s;u.length&&!t&&e(null===(s=u[0])||void 0===s?void 0:s.address)}),[e,t,u]),(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(p,{onChange:i,pools:u})}),(a||u).map(((e,r)=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(ee.ZP,{height:78,overflow:!0,children:(0,c.jsx)(J,{data:e,action:n(e.address),onClick:()=>s(e.address),selected:t===e.address})})},e.address+r)))]})},te="main",ne=(0,L.createAsyncThunk)("main/selectPool",(async e=>({selectedPoolAddress:e,selectedLptAddress:""}))),re=(0,L.createAsyncThunk)("main/selectCategoryPool",(async e=>({selectedCategoryPool:e}))),oe=(0,L.createAsyncThunk)("main/handleOpenDrawer",(async e=>({visible:e}))),le=(0,L.createSlice)({name:te,initialState:{selectedPoolAddress:"",visible:!1,selectedCategoryPool:""},reducers:{},extraReducers:e=>{e.addCase(ne.fulfilled,((e,{payload:s})=>{Object.assign(e,s)})).addCase(oe.fulfilled,((e,{payload:s})=>{Object.assign(e,s)})).addCase(re.fulfilled,((e,{payload:s})=>{Object.assign(e,s)}))}}).reducer,ae=()=>{const e=(0,n.useDispatch)(),{selectedPoolAddress:s}=(0,n.useSelector)((e=>e.main)),t=new URLSearchParams((0,a.useLocation)().search).get("poolAddress")||"",r=(0,l.useCallback)((s=>{const n=i.account.isAddress(t)?t:s;return e(ne(n))}),[e,t]),d=(0,l.useCallback)((s=>{e(ne(s)),e(oe(!1))}),[e]),p=(0,l.useCallback)((e=>(0,c.jsx)(o.Button,{type:"text",onClick:()=>d(e),icon:(0,c.jsx)(u,{name:"arrow-forward-outline",style:{fontSize:12,color:"#7A7B85"}})})),[d]);return(0,c.jsx)(o.Row,{gutter:[12,12],children:(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(se,{action:p,selectedPoolAddress:s,onInit:r,onClick:d})})})},ie=({data:e,onClick:s=(()=>{}),action:t=(0,c.jsx)(l.Fragment,{}),selected:n=!1})=>{var a;const{pool:d,amount:u}=e,p=i.utils.undecimalize(u,9),h=n?"card-active":"",x=e.state===z.Frozen,{pools:y}=(0,r.usePool)(),j=(null===y||void 0===y||null===(a=y[d])||void 0===a?void 0:a.mint_lpt)||"";return(0,c.jsx)(o.Card,{className:h,bodyStyle:{padding:12,height:78},onClick:s,bordered:n,hoverable:!0,children:(0,c.jsxs)(o.Row,{gutter:[12,12],align:"middle",wrap:!1,children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{direction:"vertical",children:[(0,c.jsxs)(o.Space,{size:"middle",children:[(0,c.jsx)(Q,{mintAddress:j,size:24}),(0,c.jsx)(o.Typography.Text,{type:x?"secondary":void 0,children:(0,c.jsx)(X,{mintAddress:j})})]}),(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Tooltip,{title:"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"TVL:"})}),(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(R,{poolAddress:d})}),(0,c.jsx)(o.Divider,{type:"vertical",style:{margin:0}}),(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"My LPT:"}),(0,c.jsx)(o.Typography.Text,{children:P(p).format("0,0.[00]")})]})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:2,children:[(0,c.jsx)(B,{poolAddress:d})," ",t]})})]})})},de=({onInit:e=(()=>{}),onClick:s=(()=>{}),selectedPoolAddress:t,action:a=(()=>(0,c.jsx)(l.Fragment,{}))})=>{const i=(0,n.useSelector)((e=>e.lpts)),{pools:d}=(0,r.usePool)(),u=(0,l.useMemo)((()=>Object.keys(i).filter((e=>{const{pool:s}=i[e];return null===d||void 0===d?void 0:d[s]}))),[d,i]);return(0,l.useEffect)((()=>{u.length&&e(u[0])}),[e,u,i]),(0,c.jsx)(o.Row,{gutter:[12,12],children:u.map(((e,n)=>{const{pool:r}=i[e];return(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(ee.ZP,{height:78,overflow:!0,children:(0,c.jsx)(ie,{data:i[e],action:a(e,r),onClick:()=>s(e,r),selected:t===r})})},e+n)}))})},ce=()=>{const e=(0,n.useDispatch)(),{selectedPoolAddress:s}=(0,n.useSelector)((e=>e.main)),t=(0,l.useCallback)(((s,t)=>{e(ne(t)),e(oe(!1))}),[e]),r=(0,l.useCallback)(((e,s)=>(0,c.jsx)(o.Button,{type:"text",onClick:()=>t(e,s),size:"small",icon:(0,c.jsx)(u,{name:"arrow-forward-outline",style:{fontSize:12,color:"#7A7B85"}})})),[t]);return(0,c.jsx)(o.Row,{gutter:[12,12],children:(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(de,{action:r,selectedPoolAddress:s,onClick:t})})})};let ue;const pe=(0,l.forwardRef)((({max:e,onValue:s=(()=>{}),onChange:t=(()=>{}),onBlur:n=(()=>{}),...r},a)=>{var i;const[d,p]=(0,l.useState)(""),[h,x]=(0,l.useState)(null),y=(0,l.useRef)(a),j=(0,l.useCallback)((t=>{const n=e=>{ue&&(clearTimeout(ue),ue=void 0),p(e),ue=setTimeout((()=>p("")),500)};return/^\d*(\.\d*)?$/.test(t)?e&&parseFloat(t)>parseFloat(e.toString())?n("Not enough balance"):s(t):n("Invalid character")}),[e,s]);return null===y||void 0===y||null===(i=y.current)||void 0===i||i.setSelectionRange(h,h),(0,c.jsx)(o.Tooltip,{title:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(u,{name:"warning"}),d]}),visible:!!d,children:(0,c.jsx)(o.Input,{...r,onBlur:e=>{n(e);const s=Number(e.target.value);e.target.value&&j(s?s.toString():"")},onChange:e=>{t(e),x(e.target.selectionStart),j(e.target.value||"")},ref:y})})})),he=e=>{const[s,t]=(0,l.useState)(0),{tokenProvider:n,getMint:o}=(0,r.useMint)(),a=(0,l.useCallback)((async()=>{if(!e)return t(0);const s=await n.findByAddress(e);if(s)return t(s.decimals);try{const s=await o({address:e});return t(s[e].decimals)}catch(r){}return t(0)}),[o,e,n]);return(0,l.useEffect)((()=>{a()}),[a]),s},xe=({mintAddresses:e,activeMintAddress:s,onSelect:t})=>(0,c.jsxs)(o.Select,{onChange:t,value:s||"",bordered:!1,suffixIcon:(0,c.jsx)(o.Divider,{type:"vertical",style:{margin:0}}),style:{marginLeft:-4,marginRight:-12},children:[(0,c.jsx)(o.Select.Option,{value:"Select",children:(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsx)(Q,{mintAddress:"Select",icon:(0,c.jsx)(u,{name:"help-outline"})}),(0,c.jsx)(o.Typography.Text,{children:"Select"})]})}),e.map(((e,s)=>(0,c.jsx)(o.Select.Option,{value:e,children:(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsx)(Q,{mintAddress:e}),(0,c.jsx)($,{mintAddress:e})]})},e+s)))]}),ye=({mintAddresses:e,onChange:s,suggestInfo:t})=>{const[n,a]=(0,l.useState)(""),[d,u]=(0,l.useState)("Select"),[p,h]=(0,l.useState)(""),{accounts:x}=(0,r.useAccount)(),y=Z(d),j=he(d),{wallet:{address:m}}=(0,r.useWallet)(),g=null===x||void 0===x?void 0:x[p],{symbol:f}=y[0]||{},v=(0,l.useMemo)((()=>{const{amount:e}=g||{};return e&&j&&i.utils.undecimalize(e,j)||"0"}),[g,j]),w=(0,l.useCallback)((async()=>{const{splt:e}=window.sentre;let s="";try{s=await(null===i.account||void 0===i.account?void 0:i.account.deriveAssociatedAddress(m,d,e.spltProgramId.toBase58(),e.splataProgramId.toBase58()))}catch(t){}h(s)}),[d,m]),b=(0,l.useCallback)((async e=>{if(await a(e),i.account.isAddress(d))return s(j?{amount:i.utils.decimalize(e,j),mintAddress:d}:{amount:BigInt(0),mintAddress:d})}),[s,j,d]),C=(0,l.useCallback)((async e=>(await u(e),j&&parseFloat(n)?s({amount:i.utils.decimalize(n,j),mintAddress:e}):s({amount:BigInt(0),mintAddress:e}))),[s,j,n]);(0,l.useEffect)((()=>{w()}),[w]);const{symbol:T,amount:S,address:A}=t||{},k=d===A;return(0,c.jsxs)(o.Row,{gutter:[4,4],children:[(0,c.jsx)(pe,{placeholder:`Amount of ${f||"TOKEN"}`,value:n,onValue:b,prefix:(0,c.jsx)(xe,{mintAddresses:e,activeMintAddress:d,onSelect:C}),size:"large",suffix:(0,c.jsx)(o.Button,{type:"text",style:{marginRight:-7},onClick:()=>b(v),children:"MAX"}),max:v}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[4,4],children:[(0,c.jsx)(o.Col,{span:24,flex:"auto",children:k&&S?(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"Recommend:"}),(0,c.jsx)(o.Typography.Text,{type:"danger",style:{fontSize:12,cursor:"pointer"},onClick:()=>b((null===S||void 0===S?void 0:S.toString())||"0"),children:P(S).format("0,0.[00000]a")}),(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:T||"TOKEN"})]}):null}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Typography.Text,{type:"secondary",className:"caption",children:["Available: ",P(v).format("0,0.[0000]")," ",f||"TOKEN"]})})]})})]})},je=e=>window.notify({type:"error",description:e.message}),me={calculateAmount:(e,s,t)=>{if(!e||!s||!t)return 0;const{price:n}=t,{decimals:r,price:o}=s;return Number(i.utils.undecimalize(e,r))*o/n}},{sol:{taxmanAddress:ge}}=D,{fee:{exoticFee:fe,exoticTax:ve}}=D,we=()=>{const[e,s]=(0,l.useState)(!1),[t,a]=(0,l.useState)(BigInt(0)),[d,p]=(0,l.useState)(""),[h,x]=(0,l.useState)(BigInt(0)),[y,j]=(0,l.useState)(""),[m,g]=(0,l.useState)(new Map),[f,v]=(0,l.useState)(),[w,C]=(0,l.useState)(!1),{accounts:T}=(0,r.useAccount)(),S=(0,n.useSelector)((e=>e.lpts)),{wallet:{address:A}}=(0,r.useWallet)(),{pools:P}=(0,r.usePool)(),{tokenProvider:R}=(0,r.useMint)(),z=(0,l.useMemo)((()=>Object.keys(S).map((e=>{var s;const{pool:t}=S[e];return null===P||void 0===P||null===(s=P[t])||void 0===s?void 0:s.mint_lpt}))),[P,S]),B=()=>{const e=[];for(const s of Object.keys(T)){const{mint:t}=T[s];z.includes(t)||e.push(t)}return e},L=(0,l.useMemo)((()=>{const e=[];return d&&e.push(d),y&&e.push(y),e}),[d,y]),I=t&&h&&i.account.isAddress(d)&&i.account.isAddress(y),E=`${d}${y}`,N=`${y}${d}`,M=m.has(E)||m.has(N),_=(0,l.useMemo)((()=>{if(!f)return;const e=f.get(d),s=f.get(y);if(!e||!s)return;const{address:n,symbol:r}=e,{address:o,symbol:l}=s;let a=0,i="",c="";return w?(a=me.calculateAmount(t,e,s),i=l,c=o):(a=me.calculateAmount(h,s,e),i=r,c=n),{symbol:i,amount:a,address:c}}),[w,d,y,f,t,h]),F=(0,l.useCallback)((()=>{for(let e in P){const s=P[e],{mint_a:t,mint_b:n}=s,r=`${t}${n}`;m.set(r,e)}g(m)}),[m,P]);(0,l.useEffect)((()=>{F()}),[F]);const D=(0,l.useCallback)((async e=>{let s=e.map((async e=>{var s;const t={},n=await R.findByAddress(e),r=null===n||void 0===n||null===(s=n.extensions)||void 0===s?void 0:s.coingeckoId;let o=0;return r&&(o=(await b(r)).price),n&&(t.symbol=n.symbol,t.decimals=n.decimals,t.address=n.address,t.price=o),t}));const t=await Promise.all(s),n=new Map;return t.forEach((e=>{n.set(e.address,e)})),n}),[R]);return(0,l.useEffect)((()=>{L&&(async()=>{const e=await D(L);v(e)})()}),[L,D]),(0,c.jsxs)(l.Fragment,{children:[(0,c.jsx)(o.Button,{type:"primary",size:"small",icon:(0,c.jsx)(u,{name:"add-outline"}),onClick:()=>s(!e)}),(0,c.jsx)(o.Modal,{visible:e,onCancel:()=>{s(!e),p(""),j("")},title:(0,c.jsx)(o.Typography.Title,{level:4,children:"New Pool"}),footer:(0,c.jsx)(o.Button,{type:"primary",size:"large",onClick:async()=>{const{swap:e,splt:n,wallet:r}=window.sentre,o=[d,y],l=await Promise.all(o.map((e=>n.deriveAssociatedAddress(A,e))));if(r)try{const{txId:n}=await e.initializePool(t,h,fe,ve,A,l[0],l[1],ge,r);return s(!1),((e,s)=>window.notify({type:"success",description:`${e} successfully. Click to view details.`,onClick:()=>window.open(k(s),"_blank")}))("Create a new pool",n)}catch(a){return je(a)}},disabled:!I,block:!0,children:"Supply"}),destroyOnClose:!0,centered:!0,children:(0,c.jsxs)(o.Row,{gutter:[16,12],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"This is your first time adding liquidity. It is the rate you add that sets the price for that LP token pair. If you feel satisfied with the rate please press the Supply button."})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Typography.Text,{type:"secondary",children:[(0,c.jsx)("strong",{className:"content",children:"Liquidity provider incentive."})," ","Liquidity providers earn a 0.25% fee on all trades proportional to their share of the pool. Fees are accrued into the pool and can be claimed by withdrawing your liquidity."]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(ye,{mintAddresses:B(),onChange:({amount:e,mintAddress:s})=>{a(e),p(s),C(!0)},suggestInfo:_})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(ye,{mintAddresses:B(),onChange:async({amount:e,mintAddress:s})=>{x(e),j(s),C(!1)},suggestInfo:_})}),M&&(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Text,{className:"caption",type:"danger",children:"The pool you want to create with selected mints already exists. We hightly recomment to deposit your liquidity to the pool instead."})})]})})]})},be=()=>(0,c.jsx)(o.Card,{className:"side-bar",bodyStyle:{padding:0},bordered:!1,children:(0,c.jsxs)(o.Tabs,{defaultActiveKey:"all-pools",tabBarExtraContent:(0,c.jsx)(we,{}),style:{padding:16},children:[(0,c.jsx)(o.Tabs.TabPane,{tab:"All pools",children:(0,c.jsx)(ae,{})},"all-pools"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Your pools",children:(0,c.jsx)(ce,{})},"your-pools")]})}),Ce=({label:e="",value:s="",symbol:t,est:n=!1})=>(0,c.jsxs)(o.Space,{direction:"vertical",size:0,children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",children:e}),(0,c.jsxs)(o.Typography.Text,{type:n?"secondary":void 0,children:[s,t&&(0,c.jsx)("span",{children:t})]})]}),Te=()=>{const e=[{label:"Total Amount (SEN)",value:37},{label:"Locked Periold",value:7,symbol:"Days"},{label:"Accrue Days",value:1,symbol:"Days"},{label:"Start Date",value:"15/12/2021"},{label:"End Date",value:"22/12/2021"},{label:"Estimated Interest",value:1141241215,est:!0}];return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(Q,{mintAddress:"",size:24}),(0,c.jsx)(o.Divider,{type:"vertical"}),(0,c.jsx)(o.Typography.Text,{children:"Vesting token in 7 Days"})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{bodyStyle:{padding:24,borderRadius:8},style:{background:"transparent"},children:(0,c.jsx)(o.Row,{gutter:[16,16],children:null===e||void 0===e?void 0:e.map(((e,s)=>(0,c.jsx)(o.Col,{xs:12,lg:8,children:(0,c.jsx)(Ce,{label:e.label,value:e.value,est:e.est,symbol:e.symbol})},s)))})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",icon:(0,c.jsx)(u,{name:"diamond"}),onClick:()=>{},block:!0,children:"Redeem"})})]})},Se=({label:e="",avatar:s,value:t="",color:n,subValue:r,floatRight:l=!1})=>{const a=l?"right":"left";return(0,c.jsxs)(o.Space,{size:12,direction:"vertical",style:{textAlign:a},children:[(0,c.jsx)(o.Typography.Text,{children:e}),s,(0,c.jsx)(o.Typography.Title,{level:3,style:{color:n||"inherit"},children:t}),r&&(0,c.jsx)(o.Typography.Title,{level:5,style:{textDecoration:"line-through"},type:"secondary",children:r})]})},Ae=({label:e="",value:s=""})=>(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{style:{display:"list-item",listStyleType:"square",marginLeft:16},children:e})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Typography.Text,{children:s})})]}),ke=({visible:e=!1,onClose:s=(()=>{})})=>(0,c.jsx)(o.Modal,{visible:e,footer:!1,closeIcon:(0,c.jsx)(u,{name:"close-outline"}),onCancel:()=>s(!1),children:(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Title,{level:5,children:"Confirm"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(Se,{label:"Est.pay",avatar:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(Q,{mintAddress:""}),(0,c.jsx)(o.Typography.Title,{level:5,children:"BTC/SEN"})]}),value:1})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(Se,{label:"Est.receive",avatar:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(Q,{mintAddress:""}),(0,c.jsx)(o.Typography.Title,{level:5,children:"SEN"})]}),value:1200,subValue:1e3,color:"#3E8C6A",floatRight:!0})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Divider,{})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Ae,{label:"Start Date",value:"2021-12-15"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Ae,{label:"Locked Periold",value:"7 Days"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Ae,{label:"End Date",value:"2021-12-22"})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",block:!0,children:"Confirm"})})]})}),Pe=()=>{const[e,s]=(0,l.useState)("sl_default");return(0,c.jsxs)(o.Select,{value:e,onChange:s,bordered:!1,style:{marginLeft:"-7px"},children:[(0,c.jsx)(o.Select.Option,{value:"sl_default",children:(0,c.jsx)(o.Typography.Text,{children:"BTC/SEN"})}),[1,2,3].map(((e,s)=>(0,c.jsxs)(o.Select.Option,{value:`option_${e}`,children:["Option ",e]},s)))]})},Re=({onConfirm:e=(()=>{})})=>{const[s,t]=(0,l.useState)("");return(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{children:"Your Balance"})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:4,className:"caption",children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Available:"}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"37.8 LPT"})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(pe,{value:s,onValue:t,prefix:(0,c.jsx)(Pe,{})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",icon:(0,c.jsx)(u,{name:"diamond"}),onClick:()=>e(!0),block:!0,children:"Buy SEN"})})]})},ze=({value:e=""})=>(0,c.jsx)(o.Card,{style:{borderRadius:8,background:"tranparent"},bodyStyle:{padding:0,width:40,height:40,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,c.jsx)(o.Typography.Text,{style:{fontSize:16},children:e})}),Be=({label:e="",value:s="",discount:t=!1,description:n=null})=>{const r=t?{fontWeight:700,color:"#F9575E"}:{fontWeight:700};return(0,c.jsxs)(o.Row,{gutter:[8,8],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsx)(o.Typography.Text,{style:r,children:e}),n&&(0,c.jsx)(o.Popover,{content:n,placement:"leftTop",arrowPointAtCenter:!0,children:(0,c.jsx)(u,{name:"help-circle"})})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Typography.Text,{style:{...r,textDecoration:t?"unset":"line-through"},type:t?void 0:"secondary",children:[s,(0,c.jsx)("small",{children:"%"})]})})]})},Le=()=>{const[e,s]=(0,l.useState)(!1);return(0,c.jsxs)(o.Row,{gutter:[24,24],children:[(0,c.jsx)(o.Col,{xs:24,lg:12,children:(0,c.jsxs)(o.Space,{direction:"vertical",size:10,children:[(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsx)(o.Typography.Text,{children:"Duration unlock (days)"}),(0,c.jsx)(u,{name:"alert-circle-outline"})]}),(0,c.jsx)(o.Space,{size:24,children:[7,30,60,90].map(((e,s)=>(0,c.jsx)(ze,{value:e},s)))})]})}),(0,c.jsx)(o.Col,{xs:24,lg:12,children:(0,c.jsxs)(o.Row,{gutter:[5,5],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Be,{label:"SEN Buyback",value:"199",discount:!0})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Be,{label:"Farming",value:"118",description:(0,c.jsx)(o.Typography.Text,{children:"Farming title"})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Be,{label:"Market Buyback",value:"100",description:(0,c.jsx)(o.Typography.Text,{children:"Market buyback title"})})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Typography.Text,{children:[(0,c.jsx)("span",{style:{fontWeight:700,color:"inherit"},children:"Sen Buying Offering:"})," ","Sell your LPTs with juicy profit. No gas, no slippage. X% tokens unlocked per day. Rewards dropped 8am UTC next day."]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Re,{onConfirm:s})}),(0,c.jsx)(ke,{visible:e,onClose:s})]})},Ie=()=>(0,c.jsx)(o.Card,{bordered:!1,bodyStyle:{padding:0},style:{minHeight:384},children:(0,c.jsxs)(o.Tabs,{style:{padding:16},children:[(0,c.jsx)(o.Tabs.TabPane,{tab:"Reinvestment",children:(0,c.jsx)(Le,{})},"investmnet"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Redeem",children:(0,c.jsx)(Te,{})},"redeem")]})}),Ee=({mintAddress:e,onChange:s,value:t})=>{const[n,a]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),{wallet:{address:p}}=(0,r.useWallet)(),{accounts:h}=(0,r.useAccount)(),x=Z(e),y=he(e),j=x.map((e=>null===e||void 0===e?void 0:e.symbol)).join("/"),m=null===h||void 0===h?void 0:h[d],g=(0,l.useMemo)((()=>{const{amount:e}=m||{};return e&&y&&i.utils.undecimalize(e,y)||"0"}),[m,y]),f=(0,l.useCallback)((async e=>(await a(e),y&&parseFloat(e)?s(i.utils.decimalize(e,y)):s(BigInt(0)))),[y,s]),v=(0,l.useCallback)((()=>{const e=i.utils.undecimalize(t,y||0);Number(e)!==Number(n)&&a(e)}),[y,t]),w=(0,l.useCallback)((async()=>{const{splt:s}=window.sentre;try{const t=await i.account.deriveAssociatedAddress(p,e,s.spltProgramId.toBase58(),s.splataProgramId.toBase58());u(t)}catch(t){}}),[e,p]);(0,l.useEffect)((()=>{w()}),[w]),(0,l.useEffect)((()=>{v()}),[v]);const b=Number(n)>Number(g);return(0,c.jsxs)(o.Row,{gutter:[4,4],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{style:{borderRadius:8},bodyStyle:{padding:8},bordered:!1,children:(0,c.jsx)(pe,{placeholder:`Amount of ${j||"TOKEN"}`,value:n,onValue:f,size:"small",bordered:!1,prefix:(0,c.jsxs)(o.Space,{style:{marginLeft:-4,marginRight:7,lineHeight:1},children:[(0,c.jsx)(Q,{mintAddress:e}),(0,c.jsx)(o.Divider,{type:"vertical",style:{margin:0}})]}),suffix:(0,c.jsx)(o.Button,{type:"text",style:{marginRight:-7},size:"small",onClick:()=>f(g),children:"MAX"}),max:g})})}),(0,c.jsx)(o.Col,{flex:"auto",children:b&&(0,c.jsx)(o.Typography.Text,{style:{fontSize:12},type:"danger",children:"Not enough balance."})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Typography.Text,{style:{fontSize:12},type:"secondary",children:["Available: ",P(g).format("0,0.[0000]")," ",j||"TOKEN"]})})]})},Ne={icon:"",symbol:"",name:"",address:"",rank:"",price:0,priceChange:0,totalVolume:0,decimals:0},Me=({value:e="0",poolAddress:s})=>{const[t,a]=(0,l.useState)(!1),[d,p]=(0,l.useState)("0"),[h,x]=(0,l.useState)([]),[y,j]=(0,l.useState)(0),m=(0,n.useSelector)((e=>e.lpts)),{getMint:g}=(0,r.useMint)(),{pools:f}=(0,r.usePool)(),v=null===f||void 0===f?void 0:f[s],{reserve_a:w,mint_a:C,reserve_b:T,mint_b:S,mint_lpt:A}=v,k=Z(A),R=Object.keys(m).find((e=>m[e].pool===s))||"",{amount:z}=m[R]||{},B=Number(i.utils.undecimalize(z||BigInt(0),9)),L=(0,l.useMemo)((async()=>{const{[C]:{decimals:e}}=await g({address:C});return Number(i.utils.undecimalize(w,e))}),[g,C,w]),I=(0,l.useMemo)((async()=>{const{[S]:{decimals:e}}=await g({address:S});return Number(i.utils.undecimalize(T,e))}),[g,S,T]),E=(0,l.useMemo)((()=>{const e=k.map((e=>e?e.symbol:"UNKN"));return t&&e.reverse(),e.join("/")}),[t,k]),N=e=>{if(!e||!v)return 0;const{address:s,decimals:t}=e,n=((e,s)=>{const{mint_a:t,mint_b:n,reserve_a:r,reserve_b:o}=s;return e===t?r:e===n?o:BigInt(0)})(s,v);return Number(i.utils.undecimalize(n,t))};(0,l.useEffect)((()=>{(async()=>{const e=t?await I/await L:await L/await I;j(e)})()}),[t,L,I]),(0,l.useEffect)((()=>{(async()=>{const{[A]:{supply:e,decimals:s}}=await g({address:A});p(i.utils.undecimalize(e,s))})()}),[A,g]);const M=(0,l.useCallback)((async()=>{if(!k)return;const e=k.map((async e=>{var s;const t=null===e||void 0===e||null===(s=e.extensions)||void 0===s?void 0:s.coingeckoId;if(!t)return Ne;return{...await b(t),decimals:e.decimals,address:e.address}})),s=await Promise.all(e);x(s)}),[k]);return(0,l.useEffect)((()=>{M()}),[M]),(0,c.jsx)(o.Card,{bordered:!1,children:(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"In - Pool Price"})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Button,{type:"text",style:{width:"auto",height:"auto"},icon:(0,c.jsx)(u,{name:"swap-horizontal-outline"}),onClick:()=>a(!t)}),(0,c.jsx)(o.Typography.Text,{children:P(y).format("0,0.[0000]")}),(0,c.jsx)(o.Typography.Text,{children:E})]})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Pool Share Composition"})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Space,{size:4,children:h.map(((e,s)=>{const t=N(e);return(0,c.jsxs)(l.Fragment,{children:[(0,c.jsxs)(o.Typography.Text,{children:[P(t).format("0,0.[00]a"),e.symbol]}),h.length>s+1&&(0,c.jsx)(o.Typography.Text,{children:"+"})]},t+s)}))})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Your LPT"})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Typography.Text,{children:[P(B).format("0,0.[0000]"),"LPT"]})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[8,8],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Total LPT"})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Typography.Text,{children:P(d).format("0,0.[0000]")})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"You will reveice"})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsx)(o.Typography.Title,{level:5,children:P(e).format("0,0.[0000]")}),(0,c.jsx)(o.Typography.Title,{level:5,children:"LPT"})]})})]})})]})})},_e=({poolAddress:e,onClose:s=(()=>{})})=>{const[t,n]=(0,l.useState)(!1),[a,d]=(0,l.useState)(""),[u,p]=(0,l.useState)([BigInt(0),BigInt(0)]),[h,x]=(0,l.useState)("all"),[y,j]=(0,l.useState)(!0),{pools:m}=(0,r.usePool)(),{wallet:{address:g}}=(0,r.useWallet)(),{getMint:f}=(0,r.useMint)(),{accounts:v}=(0,r.useAccount)(),{mint_a:w,mint_b:b,reserve_a:C,reserve_b:T,mint_lpt:S,fee_ratio:A,tax_ratio:P}=m[e],R=[w,b],z=he(w),B=he(b),L=(0,l.useMemo)((()=>[z,B]),[z,B]),I=(0,l.useMemo)((()=>Number(i.utils.undecimalize(C,z))/Number(i.utils.undecimalize(T,B))),[z,B,C,T]),E=(0,l.useCallback)(((e,s)=>{if(!L)return BigInt(0);const t=0===s?L[1]:L[0],n=Number(i.utils.undecimalize(e,L[s]));let r=n*I;return 0===s&&(r=n/I),i.utils.decimalize(r,t)}),[L,I]),N=(0,l.useCallback)((async()=>{if(!i.account.isAddress(g))return d("");try{const{[S]:{supply:e}}=await f({address:S}),{lpt:s}=i.Swap.oracle.sided_deposit(u[0],u[1],C,T,e,A,P);return d(i.utils.undecimalize(s,9))}catch(e){window.notify({type:"error",description:e.message})}}),[u,A,f,S,C,T,P,g]);(0,l.useEffect)((()=>{N()}),[N]),(0,l.useEffect)((()=>{p([BigInt(0),BigInt(0)])}),[h]);const M=(0,l.useCallback)((async()=>{const{splt:e}=window.sentre,s=await e.deriveAssociatedAddress(g,w),t=v[s],n=await e.deriveAssociatedAddress(g,b),r=v[n];if(!t||!r)return j(!0);const o=u[0]>t.amount||u[1]>r.amount;j(o)}),[v,u,w,b,g]);return(0,l.useEffect)((()=>{M()}),[M]),(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Radio.Group,{onChange:e=>x(e.target.value),value:h,children:[(0,c.jsx)(o.Radio,{value:"all",children:(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsx)($,{mintAddress:S,separator:"+"}),(0,c.jsx)(o.Tag,{className:"deposit-tag",children:"0 Fee"})]})}),R.map(((e,s)=>(0,c.jsx)(o.Radio,{value:e,children:(0,c.jsx)($,{mintAddress:e})},e+s)))]})}),R.map(((e,s)=>(e===h||"all"===h)&&(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Ee,{mintAddress:e,value:u[s],onChange:s=>((e,s)=>{if(!i.account.isAddress(e)||!s)return p([BigInt(0),BigInt(0)]);const t=R.findIndex((s=>s===e));if(-1===t)return;let n=[...u];"all"===h&&(n[0]=n[1]=E(s,t)),n[t]=s,p(n)})(e,s)})},e+s))),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Me,{value:a,poolAddress:e})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",onClick:async()=>{n(!0);const{splt:t,swap:r,wallet:o}=window.sentre,[l,a]=await Promise.all(R.map((e=>t.deriveAssociatedAddress(g,e))));if(o)try{const{txId:t}=await r.addSidedLiquidity(u[0],u[1],e,l,a,o);return s(),window.notify({type:"success",description:"Deposit liquidity successfully. Click to view details.",onClick:()=>window.open(k(t),"_blank")})}catch(i){return window.notify({type:"error",description:i.message})}finally{n(!1)}},disabled:!Number(a)||y,block:!0,loading:t,children:"Deposit"})})]})},Fe=({poolAddress:e,onClose:s=(()=>{})})=>{const{pools:t}=(0,r.usePool)(),{fee_ratio:n,tax_ratio:l}=t[e]||{},a=n||BigInt(0),d=l||BigInt(0),u=i.utils.undecimalize(a+d,7);return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Title,{level:5,children:"Deposit Liquidity"})}),(0,c.jsxs)(o.Col,{span:24,children:[(0,c.jsxs)(o.Typography.Paragraph,{type:"secondary",children:[(0,c.jsx)("strong",{children:"Liquidity provider incentive."})," Liquidity providers earn a ",u,"%% fee on all trades proportional to their share of the pool. Fees are accrued into the pool and can be claimed by withdrawing your liquidity."]}),(0,c.jsxs)(o.Typography.Paragraph,{type:"secondary",children:[(0,c.jsx)("strong",{children:"Asymmetric Deposit."})," Instead of depositing amounts of tokens proportionally, Asymmetric Deposit allows you to deposit even one side of token. The pool will automatically re-balance itself."]})]}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(_e,{poolAddress:e,onClose:s})})]})},De=({lptAddress:e,onChange:s})=>{const[t,a]=(0,l.useState)(""),d=(0,n.useSelector)((e=>e.lpts)),{pools:u}=(0,r.usePool)(),{amount:p,pool:h}=d[e],{mint_lpt:x}=null===u||void 0===u?void 0:u[h],y=(0,l.useMemo)((()=>p&&i.utils.undecimalize(p,9)||"0"),[p]),j=(0,l.useCallback)((async e=>(await a(e),parseFloat(e)?s(i.utils.decimalize(e,9)):s(BigInt(0)))),[s]);return(0,c.jsxs)(o.Row,{gutter:[4,4],justify:"end",children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{bodyStyle:{padding:8},bordered:!1,children:(0,c.jsx)(pe,{placeholder:"Amount of LPT",value:t,onValue:j,size:"small",bordered:!1,prefix:(0,c.jsxs)(o.Space,{style:{marginLeft:-7,marginRight:7,fontSize:12,lineHeight:1},children:[(0,c.jsx)(Q,{mintAddress:x,size:24}),(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(X,{mintAddress:x})}),(0,c.jsx)(o.Divider,{type:"vertical",style:{margin:0}})]}),suffix:(0,c.jsx)(o.Button,{type:"text",style:{marginRight:-7},size:"small",onClick:()=>j(y),children:"MAX"}),max:y})})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Typography.Text,{style:{fontSize:12},type:"secondary",children:["Available: ",P(y).format("0,0.[0000]")," LPT"]})})]})},Oe=({mintAddresses:e,amounts:s})=>(0,c.jsx)(o.Card,{bordered:!1,children:(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Text,{children:"You will receive"})}),e.map(((e,t)=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[8,8],justify:"space-between",children:[(0,c.jsx)(o.Col,{children:(0,c.jsx)(Q,{mintAddress:e,size:32})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Typography.Title,{level:5,style:{margin:0},children:P(s[t]||0).format("0,0.[0000]")})})]})},e+t)))]})}),qe=({poolAddress:e,onClose:s=(()=>{})})=>{const[t,a]=(0,l.useState)(BigInt(0)),[d,u]=(0,l.useState)(),[p,h]=(0,l.useState)([]),[x,y]=(0,l.useState)([0,0]),[j,m]=(0,l.useState)(!1),g=(0,n.useSelector)((e=>e.lpts)),f=Object.keys(g).find((s=>g[s].pool===e))||"",v=null===g||void 0===g?void 0:g[f].pool,{wallet:{address:w}}=(0,r.useWallet)(),{pools:b}=(0,r.usePool)(),{getMint:C}=(0,r.useMint)(),{mint_a:T,mint_b:S,mint_lpt:A,reserve_a:P,reserve_b:R}=null===b||void 0===b?void 0:b[v],z=[T,S],B=(0,l.useCallback)((async()=>{try{const{[A]:{supply:e}}=await C({address:A});u(e)}catch(e){}try{const{[T]:{decimals:e}}=await C({address:T}),{[S]:{decimals:s}}=await C({address:S});y([e,s])}catch(e){}}),[T,S,A,C]);return(0,l.useEffect)((()=>{if(d){const{deltaA:e,deltaB:s}=i.Swap.oracle.withdraw(t,d,P,R),n=[e,s].map(((e,s)=>i.utils.undecimalize(e,x[s])));h(n)}else h([])}),[P,R,t,d,x]),(0,l.useEffect)((()=>{B()}),[B]),(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Title,{level:5,children:"Withdraw Liquidity"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(De,{lptAddress:f,onChange:a})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Oe,{mintAddresses:z,amounts:p})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",onClick:async()=>{if(!t)return;m(!0);const{swap:n,wallet:r,splt:o}=window.sentre,l=await Promise.all(z.map((e=>o.deriveAssociatedAddress(w,e))));if(r)try{const{txId:o}=await n.removeLiquidity(t,e,l[0],l[1],r);return s(),window.notify({type:"success",description:"Withdraw liquidity successfully. Click to view details.",onClick:()=>window.open(k(o),"_blank")})}catch(a){return window.notify({type:"error",description:a.message})}finally{m(!1)}},disabled:!1,block:!0,loading:j,children:"Withdraw"})})]})},Ve=({poolAddress:e})=>{const[s,t]=(0,l.useState)(!1),[n,r]=(0,l.useState)(!1);return(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(o.Button,{onClick:()=>r(!0),icon:(0,c.jsx)(u,{name:"log-out-outline"}),block:!0,children:"Withdraw"})}),(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(o.Button,{onClick:()=>t(!0),type:"primary",icon:(0,c.jsx)(u,{name:"log-in-outline"}),block:!0,children:"Deposit"})}),(0,c.jsx)(o.Modal,{visible:s,onCancel:()=>t(!1),closeIcon:(0,c.jsx)(u,{name:"close"}),footer:null,destroyOnClose:!0,centered:!0,children:(0,c.jsx)(Fe,{poolAddress:e,onClose:()=>t(!1)})}),(0,c.jsx)(o.Modal,{visible:n,onCancel:()=>r(!1),closeIcon:(0,c.jsx)(u,{name:"close"}),footer:null,destroyOnClose:!0,centered:!0,children:(0,c.jsx)(qe,{poolAddress:e,onClose:()=>r(!1)})})]})},We={address:"",chainId:0,decimals:0,name:"",symbol:"TOKEN",extensions:void 0,logoURI:"",tags:[]},Ue=({poolAddress:e})=>{const{pools:s}=(0,r.usePool)(),{tokenProvider:t}=(0,r.useMint)(),[n,a]=(0,l.useState)(!1),[d,p]=(0,l.useState)(),h=(0,l.useMemo)((()=>(null===s||void 0===s?void 0:s[e])||{}),[e,s]),x=Z(null===h||void 0===h?void 0:h.mint_lpt),y=(0,l.useCallback)((async()=>{if(!h)return;const{mint_a:e,mint_b:s}=h,n=[e,s].map((async e=>{let s=await t.findByAddress(e);return s||(s=We),s})),r=await Promise.all(n);p(r)}),[h,t]);function j(e){if(!e||!h)return 0;const{address:s,decimals:t}=e,n=((e,s)=>{const{mint_a:t,mint_b:n,reserve_a:r,reserve_b:o}=s;return e===t?r:e===n?o:BigInt(0)})(s,h);return Number(i.utils.undecimalize(n,t))}(0,l.useEffect)((()=>{y()}),[y]);const m=(0,l.useMemo)((()=>{const e=x.map((e=>e?e.symbol:"UNKN"));return n&&e.reverse(),e.join("/")}),[n,x]);return(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(Q,{mintAddress:null===h||void 0===h?void 0:h.mint_lpt}),(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Typography.Text,{children:P(function(){if(!d)return 0;const e=d[0],s=d[1],t=j(e),r=j(s);if(!t||!r)return 0;const o=t/r;return n?1/o:o}()).format("0,0.[0000]")}),(0,c.jsx)(o.Typography.Text,{children:m})]}),(0,c.jsx)(o.Button,{type:"text",onClick:()=>a(!n),icon:(0,c.jsx)(u,{name:"swap-horizontal-outline"})})]})},Ye=({label:e="label",title:s="",subTitle:t=null})=>(0,c.jsxs)(o.Space,{direction:"vertical",size:4,children:[(0,c.jsx)(o.Typography.Text,{className:"caption",type:"secondary",children:e}),(0,c.jsx)("span",{children:s}),t&&(0,c.jsx)(o.Typography.Text,{type:"secondary",children:t})]}),He=({value:e=0,sub:s=""})=>(0,c.jsxs)(o.Space,{size:4,align:"baseline",children:[(0,c.jsx)(o.Typography.Title,{level:4,children:e}),s&&(0,c.jsx)(o.Typography.Text,{className:"caption",type:"secondary",children:s})]}),Ke=({poolAddress:e})=>{const s=(0,n.useSelector)((s=>{var t,n,r;return null===(t=s.stat)||void 0===t||null===(n=t[e])||void 0===n||null===(r=n.details)||void 0===r?void 0:r.roi})),[t,a]=(0,l.useState)(0),d=(0,n.useSelector)((e=>e.lpts)),{getMint:u}=(0,r.useMint)(),{pools:p}=(0,r.usePool)(),{mint_lpt:h}=(null===p||void 0===p?void 0:p[e])||{},x=Object.keys(d).find((s=>d[s].pool===e))||"",{amount:y}=d[x]||{},j=Number(i.utils.undecimalize(y||BigInt(0),9)),m=(0,l.useCallback)((e=>s&&e?Math.pow(s/100+1,e)-1:0),[s]),g=(e,s)=>P(e).format(s),f=(0,l.useCallback)((async()=>{if(!i.account.isAddress(h))return 0;const{[h]:{decimals:e,supply:s}}=await u({address:h});a(Number(i.utils.undecimalize(s,e)))}),[u,h]);return(0,l.useEffect)((()=>{f()}),[f]),(0,c.jsx)(o.Card,{bordered:!1,children:(0,c.jsxs)(o.Row,{gutter:[24,24],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Title,{level:4,children:"Liquidity Position"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[20,20],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Ye,{label:"APY",title:(0,c.jsx)(He,{value:g(m(365),"0,0.[00]%")})})}),(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(Ye,{label:"Your LPT",title:(0,c.jsx)(He,{value:g(j,"0,0.[0000]a"),sub:"LPT"})})}),(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(Ye,{label:"Pool Share Composition",title:(0,c.jsxs)(o.Space,{size:4,align:"baseline",children:[(0,c.jsx)(He,{value:8.192,sub:"SEN"}),(0,c.jsx)(o.Typography.Title,{level:5,children:"+"}),(0,c.jsx)(He,{value:8.192,sub:"BTC"})]})})}),(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(Ye,{label:"My Portion",title:(0,c.jsx)(He,{value:g(j/t,"0,0.[00]%")}),subTitle:g(t,"0,0.[0000]a")})}),(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(Ye,{label:"In - Pool Price",title:(0,c.jsx)(Ue,{poolAddress:e})})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Ve,{poolAddress:e})})]})})};let Ge;const Ze=(0,l.forwardRef)((({max:e,onChange:s,...t},n)=>{var r;const[a,i]=(0,l.useState)(""),[d,p]=(0,l.useState)(null),h=(0,l.useRef)(n),x=(0,l.useCallback)((t=>{const n=e=>{Ge&&(clearTimeout(Ge),Ge=void 0),i(e),Ge=setTimeout((()=>i("")),500)};return/^\d*(\.\d*)?$/.test(t)?e&&parseFloat(t)>parseFloat(e)?n("Not enough balance"):s(t):n("Invalid character")}),[e,s]);return null===h||void 0===h||null===(r=h.current)||void 0===r||r.setSelectionRange(d,d),(0,c.jsx)(o.Tooltip,{title:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(u,{name:"warning"}),a]}),visible:!!a,children:(0,c.jsx)(o.Input,{...t,onChange:e=>{p(e.target.selectionStart),x(e.target.value||"")},ref:h})})})),Qe=({title:e,label:s,ratio:t,currentRatio:n="0",onChange:r=(()=>{})})=>(0,c.jsxs)(o.Row,{gutter:[4,4],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:e})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{bodyStyle:{padding:4},bordered:!1,children:(0,c.jsx)(Ze,{placeholder:0,value:t,onChange:r,bordered:!1})})}),(0,c.jsx)(o.Col,{span:24,style:{fontSize:12},children:(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsxs)(o.Typography.Text,{type:"secondary",children:[s,":"]}),(0,c.jsxs)(o.Typography.Text,{children:[n,"%"]})]})})]}),Xe=({address:e})=>{const{pools:s}=(0,r.usePool)(),{wallet:{address:t}}=(0,r.useWallet)(),[n,a]=(0,l.useState)(""),[d,p]=(0,l.useState)(""),[h,x]=(0,l.useState)(!1),y=s[e],{fee_ratio:j,tax_ratio:m}=y||{},g=(0,l.useMemo)((()=>j?i.utils.undecimalize(j,7):"0"),[j]),f=(0,l.useMemo)((()=>m?i.utils.undecimalize(m,7):"0"),[m]);return y&&t===y.owner?(0,c.jsxs)(o.Row,{gutter:[16,24],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[4,4],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Qe,{title:"Fee (%)",label:"Current fee",ratio:n,currentRatio:g,onChange:a})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Qe,{title:"Tax (%)",label:"Current tax",ratio:d,currentRatio:f,onChange:p})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{onClick:async()=>{x(!0);const s=i.utils.decimalize(n||g,7),t=i.utils.decimalize(d||f,7),{swap:r,wallet:o}=window.sentre;if(!o)return;const{txId:l}=await r.updateFee(s,t,e,o);return x(!1),l?(a(""),p(""),window.notify({type:"success",description:"Update fee successfully. Click to view details",onClick:()=>window.open(k(l),"_blank")})):window.notify({type:"error",description:"Update fee make failure."})},icon:(0,c.jsx)(u,{name:"cash-outline"}),block:!0,loading:h,disabled:!d&&!n,children:"Update Fee"})})]}):null};var $e;!function(e){e[e.Frozen=2]="Frozen",e[e.Active=1]="Active"}($e||($e={}));const Je=({poolStatus:e,description:s})=>{const t=e===$e.Active;return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{size:0,children:[(0,c.jsx)(o.Badge,{status:t?"success":"error"}),(0,c.jsxs)(o.Typography.Text,{children:["Current status: ",t?"Active":"Frozen"]})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{bordered:!1,bodyStyle:{padding:16},children:(0,c.jsxs)(o.Space,{size:4,align:"start",children:[(0,c.jsx)(u,{name:"information-circle-outline"}),(0,c.jsx)(o.Space,{direction:"vertical",size:0,children:(0,c.jsx)(o.Typography.Text,{children:s})})]})})})]})},es=({address:e})=>{const{pools:s}=(0,r.usePool)(),{wallet:{address:t}}=(0,r.useWallet)(),[n,a]=(0,l.useState)(!1),i=s[e],d=(0,l.useMemo)((()=>{const e=null===i||void 0===i?void 0:i.state;return e===$e.Active?(0,c.jsx)(Je,{poolStatus:e,description:"Freezing a pool will prevent all actions until the pool has been thawed."}):e===$e.Frozen?(0,c.jsx)(Je,{poolStatus:e,description:"Thaw a pool will active all actions"}):"Pool is closed"}),[null===i||void 0===i?void 0:i.state]);return i&&t===i.owner?(0,c.jsxs)(o.Row,{gutter:[24,24],children:[(0,c.jsx)(o.Col,{span:24,children:d}),(0,c.jsx)(o.Col,{span:24,children:(null===i||void 0===i?void 0:i.state)===$e.Active?(0,c.jsx)(o.Button,{type:"primary",onClick:async()=>{a(!0);const{swap:s,wallet:t}=window.sentre;if(!t)return;const{txId:n}=await s.freezePool(e,t);return a(!1),n?window.notify({type:"success",description:"Freeze the pool successfully. Click to view details",onClick:()=>window.open(k(n),"_blank")}):window.notify({type:"error",description:"Freeze the pool make failure."})},icon:(0,c.jsx)(u,{name:"snow-outline"}),block:!0,loading:n,children:"Freeze Pool"}):(0,c.jsx)(o.Button,{type:"primary",onClick:async()=>{a(!0);const{swap:s,wallet:t}=window.sentre;if(!t)return;const{txId:n}=await s.thawPool(e,t);return a(!1),n?window.notify({type:"success",description:"Thaw the pool successfully. Click to view details",onClick:()=>window.open(k(n),"_blank")}):window.notify({type:"error",description:"Thaw the pool make failure."})},icon:(0,c.jsx)(u,{name:"sunny-outline"}),block:!0,loading:n,children:"Thaw Pool"})})]}):null},ss=({address:e})=>{const{pools:s}=(0,r.usePool)(),{wallet:{address:t}}=(0,r.useWallet)(),[n,a]=(0,l.useState)(""),[d,p]=(0,l.useState)(!1),h=s[e];return h&&t===h.owner?(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{align:"start",children:[(0,c.jsx)(u,{name:"information-circle-outline"}),(0,c.jsx)(o.Typography.Text,{children:"Your current account will lose the pool control when you transfer ownership."})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{bodyStyle:{padding:8},bordered:!1,children:(0,c.jsxs)(o.Row,{gutter:[0,0],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Text,{style:{marginLeft:12,fontSize:12},type:"secondary",children:"Transfer to Owner"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Input,{placeholder:"E.g. AgTMC...",value:n,onChange:e=>a(e.target.value),bordered:!1})})]})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{onClick:async()=>{const{swap:s,wallet:t}=window.sentre;if(!t)return;p(!0);const{txId:r}=await s.transferPoolOwnership(e,n,t);return p(!1),r?window.notify({type:"success",description:"Transfer successfully. Click to view details",onClick:()=>window.open(k(r),"_blank")}):window.notify({type:"error",description:"Transfer make failure."})},icon:(0,c.jsx)(u,{name:"airplane-outline"}),disabled:!i.account.isAddress(n),loading:d,block:!0,children:"Transfer"})})]}):null};function ts({poolAddress:e}){const{wallet:{address:s}}=(0,r.useWallet)(),{pools:t}=(0,r.usePool)(),n=null===t||void 0===t?void 0:t[e];return n&&s===n.owner?(0,c.jsx)(o.Col,{xs:24,lg:12,children:(0,c.jsx)(o.Card,{style:{minHeight:285},bodyStyle:{padding:0},bordered:!1,children:(0,c.jsxs)(o.Tabs,{style:{padding:24},children:[(0,c.jsx)(o.Tabs.TabPane,{tab:"Freeze/Thaw",children:(0,c.jsx)(es,{address:e})},"freeze-thaw"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Fee",children:(0,c.jsx)(Xe,{address:e})},"fee"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Transfer Owner",children:(0,c.jsx)(ss,{address:e})},"transfer-owner")]})})}):null}var ns=t(76907),rs=t.n(ns),os=t(21111),ls=t.n(os);const as=({chartData:e=[],labels:s=[],type:t="line",configs:n,disableAxe:r=!1,chartId:o="sen_chart"})=>{const{backgroundColor:a}=n||{},[i,d]=(0,l.useState)(!1),u=(0,l.useCallback)(((e,s,t)=>({labels:s,datasets:[{...n,data:e,backgroundColor:t}]})),[n]),p=(0,l.useRef)(null),h=(0,l.useCallback)((()=>{var e,s;if(!p||!a)return"#dadada";const n=null===p||void 0===p||null===(e=p.current)||void 0===e||null===(s=e.canvas)||void 0===s?void 0:s.getContext("2d"),r=null===n||void 0===n?void 0:n.createLinearGradient(0,0,0,270);null===r||void 0===r||r.addColorStop(0,a),null===r||void 0===r||r.addColorStop(1,`${a}00`);return"line"===t?r:a}),[a,t]);return(0,l.useEffect)((()=>{var t;const n=p.current,r=null===n||void 0===n||null===(t=n.data.datasets)||void 0===t?void 0:t.find((({data:e})=>e)),o=ls()(null===r||void 0===r?void 0:r.data,e);n&&!o&&(n.data=u(e,s,h()),null===n||void 0===n||n.update())}),[e,u,h,s]),(0,c.jsx)("canvas",{id:o,height:"270",ref:e=>{if(!e)return;const s=e.getContext("2d");s&&!i&&(p.current=new(rs())(s,{type:t,data:{labels:[],datasets:[{data:[]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawBorder:!1,display:!1},ticks:{display:!r}}],yAxes:[{gridLines:{drawBorder:!1,display:!1},ticks:{display:!r,beginAtZero:!1,maxTicksLimit:8,callback:function(e,s,t){return P(e).format("0,0.[0]a")}}}]},plugins:{legend:!1},hover:{onHover:(e,s)=>{const t=document.getElementById(o);t&&(t.style.cursor=s[0]?"pointer":"default")}}}}),d(!0))}})},is="#40A9FF",ds=0,cs=14,us="TVL",ps="transparent",hs=()=>{const e={borderColor:ps,borderRadius:ds,pointRadius:ds,tooltip:us,pointHitRadius:cs,pointHoverRadius:ds,backgroundColor:is};return(0,c.jsx)(o.Card,{bordered:!1,style:{height:"auto"},children:(0,c.jsxs)(o.Row,{gutter:[24,24],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Title,{level:4,children:"Total Value Locked"})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Typography.Title,{level:2,children:"$123.5M"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(as,{chartData:[12,3,4,12,51,2],labels:["20/10","21/10","22/10","23/10","24/10","25/10"],configs:e})})]})})},xs="#40A9FF",ys=0,js=14,ms="TVL",gs="transparent",fs=()=>{const e={borderColor:gs,borderRadius:ys,pointRadius:ys,tooltip:ms,pointHitRadius:js,pointHoverRadius:ys,backgroundColor:xs};return(0,c.jsx)(o.Card,{bordered:!1,style:{height:384},children:(0,c.jsxs)(o.Row,{gutter:[24,24],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Title,{level:4,children:"24h Volume"})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Typography.Title,{level:2,children:"$123.5M"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(as,{type:"bar",chartData:[12,3,4,12,51,2],labels:["20/10","21/10","22/10","23/10","24/10","25/10"],configs:e})})]})})},vs=()=>{const{selectedPoolAddress:e}=(0,n.useSelector)((e=>e.main));return(0,c.jsxs)(o.Row,{gutter:[24,24],children:[(0,c.jsx)(o.Col,{xs:24,lg:12,children:(0,c.jsx)(hs,{})}),(0,c.jsx)(o.Col,{xs:24,lg:12,children:(0,c.jsx)(fs,{})}),(0,c.jsx)(o.Col,{xs:24,lg:12,children:(0,c.jsx)(Ke,{poolAddress:e})}),(0,c.jsx)(o.Col,{xs:24,lg:12,children:(0,c.jsx)(Ie,{})}),(0,c.jsx)(ts,{poolAddress:e})]})},ws=({width:e})=>{const s=(0,n.useDispatch)();return e>1200?null:(0,c.jsx)(o.Affix,{style:{position:"fixed",bottom:80,right:0},children:(0,c.jsx)(o.Button,{type:"primary",onClick:()=>s(oe(!0)),icon:(0,c.jsx)(u,{name:"list-outline"}),children:"Pools"})})},bs="lpts",Cs=(0,L.createAsyncThunk)("lpts/getLPTs",(async({accounts:e})=>{const{splt:s,swap:t}=window.sentre,n=e.map((({mint:e})=>e)).map((e=>i.account.fromAddress(e))),r=(await i.utils.wrappedGetMultipleAccountsInfo(s.connection,n)).map((e=>null!==e&&void 0!==e&&e.data?s.parseMintData(e.data):null));if(null===r||void 0===r||!r.length)return{};const o=await Promise.all(r.map((async e=>{try{const{mint_authority:s,freeze_authority:n}=e||{};if(!i.account.isAddress(s)||!i.account.isAddress(n))return;return await t.derivePoolAddress(s,n)}catch(s){return}})));let l={};return e.forEach((({address:e,...s},t)=>{const n=o[t];i.account.isAddress(n)&&(l[e]={...s,pool:n})})),l})),Ts=(0,L.createAsyncThunk)("lpts/getLPT",(async({address:e},{getState:s})=>{if(!i.account.isAddress(e))throw new Error("Invalid account address");const{lpts:{[e]:t}}=s();if(t)return{[e]:t};const{swap:n}=window.sentre;return{[e]:await n.getLPTData(e)}})),Ss=(0,L.createAsyncThunk)("lpts/upsetLPT",(async({address:e,data:s},{getState:t})=>{if(!i.account.isAddress(e))throw new Error("Invalid address");if(!s)throw new Error("Data is empty");const{lpts:{[e]:n}}=t(),{pool:r}=n||{};if(i.account.isAddress(r))return{[e]:{...s,pool:r}};const{swap:o}=window.sentre;return{[e]:await o.getLPTData(e)}})),As=(0,L.createAsyncThunk)("lpts/deleteLPT",(async({address:e})=>{if(!i.account.isAddress(e))throw new Error("Invalid address");return{address:e}})),ks=(0,L.createSlice)({name:bs,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Cs.fulfilled,((e,{payload:s})=>s)).addCase(Ts.fulfilled,((e,{payload:s})=>{Object.assign(e,s)})).addCase(Ss.fulfilled,((e,{payload:s})=>{Object.assign(e,s)})).addCase(As.fulfilled,((e,{payload:s})=>{delete e[s.address]}))}}).reducer;let Ps=0;const Rs=()=>{const e=(0,n.useDispatch)(),{accounts:s}=(0,r.useAccount)(),{wallet:{address:t}}=(0,r.useWallet)(),o=(0,l.useMemo)((()=>Object.keys(s).map((e=>({address:e,...s[e]})))),[s]),a=(0,l.useCallback)((async()=>{try{await e(Cs({accounts:o})).unwrap()}catch(s){await je(s)}}),[e,o]),i=(0,l.useCallback)((async()=>{if(Ps)return console.warn("Already watched");const s=[{memcmp:{bytes:t,offset:32}}];Ps=window.sentre.splt.watch(((s,t)=>{if(s)return console.error(s);const{address:n,data:r}=t;return e(Ss({address:n,data:r}))}),s)}),[e,t]);return(0,l.useEffect)((()=>(a(),i(),()=>{(async()=>{try{await window.sentre.splt.unwatch(Ps)}catch(e){}})(),Ps=0})),[a,i]),(0,c.jsx)(l.Fragment,{})},zs=()=>{const{ui:{width:e}}=(0,r.useUI)(),s=e<1200,t=(0,n.useDispatch)(),l=(0,n.useSelector)((e=>{var s;return null===(s=e.main)||void 0===s?void 0:s.visible}));return(0,c.jsxs)(o.Row,{gutter:[24,24],children:[s?(0,c.jsx)(o.Modal,{visible:l,onCancel:()=>t(oe(!1)),footer:null,centered:!0,forceRender:!0,title:(0,c.jsx)(o.Typography.Title,{level:4,children:"Pool Selection"}),children:(0,c.jsx)(o.Row,{gutter:[16,16],children:(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(be,{})})})}):(0,c.jsx)(o.Col,{lg:8,xl:6,children:(0,c.jsx)(be,{})}),(0,c.jsx)(o.Col,{xs:24,lg:24,xl:18,children:(0,c.jsx)(vs,{})}),(0,c.jsx)(ws,{width:e}),(0,c.jsx)(Rs,{})]})},Bs=()=>{const e=(0,n.useDispatch)();return(0,l.useEffect)((()=>{e(re("hot"))}),[e]),(0,c.jsxs)(o.Row,{gutter:24,align:"middle",className:"header-widget",children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{style:{color:"#e9e9eb "},children:"Pools list by"})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Select,{defaultValue:"hot",onChange:s=>{e(re(s))},className:"header-select",children:[(0,c.jsx)(o.Select.Option,{value:"hot",children:"Hot"}),(0,c.jsx)(o.Select.Option,{value:"deposited",children:"Deposited"}),(0,c.jsx)(o.Select.Option,{value:"your-pools",children:"Your pools"})]})})]})},Ls=({poolAddress:e})=>{const s=(0,a.useHistory)(),t=t=>{s.push({pathname:"/app/sen_swap",state:{poolAddress:e,isBestRoute:t}})};return(0,c.jsxs)(o.Row,{gutter:[24,12],style:{width:260},children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{direction:"vertical",size:0,children:[(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(u,{style:{color:"#FA8C16"},name:"alert-circle-outline"}),(0,c.jsx)(o.Typography.Title,{level:5,children:"Choose the route?"})]}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"We recommend choosing the best route to optimize the price."})]})}),(0,c.jsx)(o.Col,{style:{textAlign:"right"},span:24,children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Button,{size:"small",onClick:()=>t(!1),children:"Original route"}),(0,c.jsx)(o.Button,{size:"small",onClick:()=>t(!0),type:"primary",children:"Best route"})]})})]})},Is=({data:e,onClick:s=(()=>{}),action:t=(0,c.jsx)(l.Fragment,{}),keyExpand:n})=>{var a;const{pool:d,amount:p}=e,[h,x]=(0,l.useState)(!1),y=i.utils.undecimalize(p,9),{pools:j}=(0,r.usePool)(),m=e.state===z.Frozen,g=(null===j||void 0===j||null===(a=j[d])||void 0===a?void 0:a.mint_lpt)||"",f=h?"":"expandHidden",v=n.toString();return(0,c.jsxs)(o.Card,{bodyStyle:{padding:12,minHeight:78},hoverable:!0,children:[(0,c.jsxs)(o.Row,{gutter:[12,12],align:"top",children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{direction:"vertical",children:[(0,c.jsxs)(o.Space,{size:"middle",children:[(0,c.jsx)(Q,{mintAddress:g,size:24}),(0,c.jsx)(o.Typography.Text,{type:m?"secondary":void 0,children:(0,c.jsx)(X,{mintAddress:g})})]}),(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Tooltip,{title:"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"TVL:"})}),(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(R,{poolAddress:d})}),(0,c.jsx)(o.Divider,{type:"vertical",style:{margin:0}}),(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"My LPT:"}),(0,c.jsx)(o.Typography.Text,{children:P(y).format("0,0.[00]")})]})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:2,children:[(0,c.jsx)(B,{poolAddress:d}),t,(0,c.jsx)(o.Button,{size:"small",type:"text",icon:(0,c.jsx)(u,{name:h?"chevron-down-outline":"chevron-forward-outline"}),onClick:()=>x(!h)})]})})]}),(0,c.jsx)(o.Collapse,{className:f,style:{marginTop:16},ghost:!0,activeKey:v,bordered:!1,children:(0,c.jsx)(o.Collapse.Panel,{header:"",children:(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(o.Popover,{trigger:"click",placement:"bottomLeft",content:(0,c.jsx)(Ls,{poolAddress:d}),children:(0,c.jsx)(o.Button,{block:!0,children:"Swap"})})}),(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(o.Button,{onClick:s,block:!0,type:"primary",children:"Detail"})})]})},v)})]})},Es=({onInit:e=(()=>{}),onClick:s=(()=>{}),action:t=(()=>(0,c.jsx)(l.Fragment,{}))})=>{const a=(0,n.useSelector)((e=>e.lpts)),i=(0,n.useSelector)((e=>e.main.selectedCategoryPool)),{pools:d}=(0,r.usePool)(),{wallet:{address:u}}=(0,r.useWallet)(),p=(0,l.useMemo)((()=>Object.keys(a).filter((e=>{const{pool:s}=a[e];return"deposited"===i&&d[s].owner!==u||"your-pools"===i?d[s]:null}))),[d,a,u,i]);return(0,l.useEffect)((()=>{p.length&&e(p[0])}),[e,p,a]),(0,c.jsx)(o.Row,{gutter:[12,12],children:p.map(((e,n)=>{const{pool:r}=a[e];return(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(ee.ZP,{height:78,overflow:!0,children:(0,c.jsx)(Is,{keyExpand:n+1,data:a[e],action:t(e,r),onClick:()=>s(r)})})},e+n)}))})},Ns=({data:e,onClick:s=(()=>{}),action:t=(0,c.jsx)(l.Fragment,{}),keyExpand:a})=>{var i;const{address:d,state:p}=e,h=(0,n.useDispatch)(),[x,y]=(0,l.useState)(!1),{pools:j}=(0,r.usePool)(),m=(0,n.useSelector)((s=>{var t;return null===(t=s.stat[e.address])||void 0===t?void 0:t.details})),g=null===j||void 0===j||null===(i=j[d])||void 0===i?void 0:i.mint_lpt,f=(0,l.useMemo)((()=>{if(!m||!m.roi)return 0;const e=m.roi;return Math.pow(1+Number(e)/100,365)-1}),[m]);(0,l.useEffect)((()=>{d&&h(K({address:d}))}),[h,d]);const v=p===z.Frozen,w=x?"":"expandHidden",b=a.toString();return(0,c.jsxs)(o.Card,{bodyStyle:{padding:12,minHeight:78},hoverable:!0,children:[(0,c.jsxs)(o.Row,{gutter:[12,12],align:"top",children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{direction:"vertical",children:[(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(Q,{mintAddress:g,size:24}),(0,c.jsx)(o.Typography.Text,{type:v?"secondary":void 0,children:(0,c.jsx)(X,{mintAddress:g})})]}),(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Tooltip,{title:"The Total Value Locked is roughly estimated and perhaps inaccurate because unknown tokens ain't involved in the computation.",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"TVL:"})}),(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(R,{poolAddress:d})}),(0,c.jsx)(o.Divider,{type:"vertical",style:{margin:0}}),(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"APY:"}),(0,c.jsx)(o.Typography.Text,{children:P(f).format("0,0.[00]%")})]})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:2,children:[(0,c.jsx)(B,{poolAddress:d}),t,(0,c.jsx)(o.Button,{size:"small",type:"text",icon:(0,c.jsx)(u,{name:x?"chevron-down-outline":"chevron-forward-outline"}),onClick:()=>y(!x)})]})})]}),(0,c.jsx)(o.Collapse,{className:w,style:{marginTop:16},ghost:!0,activeKey:b,bordered:!1,children:(0,c.jsx)(o.Collapse.Panel,{header:"",children:(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(o.Popover,{trigger:"click",placement:"bottomLeft",content:(0,c.jsx)(Ls,{poolAddress:d}),children:(0,c.jsx)(o.Button,{block:!0,children:"Swap"})})}),(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(o.Button,{onClick:s,block:!0,type:"primary",children:"Detail"})})]})},b)})]})},Ms=({onInit:e=(()=>{}),onClick:s=(()=>{}),action:t=(()=>(0,c.jsx)(l.Fragment,{}))})=>{const{pools:n}=(0,r.usePool)(),a=(0,l.useMemo)((()=>Object.keys(n).map((e=>({address:e,...n[e]})))),[n]);return(0,l.useEffect)((()=>{var s;a.length&&e(null===(s=a[0])||void 0===s?void 0:s.address)}),[e,a]),(0,c.jsx)(o.Row,{gutter:[12,12],children:a.map(((e,n)=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(ee.ZP,{height:78,overflow:!0,children:(0,c.jsx)(Ns,{data:e,action:t(e.address),onClick:()=>s(e.address),keyExpand:n+1})})},e.address+n)))})},_s=()=>{const e=(0,n.useDispatch)(),s=(0,n.useSelector)((e=>e.main.selectedCategoryPool)),t=(0,a.useHistory)(),r=(0,l.useCallback)((s=>{e(ne(s)),e(oe(!1)),t.push("app/senhub")}),[e,t]);return(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Bs,{})}),(0,c.jsx)(o.Col,{children:"hot"===s?(0,c.jsx)(Ms,{onClick:r}):(0,c.jsx)(Es,{onClick:r})}),(0,c.jsx)(Rs,{})]})};BigInt.prototype.toJSON=function(){return this.toString()};const Fs={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const s=Object.getPrototypeOf(e);return null!==s&&null===Object.getPrototypeOf(s)})(e)||"bigint"===typeof e}},Ds=(0,L.configureStore)({middleware:e=>e(Fs),devTools:!1,reducer:{main:le,stat:G,lpts:ks}}),{manifest:{appId:Os}}=D,qs=()=>(0,c.jsx)(r.UIProvider,{appId:Os,antd:!0,children:(0,c.jsx)(r.MintProvider,{children:(0,c.jsx)(r.PoolProvider,{children:(0,c.jsx)(r.AccountProvider,{children:(0,c.jsx)(r.WalletProvider,{children:(0,c.jsx)(n.Provider,{store:Ds,children:(0,c.jsx)(zs,{})})})})})})}),Vs={size:"small",type:"solid"},Ws=()=>(0,c.jsx)(r.MintProvider,{children:(0,c.jsx)(r.UIProvider,{appId:Os,antd:!0,children:(0,c.jsx)(r.PoolProvider,{children:(0,c.jsx)(r.AccountProvider,{children:(0,c.jsx)(r.WalletProvider,{children:(0,c.jsx)(n.Provider,{store:Ds,children:(0,c.jsx)(_s,{})})})})})})})},31633:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var n=t(63805),r=t(77566),o=t(77330);const l={sol:r.Z[n.ef],register:o.Z[n.OB]}},77330:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});const n={sen_lp:{url:"https://descartesnetwork.github.io/sen-lp/index.js",appId:"sen_lp",name:"Sen LP",author:{name:"Sentre",email:"hi@sentre.io"},supportedViews:"page,widget".split(",").map((e=>e.trim())).filter((e=>["page","widget"].includes(e))),tags:"solana,dapps,liquidity".split(",").map((e=>e.trim())),description:"Liquidity Provision to pools in the Sentre ecosystem",verified:!1}},r={development:{extra:n,senreg:"https://descartesnetwork.github.io/senreg/register.json"},staging:{extra:n,senreg:"https://descartesnetwork.github.io/senreg/register.json"},production:{extra:{},senreg:"https://descartesnetwork.github.io/senreg/register.json"}}},77566:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});const n={spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},r={devnet:{...n,node:"https://api.devnet.solana.com",chainId:103,senAddress:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",senPoolAddress:"3EUPL7YQLbU6DNU5LZeQeHPXTf1MigJ2yASXA9rH5Ku4",swapAddress:"4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF",taxmanAddress:"8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9"},testnet:{...n,node:"https://api.testnet.solana.com",chainId:102,senAddress:"",senPoolAddress:"",swapAddress:"",taxmanAddress:""},mainnet:{...n,node:"https://api.mainnet-beta.solana.com",chainId:101,senAddress:"SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M",senPoolAddress:"",swapAddress:"SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV",taxmanAddress:"9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e"}}},63805:(e,s,t)=>{"use strict";t.d(s,{OB:()=>r,ef:()=>o});var n=t(53933);const r="production",o=(()=>{switch(n.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}})()},53933:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const n="sentre",r=window.localStorage,o=e=>{if(!e)return null;try{return JSON.parse(e)}catch(s){return null}},l={set:(e,s)=>{let t=o(r.getItem(n));t&&"object"===typeof t||(t={}),t[e]=s,r.setItem(n,JSON.stringify(t))},get:e=>{let s=o(r.getItem(n));return s&&"object"===typeof s?s[e]:null},clear:e=>{l.set(e,null)}},a=l},46601:()=>{},89214:()=>{},85568:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=770.a8cbfea5.chunk.js.map