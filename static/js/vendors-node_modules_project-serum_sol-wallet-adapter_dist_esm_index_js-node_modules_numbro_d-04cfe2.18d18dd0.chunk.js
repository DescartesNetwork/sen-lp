(globalThis.webpackChunksen_lp=globalThis.webpackChunksen_lp||[]).push([["vendors-node_modules_project-serum_sol-wallet-adapter_dist_esm_index_js-node_modules_numbro_d-04cfe2"],{12053:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(48449),i=r.n(n),s=r(71256),o=r(68532),a=r.n(o),c=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class u extends(i()){constructor(e,t){if(super(),this._network=t,this._publicKey=null,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._autoApprove=!1,this._responsePromises=new Map,this.handleMessage=e=>{var t;if(this._injectedProvider&&e.source===window||e.origin===(null===(t=this._providerUrl)||void 0===t?void 0:t.origin)&&e.source===this._popup)if("connected"===e.data.method){const t=new s.PublicKey(e.data.params.publicKey);this._publicKey&&this._publicKey.equals(t)||(this._publicKey&&!this._publicKey.equals(t)&&this.handleDisconnect(),this._publicKey=t,this._autoApprove=!!e.data.params.autoApprove,this.emit("connect",this._publicKey))}else if("disconnected"===e.data.method)this.handleDisconnect();else if(e.data.result||e.data.error){const t=this._responsePromises.get(e.data.id);if(t){const[r,n]=t;e.data.result?r(e.data.result):n(new Error(e.data.error))}}},this._beforeUnload=()=>{this.disconnect()},function(e){return"object"===typeof e&&null!==e}(r=e)&&"postMessage"in r&&"function"===typeof r.postMessage)this._injectedProvider=e;else{if(!function(e){return"string"===typeof e}(e))throw new Error("provider parameter must be an injected provider or a URL string.");this._providerUrl=new URL(e),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:this._network}).toString()}var r}handleConnect(){var e;return this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this.handleMessage),window.addEventListener("beforeunload",this._beforeUnload)),this._injectedProvider?new Promise((e=>{this.sendRequest("connect",{}),e()})):(window.name="parent",this._popup=window.open(null===(e=this._providerUrl)||void 0===e?void 0:e.toString(),"_blank","location,resizable,width=460,height=675"),new Promise((e=>{this.once("connect",e)})))}handleDisconnect(){this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this.handleMessage),window.removeEventListener("beforeunload",this._beforeUnload)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(((e,t)=>{let[,r]=e;this._responsePromises.delete(t),r(new Error("Wallet disconnected"))}))}sendRequest(e,t){return c(this,void 0,void 0,(function*(){if("connect"!==e&&!this.connected)throw new Error("Wallet not connected");const r=this._nextRequestId;return++this._nextRequestId,new Promise(((n,i)=>{var s,o,a,c;this._responsePromises.set(r,[n,i]),this._injectedProvider?this._injectedProvider.postMessage({jsonrpc:"2.0",id:r,method:e,params:Object.assign({network:this._network},t)}):(null===(s=this._popup)||void 0===s||s.postMessage({jsonrpc:"2.0",id:r,method:e,params:t},null!==(a=null===(o=this._providerUrl)||void 0===o?void 0:o.origin)&&void 0!==a?a:""),this.autoApprove||null===(c=this._popup)||void 0===c||c.focus())}))}))}get publicKey(){return this._publicKey}get connected(){return null!==this._publicKey}get autoApprove(){return this._autoApprove}connect(){return c(this,void 0,void 0,(function*(){this._popup&&this._popup.close(),yield this.handleConnect()}))}disconnect(){return c(this,void 0,void 0,(function*(){this._injectedProvider&&(yield this.sendRequest("disconnect",{})),this._popup&&this._popup.close(),this.handleDisconnect()}))}sign(e,t){return c(this,void 0,void 0,(function*(){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const r=yield this.sendRequest("sign",{data:e,display:t});return{signature:a().decode(r.signature),publicKey:new s.PublicKey(r.publicKey)}}))}signTransaction(e){return c(this,void 0,void 0,(function*(){const t=yield this.sendRequest("signTransaction",{message:a().encode(e.serializeMessage())}),r=a().decode(t.signature),n=new s.PublicKey(t.publicKey);return e.addSignature(n,r),e}))}signAllTransactions(e){return c(this,void 0,void 0,(function*(){const t=yield this.sendRequest("signAllTransactions",{messages:e.map((e=>a().encode(e.serializeMessage())))}),r=t.signatures.map((e=>a().decode(e))),n=new s.PublicKey(t.publicKey);return e=e.map(((e,t)=>(e.addSignature(n,r[t]),e)))}))}diffieHellman(e){return c(this,void 0,void 0,(function*(){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return yield this.sendRequest("diffieHellman",{publicKey:e})}))}}},71256:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Account:()=>Vt,Authorized:()=>Ii,BLOCKHASH_CACHE_TIMEOUT_MS:()=>$r,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Zt,BPF_LOADER_PROGRAM_ID:()=>Or,BpfLoader:()=>Nr,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Cr,ComputeBudgetInstruction:()=>Tr,ComputeBudgetProgram:()=>Wr,Connection:()=>ki,Ed25519Program:()=>_i,Enum:()=>Lt,EpochSchedule:()=>Dr,FeeCalculatorLayout:()=>wr,Keypair:()=>wi,LAMPORTS_PER_SOL:()=>Xi,Loader:()=>Br,Lockup:()=>Ai,MAX_SEED_LENGTH:()=>Kt,Message:()=>tr,NONCE_ACCOUNT_LENGTH:()=>_r,NonceAccount:()=>Sr,PACKET_DATA_SIZE:()=>$t,PublicKey:()=>Dt,SIGNATURE_LENGTH_IN_BYTES:()=>Jt,SOLANA_SCHEMA:()=>Mt,STAKE_CONFIG_ID:()=>Si,STAKE_INSTRUCTION_LAYOUTS:()=>Pi,SYSTEM_INSTRUCTION_LAYOUTS:()=>Pr,SYSVAR_CLOCK_PUBKEY:()=>ar,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>cr,SYSVAR_INSTRUCTIONS_PUBKEY:()=>ur,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>lr,SYSVAR_RENT_PUBKEY:()=>hr,SYSVAR_REWARDS_PUBKEY:()=>dr,SYSVAR_SLOT_HASHES_PUBKEY:()=>gr,SYSVAR_SLOT_HISTORY_PUBKEY:()=>pr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>fr,Secp256k1Program:()=>Ti,SendTransactionError:()=>qr,StakeAuthorizationLayout:()=>xi,StakeInstruction:()=>Ei,StakeProgram:()=>Ri,Struct:()=>zt,SystemInstruction:()=>Er,SystemProgram:()=>xr,Transaction:()=>or,TransactionInstruction:()=>sr,TransactionStatus:()=>nr,VALIDATOR_INFO_KEY:()=>Ci,VOTE_PROGRAM_ID:()=>zi,ValidatorInfo:()=>Ui,VoteAccount:()=>Mi,VoteAuthorizationLayout:()=>Hi,VoteInit:()=>ji,VoteInstruction:()=>Fi,VoteProgram:()=>Vi,clusterApiUrl:()=>Ji,sendAndConfirmRawTransaction:()=>Zi,sendAndConfirmTransaction:()=>mr});var n=r(44967),i=r.n(n),s=r(97713),o=r(48744),a=r.n(o),c=r(68532),u=r.n(c),l=r(21215),h=r(25047),d=r(68706),g=r(54338),p=r(85606),f=r(32908),m=r.n(f),y=r(91747),b=r.n(y),k=r(16348),w=r.n(k);const v=e=>s.lW.isBuffer(e)?e:e instanceof Uint8Array?s.lW.from(e.buffer,e.byteOffset,e.byteLength):s.lW.from(e);var _={},S={},I=A;function A(e,t){if(!e)throw new Error(t||"Assertion failed")}A.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var E={exports:{}};"function"===typeof Object.create?E.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:E.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var P=I,x=E.exports;function R(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function B(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function O(e){return 1===e.length?"0"+e:e}function N(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}S.inherits=x,S.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):R(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},S.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=O(e[r].toString(16));return t},S.htonl=B,S.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=B(i)),r+=N(i.toString(16))}return r},S.zero2=O,S.zero8=N,S.join32=function(e,t,r,n){var i=r-t;P(i%4===0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var c;c="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=c>>>0}return s},S.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},S.rotr32=function(e,t){return e>>>t|e<<32-t},S.rotl32=function(e,t){return e<<t|e>>>32-t},S.sum32=function(e,t){return e+t>>>0},S.sum32_3=function(e,t,r){return e+t+r>>>0},S.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},S.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},S.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s},S.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},S.sum64_lo=function(e,t,r,n){return t+n>>>0},S.sum64_4_hi=function(e,t,r,n,i,s,o,a){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+s>>>0)<s?1:0,e+r+i+o+(c+=(u=u+a>>>0)<a?1:0)>>>0},S.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},S.sum64_5_hi=function(e,t,r,n,i,s,o,a,c,u){var l=0,h=t;return l+=(h=h+n>>>0)<t?1:0,l+=(h=h+s>>>0)<s?1:0,l+=(h=h+a>>>0)<a?1:0,e+r+i+o+c+(l+=(h=h+u>>>0)<u?1:0)>>>0},S.sum64_5_lo=function(e,t,r,n,i,s,o,a,c,u){return t+n+s+a+u>>>0},S.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},S.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},S.shr64_hi=function(e,t,r){return e>>>r},S.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var T={},C=S,W=I;function U(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}T.BlockHash=U,U.prototype.update=function(e,t){if(e=C.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=C.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},U.prototype.digest=function(e){return this.update(this._pad()),W(null===this.pending),this._digest(e)},U.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var z={},L={},M=S.rotr32;function K(e,t,r){return e&t^~e&r}function D(e,t,r){return e&t^e&r^t&r}function q(e,t,r){return e^t^r}L.ft_1=function(e,t,r,n){return 0===e?K(t,r,n):1===e||3===e?q(t,r,n):2===e?D(t,r,n):void 0},L.ch32=K,L.maj32=D,L.p32=q,L.s0_256=function(e){return M(e,2)^M(e,13)^M(e,22)},L.s1_256=function(e){return M(e,6)^M(e,11)^M(e,25)},L.g0_256=function(e){return M(e,7)^M(e,18)^e>>>3},L.g1_256=function(e){return M(e,17)^M(e,19)^e>>>10};var j=S,F=T,G=L,H=j.rotl32,V=j.sum32,Z=j.sum32_5,$=G.ft_1,J=F.BlockHash,X=[1518500249,1859775393,2400959708,3395469782];function Y(){if(!(this instanceof Y))return new Y;J.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}j.inherits(Y,J);var Q=Y;Y.blockSize=512,Y.outSize=160,Y.hmacStrength=80,Y.padLength=64,Y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=H(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=Z(H(i,5),$(u,s,o,a),c,r[n],X[u]);c=a,a=o,o=H(s,30),s=i,i=l}this.h[0]=V(this.h[0],i),this.h[1]=V(this.h[1],s),this.h[2]=V(this.h[2],o),this.h[3]=V(this.h[3],a),this.h[4]=V(this.h[4],c)},Y.prototype._digest=function(e){return"hex"===e?j.toHex32(this.h,"big"):j.split32(this.h,"big")};var ee=S,te=T,re=L,ne=I,ie=ee.sum32,se=ee.sum32_4,oe=ee.sum32_5,ae=re.ch32,ce=re.maj32,ue=re.s0_256,le=re.s1_256,he=re.g0_256,de=re.g1_256,ge=te.BlockHash,pe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function fe(){if(!(this instanceof fe))return new fe;ge.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=pe,this.W=new Array(64)}ee.inherits(fe,ge);var me=fe;fe.blockSize=512,fe.outSize=256,fe.hmacStrength=192,fe.padLength=64,fe.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=se(de(r[n-2]),r[n-7],he(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],h=this.h[7];for(ne(this.k.length===r.length),n=0;n<r.length;n++){var d=oe(h,le(c),ae(c,u,l),this.k[n],r[n]),g=ie(ue(i),ce(i,s,o));h=l,l=u,u=c,c=ie(a,d),a=o,o=s,s=i,i=ie(d,g)}this.h[0]=ie(this.h[0],i),this.h[1]=ie(this.h[1],s),this.h[2]=ie(this.h[2],o),this.h[3]=ie(this.h[3],a),this.h[4]=ie(this.h[4],c),this.h[5]=ie(this.h[5],u),this.h[6]=ie(this.h[6],l),this.h[7]=ie(this.h[7],h)},fe.prototype._digest=function(e){return"hex"===e?ee.toHex32(this.h,"big"):ee.split32(this.h,"big")};var ye=S,be=me;function ke(){if(!(this instanceof ke))return new ke;be.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ye.inherits(ke,be);var we=ke;ke.blockSize=512,ke.outSize=224,ke.hmacStrength=192,ke.padLength=64,ke.prototype._digest=function(e){return"hex"===e?ye.toHex32(this.h.slice(0,7),"big"):ye.split32(this.h.slice(0,7),"big")};var ve=S,_e=T,Se=I,Ie=ve.rotr64_hi,Ae=ve.rotr64_lo,Ee=ve.shr64_hi,Pe=ve.shr64_lo,xe=ve.sum64,Re=ve.sum64_hi,Be=ve.sum64_lo,Oe=ve.sum64_4_hi,Ne=ve.sum64_4_lo,Te=ve.sum64_5_hi,Ce=ve.sum64_5_lo,We=_e.BlockHash,Ue=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ze(){if(!(this instanceof ze))return new ze;We.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ue,this.W=new Array(160)}ve.inherits(ze,We);var Le=ze;function Me(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function Ke(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function De(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function qe(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function je(e,t){var r=Ie(e,t,28)^Ie(t,e,2)^Ie(t,e,7);return r<0&&(r+=4294967296),r}function Fe(e,t){var r=Ae(e,t,28)^Ae(t,e,2)^Ae(t,e,7);return r<0&&(r+=4294967296),r}function Ge(e,t){var r=Ie(e,t,14)^Ie(e,t,18)^Ie(t,e,9);return r<0&&(r+=4294967296),r}function He(e,t){var r=Ae(e,t,14)^Ae(e,t,18)^Ae(t,e,9);return r<0&&(r+=4294967296),r}function Ve(e,t){var r=Ie(e,t,1)^Ie(e,t,8)^Ee(e,t,7);return r<0&&(r+=4294967296),r}function Ze(e,t){var r=Ae(e,t,1)^Ae(e,t,8)^Pe(e,t,7);return r<0&&(r+=4294967296),r}function $e(e,t){var r=Ie(e,t,19)^Ie(t,e,29)^Ee(e,t,6);return r<0&&(r+=4294967296),r}function Je(e,t){var r=Ae(e,t,19)^Ae(t,e,29)^Pe(e,t,6);return r<0&&(r+=4294967296),r}ze.blockSize=1024,ze.outSize=512,ze.hmacStrength=192,ze.padLength=128,ze.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=$e(r[n-4],r[n-3]),s=Je(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],c=Ve(r[n-30],r[n-29]),u=Ze(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=Oe(i,s,o,a,c,u,l,h),r[n+1]=Ne(i,s,o,a,c,u,l,h)}},ze.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],h=this.h[8],d=this.h[9],g=this.h[10],p=this.h[11],f=this.h[12],m=this.h[13],y=this.h[14],b=this.h[15];Se(this.k.length===r.length);for(var k=0;k<r.length;k+=2){var w=y,v=b,_=Ge(h,d),S=He(h,d),I=Me(h,d,g,p,f),A=Ke(h,d,g,p,f,m),E=this.k[k],P=this.k[k+1],x=r[k],R=r[k+1],B=Te(w,v,_,S,I,A,E,P,x,R),O=Ce(w,v,_,S,I,A,E,P,x,R);w=je(n,i),v=Fe(n,i),_=De(n,i,s,o,a),S=qe(n,i,s,o,a,c);var N=Re(w,v,_,S),T=Be(w,v,_,S);y=f,b=m,f=g,m=p,g=h,p=d,h=Re(u,l,B,O),d=Be(l,l,B,O),u=a,l=c,a=s,c=o,s=n,o=i,n=Re(B,O,N,T),i=Be(B,O,N,T)}xe(this.h,0,n,i),xe(this.h,2,s,o),xe(this.h,4,a,c),xe(this.h,6,u,l),xe(this.h,8,h,d),xe(this.h,10,g,p),xe(this.h,12,f,m),xe(this.h,14,y,b)},ze.prototype._digest=function(e){return"hex"===e?ve.toHex32(this.h,"big"):ve.split32(this.h,"big")};var Xe=S,Ye=Le;function Qe(){if(!(this instanceof Qe))return new Qe;Ye.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Xe.inherits(Qe,Ye);var et=Qe;Qe.blockSize=1024,Qe.outSize=384,Qe.hmacStrength=192,Qe.padLength=128,Qe.prototype._digest=function(e){return"hex"===e?Xe.toHex32(this.h.slice(0,12),"big"):Xe.split32(this.h.slice(0,12),"big")},z.sha1=Q,z.sha224=we,z.sha256=me,z.sha384=et,z.sha512=Le;var tt={},rt=S,nt=T,it=rt.rotl32,st=rt.sum32,ot=rt.sum32_3,at=rt.sum32_4,ct=nt.BlockHash;function ut(){if(!(this instanceof ut))return new ut;ct.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function lt(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function ht(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function dt(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}rt.inherits(ut,ct),tt.ripemd160=ut,ut.blockSize=512,ut.outSize=160,ut.hmacStrength=192,ut.padLength=64,ut.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,c=n,u=i,l=s,h=o,d=0;d<80;d++){var g=st(it(at(r,lt(d,n,i,s),e[gt[d]+t],ht(d)),ft[d]),o);r=o,o=s,s=it(i,10),i=n,n=g,g=st(it(at(a,lt(79-d,c,u,l),e[pt[d]+t],dt(d)),mt[d]),h),a=h,h=l,l=it(u,10),u=c,c=g}g=ot(this.h[1],i,l),this.h[1]=ot(this.h[2],s,h),this.h[2]=ot(this.h[3],o,a),this.h[3]=ot(this.h[4],r,c),this.h[4]=ot(this.h[0],n,u),this.h[0]=g},ut.prototype._digest=function(e){return"hex"===e?rt.toHex32(this.h,"little"):rt.split32(this.h,"little")};var gt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],pt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ft=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],mt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],yt=S,bt=I;function kt(e,t,r){if(!(this instanceof kt))return new kt(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(yt.toArray(t,r))}var wt=kt;kt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),bt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},kt.prototype.update=function(e,t){return this.inner.update(e,t),this},kt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=S,t.common=T,t.sha=z,t.ripemd=tt,t.hmac=wt,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(_);var vt=_;let _t=!1,St=!1;const It={debug:1,default:2,info:2,warning:3,error:4,off:5};let At=It.default,Et=null;const Pt=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var xt,Rt;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(xt||(xt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Rt||(Rt={}));const Bt="0123456789abcdef";class Ot{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==It[r]&&this.throwArgumentError("invalid log level name","logLevel",e),At>It[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.WARNING,t)}makeError(e,t,r){if(St)return this.makeError("censored error",t,{});t||(t=Ot.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=Bt[t[e]>>4],r+=Bt[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(o){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let s="";switch(t){case Rt.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Rt.CALL_EXCEPTION:case Rt.INSUFFICIENT_FUNDS:case Rt.MISSING_NEW:case Rt.NONCE_EXPIRED:case Rt.REPLACEMENT_UNDERPRICED:case Rt.TRANSACTION_REPLACED:case Rt.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Ot.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){Pt&&this.throwError("platform missing String.prototype.normalize",Ot.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Pt})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Ot.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Ot.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Ot.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Ot.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Ot.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Et||(Et=new Ot("logger/5.6.0")),Et}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_t){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}St=!!e,_t=!!t}static setLogLevel(e){const t=It[e.toLowerCase()];null!=t?At=t:Ot.globalLogger().warn("invalid log level - "+e)}static from(e){return new Ot(e)}}Ot.errors=Rt,Ot.levels=xt;const Nt=new Ot("bytes/5.6.0");function Tt(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Tt(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Ct(e){return"number"===typeof e&&e==e&&e%1===0}function Wt(e,t){if(t||(t={}),"number"===typeof e){Nt.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Tt(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":Nt.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return Tt(new Uint8Array(n))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Ct(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Ct(r)||r<0||r>=256)return!1}return!0}(e)?Tt(new Uint8Array(e)):Nt.throwArgumentError("invalid arrayify value","value",e)}function Ut(e){return"0x"+vt.sha256().update(Wt(e)).digest("hex")}new Ot("sha2/5.6.0");class zt{constructor(e){Object.assign(this,e)}encode(){return s.lW.from((0,l.serialize)(Mt,this))}static decode(e){return(0,l.deserialize)(Mt,this,e)}static decodeUnchecked(e){return(0,l.deserializeUnchecked)(Mt,this,e)}}class Lt extends zt{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Mt=new Map,Kt=32;class Dt extends zt{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=u().decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new(a())(t)}else this._bn=new(a())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return u().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(s.lW);if(32===e.length)return e;const t=s.lW.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=s.lW.concat([e.toBuffer(),s.lW.from(t),r.toBuffer()]),i=Ut(new Uint8Array(n)).slice(2);return new Dt(s.lW.from(i,"hex"))}static createProgramAddressSync(e,t){let r=s.lW.alloc(0);e.forEach((function(e){if(e.length>Kt)throw new TypeError("Max seed length exceeded");r=s.lW.concat([r,v(e)])})),r=s.lW.concat([r,t.toBuffer(),s.lW.from("ProgramDerivedAddress")]);let n=Ut(new Uint8Array(r)).slice(2),i=new(a())(n,16).toArray(void 0,32);if(jt(i))throw new Error("Invalid seeds, address must fall off the curve");return new Dt(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(s.lW.from([n]));r=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return 1==jt(new Dt(e).toBytes())}}Dt.default=new Dt("11111111111111111111111111111111"),Mt.set(Dt,{kind:"struct",fields:[["_bn","u256"]]});let qt=i().lowlevel;function jt(e){var t=[qt.gf(),qt.gf(),qt.gf(),qt.gf()],r=qt.gf(),n=qt.gf(),i=qt.gf(),s=qt.gf(),o=qt.gf(),a=qt.gf(),c=qt.gf();return qt.set25519(t[2],Ft),qt.unpack25519(t[1],e),qt.S(i,t[1]),qt.M(s,i,qt.D),qt.Z(i,i,t[2]),qt.A(s,t[2],s),qt.S(o,s),qt.S(a,o),qt.M(c,a,o),qt.M(r,c,i),qt.M(r,r,s),qt.pow2523(r,r),qt.M(r,r,i),qt.M(r,r,s),qt.M(r,r,s),qt.M(t[0],r,s),qt.S(n,t[0]),qt.M(n,n,s),Ht(n,i)&&qt.M(t[0],t[0],Gt),qt.S(n,t[0]),qt.M(n,n,s),Ht(n,i)?0:1}let Ft=qt.gf([1]),Gt=qt.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Ht(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return qt.pack25519(r,e),qt.pack25519(n,t),qt.crypto_verify_32(r,0,n,0)}class Vt{constructor(e){this._keypair=void 0,this._keypair=e?i().sign.keyPair.fromSecretKey(v(e)):i().sign.keyPair()}get publicKey(){return new Dt(this._keypair.publicKey)}get secretKey(){return v(this._keypair.secretKey)}}const Zt=new Dt("BPFLoader1111111111111111111111111111111111"),$t=1232,Jt=64,Xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return h.Ik(32,e)},Yt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=h.n_([h.Jq("length"),h.Jq("lengthPadding"),h.Ik(h.cv(h.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const i={chars:s.lW.from(e,"utf8")};return n(i,t,r)},i.alloc=e=>h.Jq().span+h.Jq().span+s.lW.from(e,"utf8").length,i};function Qt(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function er(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}class tr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Dt(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];er(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(u().decode(e.data));let i=[];er(i,t.length);let o=[];return er(o,n.length),{programIdIndex:r,keyIndicesCount:s.lW.from(i),keyIndices:t,dataLength:s.lW.from(o),data:n}}));let n=[];er(n,r.length);let i=s.lW.alloc($t);s.lW.from(n).copy(i);let o=n.length;r.forEach((e=>{const t=h.n_([h.u8("programIdIndex"),h.Ik(e.keyIndicesCount.length,"keyIndicesCount"),h.A9(h.u8("keyIndex"),e.keyIndices.length,"keyIndices"),h.Ik(e.dataLength.length,"dataLength"),h.A9(h.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const a=h.n_([h.Ik(1,"numRequiredSignatures"),h.Ik(1,"numReadonlySignedAccounts"),h.Ik(1,"numReadonlyUnsignedAccounts"),h.Ik(t.length,"keyCount"),h.A9(Xt("key"),e,"keys"),Xt("recentBlockhash")]),c={numRequiredSignatures:s.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:s.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:s.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:s.lW.from(t),keys:this.accountKeys.map((e=>v(e.toBytes()))),recentBlockhash:u().decode(this.recentBlockhash)};let l=s.lW.alloc(2048);const d=a.encode(c,l);return i.copy(l,d),l.slice(0,d+i.length)}static from(e){let t=[...e];const r=t.shift(),n=t.shift(),i=t.shift(),o=Qt(t);let a=[];for(let g=0;g<o;g++){const e=t.slice(0,32);t=t.slice(32),a.push(u().encode(s.lW.from(e)))}const c=t.slice(0,32);t=t.slice(32);const l=Qt(t);let h=[];for(let g=0;g<l;g++){const e=t.shift(),r=Qt(t),n=t.slice(0,r);t=t.slice(r);const i=Qt(t),o=t.slice(0,i),a=u().encode(s.lW.from(o));t=t.slice(i),h.push({programIdIndex:e,accounts:n,data:a})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:u().encode(s.lW.from(c)),accountKeys:a,instructions:h};return new tr(d)}}function rr(e,t){if(!e)throw new Error(t||"Assertion failed")}let nr;!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(nr||(nr={}));const ir=s.lW.alloc(Jt).fill(0);class sr{constructor(e){this.keys=void 0,this.programId=void 0,this.data=s.lW.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:[...this.data]}}}class or{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,e)if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const t=e;Object.assign(this,t),this.recentBlockhash=t.blockhash,this.lastValidBlockHeight=t.lastValidBlockHeight}else{const t=e;Object.assign(this,t),this.recentBlockhash=t.recentBlockhash}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new sr(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:t}=this;if(!t)throw new Error("Transaction recentBlockhash required");let r;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let u=0;u<this.instructions.length;u++)if(void 0===this.instructions[u].programId)throw new Error(`Transaction instruction index ${u} has undefined program id`);const n=[],i=[];this.instructions.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new Dt(e),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((e=>{const t=e.pubkey.toString(),r=s.findIndex((e=>e.pubkey.toString()===t));r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)})),s.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));const o=s.findIndex((e=>e.pubkey.equals(r)));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const u of this.signatures){const e=s.findIndex((e=>e.pubkey.equals(u.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${u.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,l=0;const h=[],d=[];s.forEach((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;r?(h.push(t.toString()),a+=1,n||(c+=1)):(d.push(t.toString()),n||(l+=1))}));const g=h.concat(d),p=this.instructions.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:g.indexOf(r.toString()),accounts:e.keys.map((e=>g.indexOf(e.pubkey.toString()))),data:u().encode(t)}}));return p.forEach((e=>{rr(e.programIdIndex>=0),e.accounts.forEach((e=>rr(e>=0)))})),new tr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l},accountKeys:g,recentBlockhash:t,instructions:p})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const s=this._compile();this._partialSign(s,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}const s=this._compile();this._partialSign(s,...i)}_partialSign(e){const t=e.serialize();for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];n.forEach((e=>{const r=i().sign.detached(t,e.secretKey);this._addSignature(e.publicKey,v(r))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){rr(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=s.lW.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!i().sign.detached.verify(e,r,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];er(r,t.length);const n=r.length+64*t.length+e.length,i=s.lW.alloc(n);return rr(t.length<256),s.lW.from(r).copy(i,0),t.forEach(((e,t)=>{let{signature:n}=e;null!==n&&(rr(64===n.length,"signature has invalid length"),s.lW.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),rr(i.length<=$t,`Transaction too large: ${i.length} > ${$t}`),i}get keys(){return rr(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return rr(1===this.instructions.length),this.instructions[0].programId}get data(){return rr(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=Qt(t);let n=[];for(let i=0;i<r;i++){const e=t.slice(0,Jt);t=t.slice(Jt),n.push(u().encode(s.lW.from(e)))}return or.populate(tr.from(t),n)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new or;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==u().encode(ir)?null:u().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new sr({keys:n,programId:e.accountKeys[t.programIdIndex],data:u().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}const ar=new Dt("SysvarC1ock11111111111111111111111111111111"),cr=new Dt("SysvarEpochSchedu1e111111111111111111111111"),ur=new Dt("Sysvar1nstructions1111111111111111111111111"),lr=new Dt("SysvarRecentB1ockHashes11111111111111111111"),hr=new Dt("SysvarRent111111111111111111111111111111111"),dr=new Dt("SysvarRewards111111111111111111111111111111"),gr=new Dt("SysvarS1otHashes111111111111111111111111111"),pr=new Dt("SysvarS1otHistory11111111111111111111111111"),fr=new Dt("SysvarStakeHistory1111111111111111111111111");async function mr(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries},s=await e.sendTransaction(t,r,i),o=null!=t.recentBlockhash&&null!=t.lastValidBlockHeight?(await e.confirmTransaction({signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value:(await e.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function yr(e){return new Promise((t=>setTimeout(t,e)))}function br(e,t){const r=e.layout.span>=0?e.layout.span:function(e,t){let r=0;return e.layout.fields.forEach((e=>{e.span>=0?r+=e.span:"function"===typeof e.alloc&&(r+=e.alloc(t[e.property]))})),r}(e,t),n=s.lW.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}function kr(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}const wr=h._O("lamportsPerSignature"),vr=h.n_([h.Jq("version"),h.Jq("state"),Xt("authorizedPubkey"),Xt("nonce"),h.n_([wr],"feeCalculator")]),_r=vr.span;class Sr{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=vr.decode(v(e),0);return new Sr({authorizedPubkey:new Dt(t.authorizedPubkey),nonce:new Dt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Ir=(Ar=8,e=>{const t=(0,h.Ik)(Ar,e),{encode:r,decode:n}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const r=n(e,t);return(0,d.oU)(s.lW.from(r))},i.encode=(e,t,n)=>{const i=(0,d.k$)(e,Ar);return r(i,t,n)},i});var Ar;class Er{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=h.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Pr))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:n}=kr(Pr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Dt(n)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=kr(Pr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:n}=kr(Pr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Dt(n)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=kr(Pr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:n,programId:i}=kr(Pr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Dt(t),seed:r,space:n,programId:new Dt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=kr(Pr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Dt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:n}=kr(Pr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Dt(t),seed:r,programId:new Dt(n)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:n,space:i,programId:s}=kr(Pr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Dt(t),seed:r,lamports:n,space:i,programId:new Dt(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=kr(Pr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Dt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),kr(Pr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=kr(Pr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=kr(Pr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Dt(t)}}static checkProgramId(e){if(!e.equals(xr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Pr=Object.freeze({Create:{index:0,layout:h.n_([h.Jq("instruction"),h.gM("lamports"),h.gM("space"),Xt("programId")])},Assign:{index:1,layout:h.n_([h.Jq("instruction"),Xt("programId")])},Transfer:{index:2,layout:h.n_([h.Jq("instruction"),Ir("lamports")])},CreateWithSeed:{index:3,layout:h.n_([h.Jq("instruction"),Xt("base"),Yt("seed"),h.gM("lamports"),h.gM("space"),Xt("programId")])},AdvanceNonceAccount:{index:4,layout:h.n_([h.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:h.n_([h.Jq("instruction"),h.gM("lamports")])},InitializeNonceAccount:{index:6,layout:h.n_([h.Jq("instruction"),Xt("authorized")])},AuthorizeNonceAccount:{index:7,layout:h.n_([h.Jq("instruction"),Xt("authorized")])},Allocate:{index:8,layout:h.n_([h.Jq("instruction"),h.gM("space")])},AllocateWithSeed:{index:9,layout:h.n_([h.Jq("instruction"),Xt("base"),Yt("seed"),h.gM("space"),Xt("programId")])},AssignWithSeed:{index:10,layout:h.n_([h.Jq("instruction"),Xt("base"),Yt("seed"),Xt("programId")])},TransferWithSeed:{index:11,layout:h.n_([h.Jq("instruction"),Ir("lamports"),Yt("seed"),Xt("programId")])},UpgradeNonceAccount:{index:12,layout:h.n_([h.Jq("instruction")])}});class xr{constructor(){}static createAccount(e){const t=br(Pr.Create,{lamports:e.lamports,space:e.space,programId:v(e.programId.toBuffer())});return new sr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=br(Pr.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:v(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=br(Pr.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=br(Pr.AssignWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,programId:v(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=br(Pr.Assign,{programId:v(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=br(Pr.CreateWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:v(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new sr({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new or;"basePubkey"in e&&"seed"in e?t.add(xr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:_r,programId:this.programId})):t.add(xr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:_r,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=br(Pr.InitializeNonceAccount,{authorized:v(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new sr(r)}static nonceAdvance(e){const t=br(Pr.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new sr(r)}static nonceWithdraw(e){const t=br(Pr.WithdrawNonceAccount,{lamports:e.lamports});return new sr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=br(Pr.AuthorizeNonceAccount,{authorized:v(e.newAuthorizedPubkey.toBuffer())});return new sr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=br(Pr.AllocateWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:v(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=br(Pr.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:t})}}xr.programId=new Dt("11111111111111111111111111111111");const Rr=$t-300;class Br{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Br.chunkSize)+1+1)}static async load(e,t,r,n,i){{const s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new or,a.add(xr.allocate({accountPubkey:r.publicKey,space:i.length}))),o.owner.equals(n)||(a=a||new or,a.add(xr.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<s&&(a=a||new or,a.add(xr.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-o.lamports})))}else a=(new or).add(xr.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:i.length,programId:n}));null!==a&&await mr(e,a,[t,r],{commitment:"confirmed"})}const o=h.n_([h.Jq("instruction"),h.Jq("offset"),h.Jq("bytesLength"),h.Jq("bytesLengthPadding"),h.A9(h.u8("byte"),h.cv(h.Jq(),-8),"bytes")]),a=Br.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const i=u.slice(0,a),h=s.lW.alloc(a+16);o.encode({instruction:0,offset:c,bytes:i,bytesLength:0,bytesLengthPadding:0},h);const d=(new or).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:h});if(l.push(mr(e,d,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await yr(1e3/e)}c+=a,u=u.slice(a)}await Promise.all(l);{const i=h.n_([h.Jq("instruction")]),o=s.lW.alloc(i.span);i.encode({instruction:1},o);const a=(new or).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1}],programId:n,data:o});await mr(e,a,[t,r],{commitment:"confirmed"})}return!0}}Br.chunkSize=Rr;const Or=new Dt("BPFLoader2111111111111111111111111111111111");class Nr{static getMinNumSignatures(e){return Br.getMinNumSignatures(e)}static load(e,t,r,n,i){return Br.load(e,t,r,i,n)}}class Tr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=h.u8("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Cr))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return r}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=kr(Cr.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=kr(Cr.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=kr(Cr.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=kr(Cr.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Wr.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Cr=Object.freeze({RequestUnits:{index:0,layout:h.n_([h.u8("instruction"),h.Jq("units"),h.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:h.n_([h.u8("instruction"),h.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:h.n_([h.u8("instruction"),h.Jq("units")])},SetComputeUnitPrice:{index:3,layout:h.n_([h.u8("instruction"),Ir("microLamports")])}});class Wr{constructor(){}static requestUnits(e){const t=br(Cr.RequestUnits,e);return new sr({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=br(Cr.RequestHeapFrame,e);return new sr({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=br(Cr.SetComputeUnitLimit,e);return new sr({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=br(Cr.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new sr({keys:[],programId:this.programId,data:t})}}Wr.programId=new Dt("ComputeBudget111111111111111111111111111111");var Ur=Object.prototype.toString,zr=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Lr(e,t){var r,n,i,s,o,a,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"===typeof e.toJSON)return Lr(e.toJSON(),t);if("[object Array]"===(c=Ur.call(e))){for(i="[",n=e.length-1,r=0;r<n;r++)i+=Lr(e[r],!0)+",";return n>-1&&(i+=Lr(e[r],!0)),i+"]"}if("[object Object]"===c){for(n=(s=zr(e).sort()).length,i="",r=0;r<n;)void 0!==(a=Lr(e[o=s[r]],!1))&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),r++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var Mr=function(e){var t=Lr(e,!1);if(void 0!==t)return""+t};function Kr(e){let t=0;for(;e>1;)e/=2,t++;return t}class Dr{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=Kr(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Kr(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Kr(32)):this.slotsPerEpoch}}class qr extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}var jr=globalThis.fetch;class Fr extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Fr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Gr extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Gr.prototype,"name",{value:"TransactionExpiredTimeoutError"});const Hr=(0,g.oQ)((0,g.eE)(Dt),(0,g.Z_)(),(e=>new Dt(e))),Vr=(0,g.bc)([(0,g.Z_)(),(0,g.i0)("base64")]),Zr=(0,g.oQ)((0,g.eE)(s.lW),Vr,(e=>s.lW.from(e[0],"base64"))),$r=3e4;function Jr(e){return(0,g.G0)([(0,g.dt)({jsonrpc:(0,g.i0)("2.0"),id:(0,g.Z_)(),result:e}),(0,g.dt)({jsonrpc:(0,g.i0)("2.0"),id:(0,g.Z_)(),error:(0,g.dt)({code:(0,g._4)(),message:(0,g.Z_)(),data:(0,g.jt)((0,g.Yj)())})})])}const Xr=Jr((0,g._4)());function Yr(e){return(0,g.oQ)(Jr(e),Xr,(t=>"error"in t?t:{...t,result:(0,g.Ue)(t.result,e)}))}function Qr(e){return Yr((0,g.dt)({context:(0,g.dt)({slot:(0,g.Rx)()}),value:e}))}function en(e){return(0,g.dt)({context:(0,g.dt)({slot:(0,g.Rx)()}),value:e})}const tn=(0,g.dt)({foundation:(0,g.Rx)(),foundationTerm:(0,g.Rx)(),initial:(0,g.Rx)(),taper:(0,g.Rx)(),terminal:(0,g.Rx)()}),rn=Yr((0,g.IX)((0,g.AG)((0,g.dt)({epoch:(0,g.Rx)(),effectiveSlot:(0,g.Rx)(),amount:(0,g.Rx)(),postBalance:(0,g.Rx)()})))),nn=(0,g.dt)({epoch:(0,g.Rx)(),slotIndex:(0,g.Rx)(),slotsInEpoch:(0,g.Rx)(),absoluteSlot:(0,g.Rx)(),blockHeight:(0,g.jt)((0,g.Rx)()),transactionCount:(0,g.jt)((0,g.Rx)())}),sn=(0,g.dt)({slotsPerEpoch:(0,g.Rx)(),leaderScheduleSlotOffset:(0,g.Rx)(),warmup:(0,g.O7)(),firstNormalEpoch:(0,g.Rx)(),firstNormalSlot:(0,g.Rx)()}),on=(0,g.IM)((0,g.Z_)(),(0,g.IX)((0,g.Rx)())),an=(0,g.AG)((0,g.G0)([(0,g.dt)({}),(0,g.Z_)()])),cn=(0,g.dt)({err:an}),un=(0,g.i0)("receivedSignature"),ln=(0,g.dt)({"solana-core":(0,g.Z_)(),"feature-set":(0,g.jt)((0,g.Rx)())}),hn=Qr((0,g.dt)({err:(0,g.AG)((0,g.G0)([(0,g.dt)({}),(0,g.Z_)()])),logs:(0,g.AG)((0,g.IX)((0,g.Z_)())),accounts:(0,g.jt)((0,g.AG)((0,g.IX)((0,g.AG)((0,g.dt)({executable:(0,g.O7)(),owner:(0,g.Z_)(),lamports:(0,g.Rx)(),data:(0,g.IX)((0,g.Z_)()),rentEpoch:(0,g.jt)((0,g.Rx)())}))))),unitsConsumed:(0,g.jt)((0,g.Rx)())})),dn=Qr((0,g.dt)({byIdentity:(0,g.IM)((0,g.Z_)(),(0,g.IX)((0,g.Rx)())),range:(0,g.dt)({firstSlot:(0,g.Rx)(),lastSlot:(0,g.Rx)()})}));const gn=Yr(tn),pn=Yr(nn),fn=Yr(sn),mn=Yr(on),yn=Yr((0,g.Rx)()),bn=Qr((0,g.dt)({total:(0,g.Rx)(),circulating:(0,g.Rx)(),nonCirculating:(0,g.Rx)(),nonCirculatingAccounts:(0,g.IX)(Hr)})),kn=(0,g.dt)({amount:(0,g.Z_)(),uiAmount:(0,g.AG)((0,g.Rx)()),decimals:(0,g.Rx)(),uiAmountString:(0,g.jt)((0,g.Z_)())}),wn=Qr((0,g.IX)((0,g.dt)({address:Hr,amount:(0,g.Z_)(),uiAmount:(0,g.AG)((0,g.Rx)()),decimals:(0,g.Rx)(),uiAmountString:(0,g.jt)((0,g.Z_)())}))),vn=Qr((0,g.IX)((0,g.dt)({pubkey:Hr,account:(0,g.dt)({executable:(0,g.O7)(),owner:Hr,lamports:(0,g.Rx)(),data:Zr,rentEpoch:(0,g.Rx)()})}))),_n=(0,g.dt)({program:(0,g.Z_)(),parsed:(0,g._4)(),space:(0,g.Rx)()}),Sn=Qr((0,g.IX)((0,g.dt)({pubkey:Hr,account:(0,g.dt)({executable:(0,g.O7)(),owner:Hr,lamports:(0,g.Rx)(),data:_n,rentEpoch:(0,g.Rx)()})}))),In=Qr((0,g.IX)((0,g.dt)({lamports:(0,g.Rx)(),address:Hr}))),An=(0,g.dt)({executable:(0,g.O7)(),owner:Hr,lamports:(0,g.Rx)(),data:Zr,rentEpoch:(0,g.Rx)()}),En=(0,g.dt)({pubkey:Hr,account:An}),Pn=(0,g.oQ)((0,g.G0)([(0,g.eE)(s.lW),_n]),(0,g.G0)([Vr,_n]),(e=>Array.isArray(e)?(0,g.Ue)(e,Zr):e)),xn=(0,g.dt)({executable:(0,g.O7)(),owner:Hr,lamports:(0,g.Rx)(),data:Pn,rentEpoch:(0,g.Rx)()}),Rn=(0,g.dt)({pubkey:Hr,account:xn}),Bn=(0,g.dt)({state:(0,g.G0)([(0,g.i0)("active"),(0,g.i0)("inactive"),(0,g.i0)("activating"),(0,g.i0)("deactivating")]),active:(0,g.Rx)(),inactive:(0,g.Rx)()}),On=Yr((0,g.IX)((0,g.dt)({signature:(0,g.Z_)(),slot:(0,g.Rx)(),err:an,memo:(0,g.AG)((0,g.Z_)()),blockTime:(0,g.jt)((0,g.AG)((0,g.Rx)()))}))),Nn=Yr((0,g.IX)((0,g.dt)({signature:(0,g.Z_)(),slot:(0,g.Rx)(),err:an,memo:(0,g.AG)((0,g.Z_)()),blockTime:(0,g.jt)((0,g.AG)((0,g.Rx)()))}))),Tn=(0,g.dt)({subscription:(0,g.Rx)(),result:en(An)}),Cn=(0,g.dt)({pubkey:Hr,account:An}),Wn=(0,g.dt)({subscription:(0,g.Rx)(),result:en(Cn)}),Un=(0,g.dt)({parent:(0,g.Rx)(),slot:(0,g.Rx)(),root:(0,g.Rx)()}),zn=(0,g.dt)({subscription:(0,g.Rx)(),result:Un}),Ln=(0,g.G0)([(0,g.dt)({type:(0,g.G0)([(0,g.i0)("firstShredReceived"),(0,g.i0)("completed"),(0,g.i0)("optimisticConfirmation"),(0,g.i0)("root")]),slot:(0,g.Rx)(),timestamp:(0,g.Rx)()}),(0,g.dt)({type:(0,g.i0)("createdBank"),parent:(0,g.Rx)(),slot:(0,g.Rx)(),timestamp:(0,g.Rx)()}),(0,g.dt)({type:(0,g.i0)("frozen"),slot:(0,g.Rx)(),timestamp:(0,g.Rx)(),stats:(0,g.dt)({numTransactionEntries:(0,g.Rx)(),numSuccessfulTransactions:(0,g.Rx)(),numFailedTransactions:(0,g.Rx)(),maxTransactionsPerEntry:(0,g.Rx)()})}),(0,g.dt)({type:(0,g.i0)("dead"),slot:(0,g.Rx)(),timestamp:(0,g.Rx)(),err:(0,g.Z_)()})]),Mn=(0,g.dt)({subscription:(0,g.Rx)(),result:Ln}),Kn=(0,g.dt)({subscription:(0,g.Rx)(),result:en((0,g.G0)([cn,un]))}),Dn=(0,g.dt)({subscription:(0,g.Rx)(),result:(0,g.Rx)()}),qn=(0,g.dt)({pubkey:(0,g.Z_)(),gossip:(0,g.AG)((0,g.Z_)()),tpu:(0,g.AG)((0,g.Z_)()),rpc:(0,g.AG)((0,g.Z_)()),version:(0,g.AG)((0,g.Z_)())}),jn=(0,g.dt)({votePubkey:(0,g.Z_)(),nodePubkey:(0,g.Z_)(),activatedStake:(0,g.Rx)(),epochVoteAccount:(0,g.O7)(),epochCredits:(0,g.IX)((0,g.bc)([(0,g.Rx)(),(0,g.Rx)(),(0,g.Rx)()])),commission:(0,g.Rx)(),lastVote:(0,g.Rx)(),rootSlot:(0,g.AG)((0,g.Rx)())}),Fn=Yr((0,g.dt)({current:(0,g.IX)(jn),delinquent:(0,g.IX)(jn)})),Gn=(0,g.G0)([(0,g.i0)("processed"),(0,g.i0)("confirmed"),(0,g.i0)("finalized")]),Hn=(0,g.dt)({slot:(0,g.Rx)(),confirmations:(0,g.AG)((0,g.Rx)()),err:an,confirmationStatus:(0,g.jt)(Gn)}),Vn=Qr((0,g.IX)((0,g.AG)(Hn))),Zn=Yr((0,g.Rx)()),$n=(0,g.dt)({signatures:(0,g.IX)((0,g.Z_)()),message:(0,g.dt)({accountKeys:(0,g.IX)((0,g.Z_)()),header:(0,g.dt)({numRequiredSignatures:(0,g.Rx)(),numReadonlySignedAccounts:(0,g.Rx)(),numReadonlyUnsignedAccounts:(0,g.Rx)()}),instructions:(0,g.IX)((0,g.dt)({accounts:(0,g.IX)((0,g.Rx)()),data:(0,g.Z_)(),programIdIndex:(0,g.Rx)()})),recentBlockhash:(0,g.Z_)()})}),Jn=(0,g.dt)({parsed:(0,g._4)(),program:(0,g.Z_)(),programId:Hr}),Xn=(0,g.dt)({accounts:(0,g.IX)(Hr),data:(0,g.Z_)(),programId:Hr}),Yn=(0,g.G0)([Xn,Jn]),Qn=(0,g.G0)([(0,g.dt)({parsed:(0,g._4)(),program:(0,g.Z_)(),programId:(0,g.Z_)()}),(0,g.dt)({accounts:(0,g.IX)((0,g.Z_)()),data:(0,g.Z_)(),programId:(0,g.Z_)()})]),ei=(0,g.oQ)(Yn,Qn,(e=>"accounts"in e?(0,g.Ue)(e,Xn):(0,g.Ue)(e,Jn))),ti=(0,g.dt)({signatures:(0,g.IX)((0,g.Z_)()),message:(0,g.dt)({accountKeys:(0,g.IX)((0,g.dt)({pubkey:Hr,signer:(0,g.O7)(),writable:(0,g.O7)()})),instructions:(0,g.IX)(ei),recentBlockhash:(0,g.Z_)()})}),ri=(0,g.dt)({accountIndex:(0,g.Rx)(),mint:(0,g.Z_)(),owner:(0,g.jt)((0,g.Z_)()),uiTokenAmount:kn}),ni=(0,g.dt)({err:an,fee:(0,g.Rx)(),innerInstructions:(0,g.jt)((0,g.AG)((0,g.IX)((0,g.dt)({index:(0,g.Rx)(),instructions:(0,g.IX)((0,g.dt)({accounts:(0,g.IX)((0,g.Rx)()),data:(0,g.Z_)(),programIdIndex:(0,g.Rx)()}))})))),preBalances:(0,g.IX)((0,g.Rx)()),postBalances:(0,g.IX)((0,g.Rx)()),logMessages:(0,g.jt)((0,g.AG)((0,g.IX)((0,g.Z_)()))),preTokenBalances:(0,g.jt)((0,g.AG)((0,g.IX)(ri))),postTokenBalances:(0,g.jt)((0,g.AG)((0,g.IX)(ri)))}),ii=(0,g.dt)({err:an,fee:(0,g.Rx)(),innerInstructions:(0,g.jt)((0,g.AG)((0,g.IX)((0,g.dt)({index:(0,g.Rx)(),instructions:(0,g.IX)(ei)})))),preBalances:(0,g.IX)((0,g.Rx)()),postBalances:(0,g.IX)((0,g.Rx)()),logMessages:(0,g.jt)((0,g.AG)((0,g.IX)((0,g.Z_)()))),preTokenBalances:(0,g.jt)((0,g.AG)((0,g.IX)(ri))),postTokenBalances:(0,g.jt)((0,g.AG)((0,g.IX)(ri)))}),si=Yr((0,g.AG)((0,g.dt)({blockhash:(0,g.Z_)(),previousBlockhash:(0,g.Z_)(),parentSlot:(0,g.Rx)(),transactions:(0,g.IX)((0,g.dt)({transaction:$n,meta:(0,g.AG)(ni)})),rewards:(0,g.jt)((0,g.IX)((0,g.dt)({pubkey:(0,g.Z_)(),lamports:(0,g.Rx)(),postBalance:(0,g.AG)((0,g.Rx)()),rewardType:(0,g.AG)((0,g.Z_)())}))),blockTime:(0,g.AG)((0,g.Rx)()),blockHeight:(0,g.AG)((0,g.Rx)())}))),oi=Yr((0,g.AG)((0,g.dt)({blockhash:(0,g.Z_)(),previousBlockhash:(0,g.Z_)(),parentSlot:(0,g.Rx)(),transactions:(0,g.IX)((0,g.dt)({transaction:$n,meta:(0,g.AG)(ni)})),rewards:(0,g.jt)((0,g.IX)((0,g.dt)({pubkey:(0,g.Z_)(),lamports:(0,g.Rx)(),postBalance:(0,g.AG)((0,g.Rx)()),rewardType:(0,g.AG)((0,g.Z_)())}))),blockTime:(0,g.AG)((0,g.Rx)())}))),ai=Yr((0,g.AG)((0,g.dt)({blockhash:(0,g.Z_)(),previousBlockhash:(0,g.Z_)(),parentSlot:(0,g.Rx)(),signatures:(0,g.IX)((0,g.Z_)()),blockTime:(0,g.AG)((0,g.Rx)())}))),ci=Yr((0,g.AG)((0,g.dt)({slot:(0,g.Rx)(),meta:ni,blockTime:(0,g.jt)((0,g.AG)((0,g.Rx)())),transaction:$n}))),ui=Yr((0,g.AG)((0,g.dt)({slot:(0,g.Rx)(),transaction:ti,meta:(0,g.AG)(ii),blockTime:(0,g.jt)((0,g.AG)((0,g.Rx)()))}))),li=Qr((0,g.dt)({blockhash:(0,g.Z_)(),feeCalculator:(0,g.dt)({lamportsPerSignature:(0,g.Rx)()})})),hi=Qr((0,g.dt)({blockhash:(0,g.Z_)(),lastValidBlockHeight:(0,g.Rx)()})),di=(0,g.dt)({slot:(0,g.Rx)(),numTransactions:(0,g.Rx)(),numSlots:(0,g.Rx)(),samplePeriodSecs:(0,g.Rx)()}),gi=Yr((0,g.IX)(di)),pi=Qr((0,g.AG)((0,g.dt)({feeCalculator:(0,g.dt)({lamportsPerSignature:(0,g.Rx)()})}))),fi=Yr((0,g.Z_)()),mi=Yr((0,g.Z_)()),yi=(0,g.dt)({err:an,logs:(0,g.IX)((0,g.Z_)()),signature:(0,g.Z_)()}),bi=(0,g.dt)({result:en(yi),subscription:(0,g.Rx)()});class ki{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let r=new URL(e);r.protocol;let n,i,s,o,a;var c;t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=n||function(e){let t=new URL(e);const r="https:"===t.protocol;return t.protocol=r?"wss:":"ws:",t.host="",""!==t.port&&(t.port=String(Number(t.port)+1)),t.toString()}(e),this._rpcClient=function(e,t,r,n,i,s){const o=n||jr;let a;return i&&(a=async(e,t)=>{const r=await new Promise(((r,n)=>{try{i(e,t,((e,t)=>r([e,t])))}catch(s){n(s)}}));return await o(...r)}),new(m())((async(t,n)=>{const i={method:"POST",body:t,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{})};try{let t,r=5,c=500;for(;t=a?await a(e,i):await o(e,i),429===t.status&&!0!==s&&(r-=1,0!==r);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await yr(c),c*=2;const u=await t.text();t.ok?n(null,u):n(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(c){c instanceof Error&&n(c)}}),{})}(r.toString(),0,i,s,o,a),this._rpcRequest=(c=this._rpcClient,(e,t)=>new Promise(((r,n)=>{c.request(e,t,((e,t)=>{e?n(e):r(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?n(e):r(t)}))}))}(this._rpcClient),this._rpcWebSocket=new p.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getBalance",r),i=(0,g.Ue)(n,Qr((0,g.Rx)()));if("error"in i)throw new Error("failed to get balance for "+e.toBase58()+": "+i.error.message);return i.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=(0,g.Ue)(t,Yr((0,g.AG)((0,g.Rx)())));if("error"in r)throw new Error("failed to get block time for slot "+e+": "+r.error.message);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,g.Ue)(e,Yr((0,g.Rx)()));if("error"in t)throw new Error("failed to get minimum ledger slot: "+t.error.message);return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,g.Ue)(e,yn);if("error"in t)throw new Error("failed to get first available block: "+t.error.message);return t.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),n=(0,g.Ue)(r,bn);if("error"in n)throw new Error("failed to get supply: "+n.error.message);return n.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenSupply",r),i=(0,g.Ue)(n,Qr(kn));if("error"in i)throw new Error("failed to get token supply: "+i.error.message);return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenAccountBalance",r),i=(0,g.Ue)(n,Qr(kn));if("error"in i)throw new Error("failed to get token account balance: "+i.error.message);return i.result}async getTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"base64"),s=await this._rpcRequest("getTokenAccountsByOwner",i),o=(0,g.Ue)(s,vn);if("error"in o)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+o.error.message);return o.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),o=(0,g.Ue)(s,Sn);if("error"in o)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+o.error.message);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=await this._rpcRequest("getLargestAccounts",r),i=(0,g.Ue)(n,In);if("error"in i)throw new Error("failed to get largest accounts: "+i.error.message);return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenLargestAccounts",r),i=(0,g.Ue)(n,wn);if("error"in i)throw new Error("failed to get token largest accounts: "+i.error.message);return i.result}async getAccountInfoAndContext(e,t){const r=this._buildArgs([e.toBase58()],t,"base64"),n=await this._rpcRequest("getAccountInfo",r),i=(0,g.Ue)(n,Qr((0,g.AG)(An)));if("error"in i)throw new Error("failed to get info about account "+e.toBase58()+": "+i.error.message);return i.result}async getParsedAccountInfo(e,t){const r=this._buildArgs([e.toBase58()],t,"jsonParsed"),n=await this._rpcRequest("getAccountInfo",r),i=(0,g.Ue)(n,Qr((0,g.AG)(xn)));if("error"in i)throw new Error("failed to get info about account "+e.toBase58()+": "+i.error.message);return i.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleAccountsInfoAndContext(e,t){const r=e.map((e=>e.toBase58())),n=this._buildArgs([r],t,"base64"),i=await this._rpcRequest("getMultipleAccounts",n),s=(0,g.Ue)(i,Qr((0,g.IX)((0,g.AG)(An))));if("error"in s)throw new Error("failed to get info for accounts "+r+": "+s.error.message);return s.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const n=this._buildArgs([e.toBase58()],t,void 0,void 0!==r?{epoch:r}:void 0),i=await this._rpcRequest("getStakeActivation",n),s=(0,g.Ue)(i,Yr(Bn));if("error"in s)throw new Error(`failed to get Stake Activation ${e.toBase58()}: ${s.error.message}`);return s.result}async getProgramAccounts(e,t){const r={};let n,i;t&&("string"===typeof t?n=t:(n=t.commitment,i=t.encoding,t.dataSlice&&(r.dataSlice=t.dataSlice),t.filters&&(r.filters=t.filters)));const s=this._buildArgs([e.toBase58()],n,i||"base64",r),o=await this._rpcRequest("getProgramAccounts",s),a=(0,g.Ue)(o,Yr((0,g.IX)(En)));if("error"in a)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+a.error.message);return a.result}async getParsedProgramAccounts(e,t){const r={};let n;t&&("string"===typeof t?n=t:(n=t.commitment,t.filters&&(r.filters=t.filters)));const i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),s=await this._rpcRequest("getProgramAccounts",i),o=(0,g.Ue)(s,Yr((0,g.IX)(Rn)));if("error"in o)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+o.error.message);return o.result}async confirmTransaction(e,t){let r,n;if("string"==typeof e)r=e;else{r=e.signature}try{n=u().decode(r)}catch(g){throw new Error("signature must be base58 encoded: "+r)}rr(64===n.length,"signature has invalid length");const i=t||this.commitment;let s,o,a=!1;const c=new Promise(((e,t)=>{try{o=this.onSignature(r,((t,r)=>{o=void 0;const n={context:r,value:t};a=!0,e({__type:nr.PROCESSED,response:n})}),i)}catch(g){t(g)}})),l=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}},h=new Promise((t=>{if("string"===typeof e){let e=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":e=this._confirmTransactionInitialTimeout||3e4}s=setTimeout((()=>t({__type:nr.TIMED_OUT,timeoutMs:e})),e)}else{let r=e;(async()=>{let e=await l();if(!a){for(;e<=r.lastValidBlockHeight;){if(await yr(1e3),a)return;if(e=await l(),a)return}t({__type:nr.BLOCKHEIGHT_EXCEEDED})}})()}}));let d;try{const e=await Promise.race([c,h]);switch(e.__type){case nr.BLOCKHEIGHT_EXCEEDED:throw new Fr(r);case nr.PROCESSED:d=e.response;break;case nr.TIMED_OUT:throw new Gr(r,e.timeoutMs/1e3)}}finally{clearTimeout(s),o&&this.removeSignatureListener(o)}return d}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,g.Ue)(e,Yr((0,g.IX)(qn)));if("error"in t)throw new Error("failed to get cluster nodes: "+t.error.message);return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),n=(0,g.Ue)(r,Fn);if("error"in n)throw new Error("failed to get vote accounts: "+n.error.message);return n.result}async getSlot(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getSlot",t),n=(0,g.Ue)(r,Yr((0,g.Rx)()));if("error"in n)throw new Error("failed to get slot: "+n.error.message);return n.result}async getSlotLeader(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getSlotLeader",t),n=(0,g.Ue)(r,Yr((0,g.Z_)()));if("error"in n)throw new Error("failed to get slot leader: "+n.error.message);return n.result}async getSlotLeaders(e,t){const r=[e,t],n=await this._rpcRequest("getSlotLeaders",r),i=(0,g.Ue)(n,Yr((0,g.IX)(Hr)));if("error"in i)throw new Error("failed to get slot leaders: "+i.error.message);return i.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);rr(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=await this._rpcRequest("getSignatureStatuses",r),i=(0,g.Ue)(n,Vn);if("error"in i)throw new Error("failed to get signature status: "+i.error.message);return i.result}async getTransactionCount(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getTransactionCount",t),n=(0,g.Ue)(r,Yr((0,g.Rx)()));if("error"in n)throw new Error("failed to get transaction count: "+n.error.message);return n.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),n=(0,g.Ue)(r,gn);if("error"in n)throw new Error("failed to get inflation: "+n.error.message);return n.result}async getInflationReward(e,t,r){const n=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{epoch:t}),i=await this._rpcRequest("getInflationReward",n),s=(0,g.Ue)(i,rn);if("error"in s)throw new Error("failed to get inflation reward: "+s.error.message);return s.result}async getEpochInfo(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getEpochInfo",t),n=(0,g.Ue)(r,pn);if("error"in n)throw new Error("failed to get epoch info: "+n.error.message);return n.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,g.Ue)(e,fn);if("error"in t)throw new Error("failed to get epoch schedule: "+t.error.message);const r=t.result;return new Dr(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,g.Ue)(e,mn);if("error"in t)throw new Error("failed to get leader schedule: "+t.error.message);return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=(0,g.Ue)(n,Zn);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),n=(0,g.Ue)(r,li);if("error"in n)throw new Error("failed to get recent blockhash: "+n.error.message);return n.result}async getRecentPerformanceSamples(e){const t=this._buildArgs(e?[e]:[]),r=await this._rpcRequest("getRecentPerformanceSamples",t),n=(0,g.Ue)(r,gi);if("error"in n)throw new Error("failed to get recent performance samples: "+n.error.message);return n.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=(0,g.Ue)(n,pi);if("error"in i)throw new Error("failed to get fee calculator: "+i.error.message);const{context:s,value:o}=i.result;return{context:s,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const r=e.serialize().toString("base64"),n=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",n),s=(0,g.Ue)(i,Qr((0,g.AG)((0,g.Rx)())));if("error"in s)throw new Error("failed to get slot: "+s.error.message);if(null===s.result)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getLatestBlockhash",t),n=(0,g.Ue)(r,hi);if("error"in n)throw new Error("failed to get latest blockhash: "+n.error.message);return n.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,g.Ue)(e,Yr(ln));if("error"in t)throw new Error("failed to get version: "+t.error.message);return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,g.Ue)(e,Yr((0,g.Z_)()));if("error"in t)throw new Error("failed to get genesis hash: "+t.error.message);return t.result}async getBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=await this._rpcRequest("getBlock",r),i=(0,g.Ue)(n,si);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const s=i.result;return s?{...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new tr(t.message);return{meta:r,transaction:{...t,message:n}}}))}:s}async getBlockHeight(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getBlockHeight",t),n=(0,g.Ue)(r,Yr((0,g.Rx)()));if("error"in n)throw new Error("failed to get block height information: "+n.error.message);return n.result}async getBlockProduction(e){let t,r;if("string"===typeof e)r=e;else if(e){const{commitment:n,...i}=e;r=n,t=i}const n=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",n),s=(0,g.Ue)(i,dn);if("error"in s)throw new Error("failed to get block production information: "+s.error.message);return s.result}async getTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=await this._rpcRequest("getTransaction",r),i=(0,g.Ue)(n,ci);if("error"in i)throw new Error("failed to get transaction: "+i.error.message);const s=i.result;return s?{...s,transaction:{...s.transaction,message:new tr(s.transaction.message)}}:s}async getParsedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getTransaction",r),i=(0,g.Ue)(n,ui);if("error"in i)throw new Error("failed to get transaction: "+i.error.message);return i.result}async getParsedTransactions(e,t){const r=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,g.Ue)(e,ui);if("error"in t)throw new Error("failed to get transactions: "+t.error.message);return t.result}))}async getTransactions(e,t){const r=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t)})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,g.Ue)(e,ci);if("error"in t)throw new Error("failed to get transactions: "+t.error.message);return t.result}))}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,g.Ue)(n,oi);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");const o={...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new tr(t.message);return{meta:r,transaction:{...t,message:n}}}))};return{...o,transactions:o.transactions.map((e=>{let{transaction:t,meta:r}=e;return{meta:r,transaction:or.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",n),s=(0,g.Ue)(i,Yr((0,g.IX)((0,g.Rx)())));if("error"in s)throw new Error("failed to get blocks: "+s.error.message);return s.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=(0,g.Ue)(n,ai);if("error"in i)throw new Error("failed to get block: "+i.error.message);const s=i.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,g.Ue)(n,ai);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,g.Ue)(n,ci);if("error"in i)throw new Error("failed to get transaction: "+i.error.message);const s=i.result;if(!s)return s;const o=new tr(s.transaction.message),a=s.transaction.signatures;return{...s,transaction:or.populate(o,a)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,g.Ue)(n,ui);if("error"in i)throw new Error("failed to get confirmed transaction: "+i.error.message);return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,g.Ue)(e,ui);if("error"in t)throw new Error("failed to get confirmed transactions: "+t.error.message);return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let s=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>s);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),s=(0,g.Ue)(i,On);if("error"in s)throw new Error("failed to get confirmed signatures for address: "+s.error.message);return s.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",n),s=(0,g.Ue)(i,Nn);if("error"in s)throw new Error("failed to get signatures for address: "+s.error.message);return s.result}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=Sr.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),n=(0,g.Ue)(r,fi);if("error"in n)throw new Error("airdrop to "+e.toBase58()+" failed: "+n.error.message);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await yr(100);const e=Date.now()-this._blockhashInfo.lastFetch>=$r;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let n=0;n<50;n++){const e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await yr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async simulateTransaction(e,t,r){let n;if(e instanceof or){let t=e;n=new or,n.feePayer=t.feePayer,n.instructions=e.instructions,n.nonceInfo=t.nonceInfo,n.signatures=t.signatures}else n=or.populate(e),n._message=n._json=void 0;if(n.nonceInfo&&t)n.sign(...t);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(n.lastValidBlockHeight=r.lastValidBlockHeight,n.recentBlockhash=r.blockhash,!t)break;if(n.sign(...t),!n.signature)throw new Error("!signature");const i=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(i)&&!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.simulatedSignatures.push(i);break}e=!0}}const i=n._compile(),s=i.serialize(),o=n._serialize(s).toString("base64"),a={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:i.nonProgramIds()).map((e=>e.toBase58()));a.accounts={encoding:"base64",addresses:e}}t&&(a.sigVerify=!0);const c=[o,a],u=await this._rpcRequest("simulateTransaction",c),l=(0,g.Ue)(u,hn);if("error"in l){let e;if("data"in l.error&&(e=l.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(l.error.message,r)}throw new qr("failed to simulate transaction: "+l.error.message,e)}return l.result}async sendTransaction(e,t,r){if(e.nonceInfo)e.sign(...t);else{let r=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(r);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...t),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}r=!0}}const n=e.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(e,t){const r=v(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries&&(r.maxRetries=t.maxRetries),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const s=[e,r],o=await this._rpcRequest("sendTransaction",s),a=(0,g.Ue)(o,mi);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new qr("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((e=>{let[t,r]=e;this._subscriptionsByHash[t]={...r,state:"pending"}}))):this._updateSubscriptions()}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._subscriptionsByHash[e]={...r,state:"subscribing"};const t=await this._rpcWebSocket.call(i,n);this._subscriptionsByHash[e]={...r,serverSubscriptionId:t,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(s){if(s instanceof Error&&console.error(`${i} error for argument`,n,s.message),!t())return;this._subscriptionsByHash[e]={...r,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._subscriptionsByHash[e]={...r,state:"unsubscribing"};try{await this._rpcWebSocket.call(i,[n])}catch(s){if(s instanceof Error&&console.error(`${i} error:`,s.message),!t())return;return this._subscriptionsByHash[e]={...r,state:"subscribed"},void await this._updateSubscriptions()}}this._subscriptionsByHash[e]={...r,state:"unsubscribed"},await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach((e=>{try{e(...t)}catch(r){console.error(r)}}))}_wsOnAccountNotification(e){const{result:t,subscription:r}=(0,g.Ue)(e,Tn);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,n=Mr([e.method,t],!0),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r];const t=this._subscriptionsByHash[n];rr(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const n=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=(0,g.Ue)(e,Wn);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const n=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=(0,g.Ue)(e,bi);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=(0,g.Ue)(e,zn);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=(0,g.Ue)(e,Mn);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){const i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=(0,g.Ue)(e,Kn);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const n=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(i)}catch(n){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(e,t,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],n,void 0,i),o=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(o)}catch(n){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=(0,g.Ue)(e,Dn);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class wi{constructor(e){this._keypair=void 0,this._keypair=e||i().sign.keyPair()}static generate(){return new wi(i().sign.keyPair())}static fromSecretKey(e,t){const r=i().sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=i().sign.detached(e,r.secretKey);if(!i().sign.detached.verify(e,t,r.publicKey))throw new Error("provided secretKey is invalid")}return new wi(r)}static fromSeed(e){return new wi(i().sign.keyPair.fromSeed(e))}get publicKey(){return new Dt(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const vi=h.n_([h.u8("numSignatures"),h.u8("padding"),h.KB("signatureOffset"),h.KB("signatureInstructionIndex"),h.KB("publicKeyOffset"),h.KB("publicKeyInstructionIndex"),h.KB("messageDataOffset"),h.KB("messageDataSize"),h.KB("messageInstructionIndex")]);class _i{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;rr(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),rr(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const o=vi.span,a=o+t.length,c=a+n.length,u=s.lW.alloc(c+r.length),l=null==i?65535:i;return vi.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:o,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(t,o),u.fill(n,a),u.fill(r,c),new sr({keys:[],programId:_i.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;rr(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=wi.fromSecretKey(t),s=e.publicKey.toBytes(),o=i().sign.detached(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:o,instructionIndex:n})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}_i.programId=new Dt("Ed25519SigVerify111111111111111111111111111");const Si=new Dt("StakeConfig11111111111111111111111111111111");class Ii{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Ai{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Ai.default=new Ai(0,0,Dt.default);class Ei{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=h.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Pi))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=kr(Pi.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Ii(new Dt(t.staker),new Dt(t.withdrawer)),lockup:new Ai(r.unixTimestamp,r.epoch,new Dt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),kr(Pi.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=kr(Pi.Authorize,e.data),n={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Dt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(n.custodianPubkey=e.keys[3].pubkey),n}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=kr(Pi.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:n,authorityOwner:new Dt(i),newAuthorizedPubkey:new Dt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=kr(Pi.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),kr(Pi.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=kr(Pi.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),kr(Pi.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Ri.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Pi=Object.freeze({Initialize:{index:0,layout:h.n_([h.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return h.n_([Xt("staker"),Xt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return h.n_([h.gM("unixTimestamp"),h.gM("epoch"),Xt("custodian")],e)}()])},Authorize:{index:1,layout:h.n_([h.Jq("instruction"),Xt("newAuthorized"),h.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:h.n_([h.Jq("instruction")])},Split:{index:3,layout:h.n_([h.Jq("instruction"),h.gM("lamports")])},Withdraw:{index:4,layout:h.n_([h.Jq("instruction"),h.gM("lamports")])},Deactivate:{index:5,layout:h.n_([h.Jq("instruction")])},Merge:{index:7,layout:h.n_([h.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:h.n_([h.Jq("instruction"),Xt("newAuthorized"),h.Jq("stakeAuthorizationType"),Yt("authoritySeed"),Xt("authorityOwner")])}}),xi=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Ri{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||Ai.default,s=br(Pi.Initialize,{authorized:{staker:v(r.staker.toBuffer()),withdrawer:v(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:v(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new sr(o)}static createAccountWithSeed(e){const t=new or;t.add(xr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new or;t.add(xr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=br(Pi.Delegate);return(new or).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:Si,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,o=br(Pi.Authorize,{newAuthorized:v(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new or).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,c=br(Pi.AuthorizeWithSeed,{newAuthorized:v(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:v(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ar,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!1,isWritable:!1}),(new or).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=br(Pi.Split,{lamports:i});return new sr({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e){const t=new or;return t.add(xr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,basePubkey:i,seed:s,lamports:o}=e,a=new or;return a.add(xr.allocate({accountPubkey:n,basePubkey:i,seed:s,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:o}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=br(Pi.Merge);return(new or).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,o=br(Pi.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new or).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=br(Pi.Deactivate);return(new or).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}Ri.programId=new Dt("Stake11111111111111111111111111111111111111"),Ri.space=200;const{publicKeyCreate:Bi,ecdsaSign:Oi}=b(),Ni=h.n_([h.u8("numSignatures"),h.KB("signatureOffset"),h.u8("signatureInstructionIndex"),h.KB("ethAddressOffset"),h.u8("ethAddressInstructionIndex"),h.KB("messageDataOffset"),h.KB("messageDataSize"),h.u8("messageInstructionIndex"),h.Ik(20,"ethAddress"),h.Ik(64,"signature"),h.u8("recoveryId")]);class Ti{constructor(){}static publicKeyToEthAddress(e){rr(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return s.lW.from(w().keccak_256.update(v(e)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return Ti.createInstructionWithEthAddress({ethAddress:Ti.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:o=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?s.lW.from(t.substr(2),"hex"):s.lW.from(t,"hex"):t,rr(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+n.length+1,l=s.lW.alloc(Ni.span+r.length);return Ni.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:o,signature:v(n),ethAddress:v(a),recoveryId:i},l),l.fill(v(r),Ni.span),new sr({keys:[],programId:Ti.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;rr(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=v(t),i=Bi(e,!1).slice(1),o=s.lW.from(w().keccak_256.update(v(r)).digest()),{signature:a,recid:c}=Oi(o,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,recoveryId:c,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Ti.programId=new Dt("KeccakSecp256k11111111111111111111111111111");const Ci=new Dt("Va1idator1nfo111111111111111111111111111111"),Wi=(0,g.dt)({name:(0,g.Z_)(),website:(0,g.jt)((0,g.Z_)()),details:(0,g.jt)((0,g.Z_)()),keybaseUsername:(0,g.jt)((0,g.Z_)())});class Ui{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==Qt(t))return null;const r=[];for(let n=0;n<2;n++){const e=new Dt(t.slice(0,32));t=t.slice(32);const n=1===t.slice(0,1)[0];t=t.slice(1),r.push({publicKey:e,isSigner:n})}if(r[0].publicKey.equals(Ci)&&r[1].isSigner){const e=Yt().decode(s.lW.from(t)),n=JSON.parse(e);return(0,g.hu)(n,Wi),new Ui(r[1].publicKey,n)}return null}}const zi=new Dt("Vote111111111111111111111111111111111111111"),Li=h.n_([Xt("nodePubkey"),Xt("authorizedWithdrawer"),h.u8("commission"),h._O(),h.A9(h.n_([h._O("slot"),h.Jq("confirmationCount")]),h.cv(h.Jq(),-8),"votes"),h.u8("rootSlotValid"),h._O("rootSlot"),h._O(),h.A9(h.n_([h._O("epoch"),Xt("authorizedVoter")]),h.cv(h.Jq(),-8),"authorizedVoters"),h.n_([h.A9(h.n_([Xt("authorizedPubkey"),h._O("epochOfLastAuthorizedSwitch"),h._O("targetEpoch")]),32,"buf"),h._O("idx"),h.u8("isEmpty")],"priorVoters"),h._O(),h.A9(h.n_([h._O("epoch"),h._O("credits"),h._O("prevCredits")]),h.cv(h.Jq(),-8),"epochCredits"),h.n_([h._O("slot"),h._O("timestamp")],"lastTimestamp")]);class Mi{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=Li.decode(v(e),4);let r=t.rootSlot;return t.rootSlotValid||(r=null),new Mi({nodePubkey:new Dt(t.nodePubkey),authorizedWithdrawer:new Dt(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:r,authorizedVoters:t.authorizedVoters.map(Ki),priorVoters:qi(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function Ki(e){let{authorizedVoter:t,epoch:r}=e;return{epoch:r,authorizedVoter:new Dt(t)}}function Di(e){let{authorizedPubkey:t,epochOfLastAuthorizedSwitch:r,targetEpoch:n}=e;return{authorizedPubkey:new Dt(t),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function qi(e){let{buf:t,idx:r,isEmpty:n}=e;return n?[]:[...t.slice(r+1).map(Di),...t.slice(0,r).map(Di)]}class ji{constructor(e,t,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=n}}class Fi{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=h.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Gi))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=kr(Gi.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new ji(new Dt(t.nodePubkey),new Dt(t.authorizedVoter),new Dt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=kr(Gi.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Dt(t),voteAuthorizationType:{index:r}}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=kr(Gi.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Vi.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Gi=Object.freeze({InitializeAccount:{index:0,layout:h.n_([h.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return h.n_([Xt("nodePubkey"),Xt("authorizedVoter"),Xt("authorizedWithdrawer"),h.u8("commission")],e)}()])},Authorize:{index:1,layout:h.n_([h.Jq("instruction"),Xt("newAuthorized"),h.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:h.n_([h.Jq("instruction"),h.gM("lamports")])}}),Hi=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Vi{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=br(Gi.InitializeAccount,{voteInit:{nodePubkey:v(n.nodePubkey.toBuffer()),authorizedVoter:v(n.authorizedVoter.toBuffer()),authorizedWithdrawer:v(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new sr(s)}static createAccount(e){const t=new or;return t.add(xr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,s=br(Gi.Authorize,{newAuthorized:v(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new or).add({keys:o,programId:this.programId,data:s})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,s=br(Gi.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new or).add({keys:o,programId:this.programId,data:s})}}async function Zi(e,t,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment},a=await e.sendRawTransaction(t,o),c=s&&s.commitment,u=i?e.confirmTransaction(i,c):e.confirmTransaction(a,c),l=(await u).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}Vi.programId=new Dt("Vote111111111111111111111111111111111111111"),Vi.space=3731;const $i={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Ji(e,t){const r=!1===t?"http":"https";if(!e)return $i[r].devnet;const n=$i[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}const Xi=1e9},16200:e=>{e.exports=function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,r,n)}return r[o].exports}for(var s=void 0,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){!function(e){"use strict";var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=Math.ceil,o=Math.floor,a="[BigNumber Error] ",c=a+"Number primitive has more than 15 significant digits: ",u=1e14,l=14,h=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,p=1e9;function f(e){var t=0|e;return 0<e||e===t?t:t-1}function m(e){for(var t,r,n=1,i=e.length,s=e[0]+"";n<i;){for(t=e[n++]+"",r=l-t.length;r--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function y(e,t){var r,n,i=e.c,s=t.c,o=e.s,a=t.s,c=e.e,u=t.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==u,!i||!s)return n?0:!i^r?1:-1;if(!n)return u<c^r?1:-1;for(a=(c=i.length)<(u=s.length)?c:u,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==u?0:u<c^r?1:-1}function b(e,t,r,n){if(e<t||r<e||e!==o(e))throw Error(a+(n||"Argument")+("number"==typeof e?e<t||r<e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function k(e){var t=e.c.length-1;return f(e.e/l)==t&&e.c[t]%2!=0}function w(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function v(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}(r=function e(t){var r,_,S,I,A,E,P,x,R,B,O,N=G.prototype={constructor:G,toString:null,valueOf:null},T=new G(1),C=20,W=4,U=-7,z=21,L=-1e7,M=1e7,K=!1,D=1,q=0,j={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},F="0123456789abcdefghijklmnopqrstuvwxyz";function G(e,t){var r,i,s,a,u,d,g,p,f=this;if(!(f instanceof G))return new G(e,t);if(null==t){if(e&&!0===e._isBigNumber)return f.s=e.s,void(!e.c||e.e>M?f.c=f.e=null:e.e<L?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(a=0,u=e;10<=u;u/=10,a++);return void(M<a?f.c=f.e=null:(f.e=a,f.c=[e]))}p=String(e)}else{if(!n.test(p=String(e)))return S(f,p,d);f.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}-1<(a=p.indexOf("."))&&(p=p.replace(".","")),0<(u=p.search(/e/i))?(a<0&&(a=u),a+=+p.slice(u+1),p=p.substring(0,u)):a<0&&(a=p.length)}else{if(b(t,2,F.length,"Base"),10==t)return Q(f=new G(e),C+f.e+1,W);if(p=String(e),d="number"==typeof e){if(0*e!=0)return S(f,p,d,t);if(f.s=1/e<0?(p=p.slice(1),-1):1,G.DEBUG&&15<p.replace(/^0\.0*|\./,"").length)throw Error(c+e)}else f.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=F.slice(0,t),a=u=0,g=p.length;u<g;u++)if(r.indexOf(i=p.charAt(u))<0){if("."==i){if(a<u){a=g;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,u=-1,a=0;continue}return S(f,String(e),d,t)}d=!1,-1<(a=(p=_(p,t,10,f.s)).indexOf("."))?p=p.replace(".",""):a=p.length}for(u=0;48===p.charCodeAt(u);u++);for(g=p.length;48===p.charCodeAt(--g););if(p=p.slice(u,++g)){if(g-=u,d&&G.DEBUG&&15<g&&(h<e||e!==o(e)))throw Error(c+f.s*e);if((a=a-u-1)>M)f.c=f.e=null;else if(a<L)f.c=[f.e=0];else{if(f.e=a,f.c=[],u=(a+1)%l,a<0&&(u+=l),u<g){for(u&&f.c.push(+p.slice(0,u)),g-=l;u<g;)f.c.push(+p.slice(u,u+=l));u=l-(p=p.slice(u)).length}else u-=g;for(;u--;p+="0");f.c.push(+p)}}else f.c=[f.e=0]}function H(e,t,r,n){for(var i,s,o=[0],a=0,c=e.length;a<c;){for(s=o.length;s--;o[s]*=t);for(o[0]+=n.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}function V(e,t,r){var n,i,s,o,a=0,c=e.length,u=t%g,l=t/g|0;for(e=e.slice();c--;)a=((i=u*(s=e[c]%g)+(n=l*s+(o=e[c]/g|0)*u)%g*g+a)/r|0)+(n/g|0)+l*o,e[c]=i%r;return a&&(e=[a].concat(e)),e}function Z(e,t,r,n){var i,s;if(r!=n)s=n<r?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function $(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&1<e.length;e.splice(0,1));}function J(e,t,r,n){var i,s,o,a,c;if(null==r?r=W:b(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)c=m(e.c),c=1==n||2==n&&(o<=U||z<=o)?w(c,o):v(c,o,"0");else if(s=(e=Q(new G(e),t,r)).e,a=(c=m(e.c)).length,1==n||2==n&&(t<=s||s<=U)){for(;a<t;c+="0",a++);c=w(c,s)}else if(t-=o,c=v(c,s,"0"),a<s+1){if(0<--t)for(c+=".";t--;c+="0");}else if(0<(t+=s-a))for(s+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function X(e,t){for(var r,n=1,i=new G(e[0]);n<e.length;n++){if(!(r=new G(e[n])).s){i=r;break}t.call(i,r)&&(i=r)}return i}function Y(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];10<=i;i/=10,n++);return(r=n+r*l-1)>M?e.c=e.e=null:r<L?e.c=[e.e=0]:(e.e=r,e.c=t),e}function Q(e,t,r,n){var i,a,c,h,g,p,f,m=e.c,y=d;if(m){e:{for(i=1,h=m[0];10<=h;h/=10,i++);if((a=t-i)<0)a+=l,c=t,f=(g=m[p=0])/y[i-c-1]%10|0;else if((p=s((a+1)/l))>=m.length){if(!n)break e;for(;m.length<=p;m.push(0));g=f=0,c=(a%=l)-l+(i=1)}else{for(g=h=m[p],i=1;10<=h;h/=10,i++);f=(c=(a%=l)-l+i)<0?0:g/y[i-c-1]%10|0}if(n=n||t<0||null!=m[p+1]||(c<0?g:g%y[i-c-1]),n=r<4?(f||n)&&(0==r||r==(e.s<0?3:2)):5<f||5==f&&(4==r||n||6==r&&(0<a?0<c?g/y[i-c]:0:m[p-1])%10&1||r==(e.s<0?8:7)),t<1||!m[0])return m.length=0,n?(t-=e.e+1,m[0]=y[(l-t%l)%l],e.e=-t||0):m[0]=e.e=0,e;if(0==a?(m.length=p,h=1,p--):(m.length=p+1,h=y[l-a],m[p]=0<c?o(g/y[i-c]%y[c])*h:0),n)for(;;){if(0==p){for(a=1,c=m[0];10<=c;c/=10,a++);for(c=m[0]+=h,h=1;10<=c;c/=10,h++);a!=h&&(e.e++,m[0]==u&&(m[0]=1));break}if(m[p]+=h,m[p]!=u)break;m[p--]=0,h=1}for(a=m.length;0===m[--a];m.pop());}e.e>M?e.c=e.e=null:e.e<L&&(e.c=[e.e=0])}return e}function ee(e){var t,r=e.e;return null===r?e.toString():(t=m(e.c),t=r<=U||z<=r?w(t,r):v(t,r,"0"),e.s<0?"-"+t:t)}return G.clone=e,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(r=e[t],0,p,t),C=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(r=e[t],0,8,t),W=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(b(r[0],-p,0,t),b(r[1],0,p,t),U=r[0],z=r[1]):(b(r,-p,p,t),U=-(z=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)b(r[0],-p,-1,t),b(r[1],1,p,t),L=r[0],M=r[1];else{if(b(r,-p,p,t),!r)throw Error(a+t+" cannot be zero: "+r);L=-(M=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(a+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw K=!r,Error(a+"crypto unavailable");K=r}else K=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(r=e[t],0,9,t),D=r),e.hasOwnProperty(t="POW_PRECISION")&&(b(r=e[t],0,p,t),q=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(a+t+" not an object: "+r);j=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.$|[+-.\s]|(.).*\1/.test(r))throw Error(a+t+" invalid: "+r);F=r}}return{DECIMAL_PLACES:C,ROUNDING_MODE:W,EXPONENTIAL_AT:[U,z],RANGE:[L,M],CRYPTO:K,MODULO_MODE:D,POW_PRECISION:q,FORMAT:j,ALPHABET:F}},G.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!G.DEBUG)return!0;var t,r,n=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&-p<=i&&i<=p&&i===o(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%l)<1&&(t+=l),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||u<=r||r!==o(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+e)},G.maximum=G.max=function(){return X(arguments,N.lt)},G.minimum=G.min=function(){return X(arguments,N.gt)},G.random=(I=9007199254740992,A=Math.random()*I&2097151?function(){return o(Math.random()*I)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,i,c,u=0,h=[],g=new G(T);if(null==e?e=C:b(e,0,p),i=s(e/l),K)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));u<i;)9e15<=(c=131072*t[u]+(t[u+1]>>>11))?(r=crypto.getRandomValues(new Uint32Array(2)),t[u]=r[0],t[u+1]=r[1]):(h.push(c%1e14),u+=2);u=i/2}else{if(!crypto.randomBytes)throw K=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(i*=7);u<i;)9e15<=(c=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])?crypto.randomBytes(7).copy(t,u):(h.push(c%1e14),u+=7);u=i/7}if(!K)for(;u<i;)(c=A())<9e15&&(h[u++]=c%1e14);for(i=h[--u],e%=l,i&&e&&(c=d[l-e],h[u]=o(i/c)*c);0===h[u];h.pop(),u--);if(u<0)h=[n=0];else{for(n=-1;0===h[0];h.splice(0,1),n-=l);for(u=1,c=h[0];10<=c;c/=10,u++);u<l&&(n-=l-u)}return g.e=n,g.c=h,g}),G.sum=function(){for(var e=1,t=arguments,r=new G(t[0]);e<t.length;)r=r.plus(t[e++]);return r},E="0123456789",_=function(e,t,n,i,s){var o,a,c,u,l,h,d,g,p=e.indexOf("."),f=C,y=W;for(0<=p&&(u=q,q=0,e=e.replace(".",""),h=(g=new G(t)).pow(e.length-p),q=u,g.c=H(v(m(h.c),h.e,"0"),10,n,E),g.e=g.c.length),c=u=(d=H(e,t,n,s?(o=F,E):(o=E,F))).length;0==d[--u];d.pop());if(!d[0])return o.charAt(0);if(p<0?--c:(h.c=d,h.e=c,h.s=i,d=(h=r(h,g,f,y,n)).c,l=h.r,c=h.e),p=d[a=c+f+1],u=n/2,l=l||a<0||null!=d[a+1],l=y<4?(null!=p||l)&&(0==y||y==(h.s<0?3:2)):u<p||p==u&&(4==y||l||6==y&&1&d[a-1]||y==(h.s<0?8:7)),a<1||!d[0])e=l?v(o.charAt(1),-f,o.charAt(0)):o.charAt(0);else{if(d.length=a,l)for(--n;++d[--a]>n;)d[a]=0,a||(++c,d=[1].concat(d));for(u=d.length;!d[--u];);for(p=0,e="";p<=u;e+=o.charAt(d[p++]));e=v(e,c,o.charAt(0))}return e},r=function(e,t,r,n,i){var s,a,c,h,d,g,p,m,y,b,k,w,v,_,S,I,A,E=e.s==t.s?1:-1,P=e.c,x=t.c;if(!(P&&P[0]&&x&&x[0]))return new G(e.s&&t.s&&(P?!x||P[0]!=x[0]:x)?P&&0==P[0]||!x?0*E:E/0:NaN);for(y=(m=new G(E)).c=[],E=r+(a=e.e-t.e)+1,i||(i=u,a=f(e.e/l)-f(t.e/l),E=E/l|0),c=0;x[c]==(P[c]||0);c++);if(x[c]>(P[c]||0)&&a--,E<0)y.push(1),h=!0;else{for(_=P.length,I=x.length,E+=2,1<(d=o(i/(x[c=0]+1)))&&(x=V(x,d,i),P=V(P,d,i),I=x.length,_=P.length),v=I,k=(b=P.slice(0,I)).length;k<I;b[k++]=0);A=x.slice(),A=[0].concat(A),S=x[0],x[1]>=i/2&&S++;do{if(d=0,(s=Z(x,b,I,k))<0){if(w=b[0],I!=k&&(w=w*i+(b[1]||0)),1<(d=o(w/S)))for(i<=d&&(d=i-1),p=(g=V(x,d,i)).length,k=b.length;1==Z(g,b,p,k);)d--,$(g,I<p?A:x,p,i),p=g.length,s=1;else 0==d&&(s=d=1),p=(g=x.slice()).length;if(p<k&&(g=[0].concat(g)),$(b,g,k,i),k=b.length,-1==s)for(;Z(x,b,I,k)<1;)d++,$(b,I<k?A:x,k,i),k=b.length}else 0===s&&(d++,b=[0]);y[c++]=d,b[0]?b[k++]=P[v]||0:(b=[P[v]],k=1)}while((v++<_||null!=b[0])&&E--);h=null!=b[0],y[0]||y.splice(0,1)}if(i==u){for(c=1,E=y[0];10<=E;E/=10,c++);Q(m,r+(m.e=c+a*l-1)+1,n,h)}else m.e=a,m.r=+h;return m},P=/^(-?)0([xbo])(?=\w[\w.]*$)/i,x=/^([^.]+)\.$/,R=/^\.([^.]+)$/,B=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,r,n){var i,s=r?t:t.replace(O,"");if(B.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(P,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,s=s.replace(x,"$1").replace(R,"0.$1")),t!=s))return new G(s,i);if(G.DEBUG)throw Error(a+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},N.absoluteValue=N.abs=function(){var e=new G(this);return e.s<0&&(e.s=1),e},N.comparedTo=function(e,t){return y(this,new G(e,t))},N.decimalPlaces=N.dp=function(e,t){var r,n,i;if(null!=e)return b(e,0,p),null==t?t=W:b(t,0,8),Q(new G(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-f(this.e/l))*l,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},N.dividedBy=N.div=function(e,t){return r(this,new G(e,t),C,W)},N.dividedToIntegerBy=N.idiv=function(e,t){return r(this,new G(e,t),0,1)},N.exponentiatedBy=N.pow=function(e,t){var r,n,i,c,u,h,d,g,p=this;if((e=new G(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+ee(e));if(null!=t&&(t=new G(t)),u=14<e.e,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return g=new G(Math.pow(+ee(p),u?2-k(e):+ee(e))),t?g.mod(t):g;if(h=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new G(NaN);(n=!h&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(9<e.e&&(0<p.e||p.e<-1||(0==p.e?1<p.c[0]||u&&24e7<=p.c[1]:p.c[0]<8e13||u&&p.c[0]<=9999975e7)))return c=p.s<0&&k(e)?-0:0,-1<p.e&&(c=1/c),new G(h?1/c:c);q&&(c=s(q/l+2))}for(d=u?(r=new G(.5),h&&(e.s=1),k(e)):(i=Math.abs(+ee(e)))%2,g=new G(T);;){if(d){if(!(g=g.times(p)).c)break;c?g.c.length>c&&(g.c.length=c):n&&(g=g.mod(t))}if(i){if(0===(i=o(i/2)))break;d=i%2}else if(Q(e=e.times(r),e.e+1,1),14<e.e)d=k(e);else{if(0==(i=+ee(e)))break;d=i%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):n&&(p=p.mod(t))}return n?g:(h&&(g=T.div(g)),t?g.mod(t):c?Q(g,q,W,void 0):g)},N.integerValue=function(e){var t=new G(this);return null==e?e=W:b(e,0,8),Q(t,t.e+1,e)},N.isEqualTo=N.eq=function(e,t){return 0===y(this,new G(e,t))},N.isFinite=function(){return!!this.c},N.isGreaterThan=N.gt=function(e,t){return 0<y(this,new G(e,t))},N.isGreaterThanOrEqualTo=N.gte=function(e,t){return 1===(t=y(this,new G(e,t)))||0===t},N.isInteger=function(){return!!this.c&&f(this.e/l)>this.c.length-2},N.isLessThan=N.lt=function(e,t){return y(this,new G(e,t))<0},N.isLessThanOrEqualTo=N.lte=function(e,t){return-1===(t=y(this,new G(e,t)))||0===t},N.isNaN=function(){return!this.s},N.isNegative=function(){return this.s<0},N.isPositive=function(){return 0<this.s},N.isZero=function(){return!!this.c&&0==this.c[0]},N.minus=function(e,t){var r,n,i,s,o=this,a=o.s;if(t=(e=new G(e,t)).s,!a||!t)return new G(NaN);if(a!=t)return e.s=-t,o.plus(e);var c=o.e/l,h=e.e/l,d=o.c,g=e.c;if(!c||!h){if(!d||!g)return d?(e.s=-t,e):new G(g?o:NaN);if(!d[0]||!g[0])return g[0]?(e.s=-t,e):new G(d[0]?o:3==W?-0:0)}if(c=f(c),h=f(h),d=d.slice(),a=c-h){for((i=(s=a<0)?(a=-a,d):(h=c,g)).reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(s=(a=d.length)<(t=g.length))?a:t,a=t=0;t<n;t++)if(d[t]!=g[t]){s=d[t]<g[t];break}if(s&&(i=d,d=g,g=i,e.s=-e.s),0<(t=(n=g.length)-(r=d.length)))for(;t--;d[r++]=0);for(t=u-1;a<n;){if(d[--n]<g[n]){for(r=n;r&&!d[--r];d[r]=t);--d[r],d[n]+=u}d[n]-=g[n]}for(;0==d[0];d.splice(0,1),--h);return d[0]?Y(e,d,h):(e.s=3==W?-1:1,e.c=[e.e=0],e)},N.modulo=N.mod=function(e,t){var n,i,s=this;return e=new G(e,t),!s.c||!e.s||e.c&&!e.c[0]?new G(NaN):!e.c||s.c&&!s.c[0]?new G(s):(9==D?(i=e.s,e.s=1,n=r(s,e,0,3),e.s=i,n.s*=i):n=r(s,e,0,D),(e=s.minus(n.times(e))).c[0]||1!=D||(e.s=s.s),e)},N.multipliedBy=N.times=function(e,t){var r,n,i,s,o,a,c,h,d,p,m,y,b,k,w,v=this,_=v.c,S=(e=new G(e,t)).c;if(!(_&&S&&_[0]&&S[0]))return!v.s||!e.s||_&&!_[0]&&!S||S&&!S[0]&&!_?e.c=e.e=e.s=null:(e.s*=v.s,_&&S?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=f(v.e/l)+f(e.e/l),e.s*=v.s,(c=_.length)<(p=S.length)&&(b=_,_=S,S=b,i=c,c=p,p=i),i=c+p,b=[];i--;b.push(0));for(k=u,w=g,i=p;0<=--i;){for(r=0,m=S[i]%w,y=S[i]/w|0,s=i+(o=c);i<s;)r=((h=m*(h=_[--o]%w)+(a=y*h+(d=_[o]/w|0)*m)%w*w+b[s]+r)/k|0)+(a/w|0)+y*d,b[s--]=h%k;b[s]=r}return r?++n:b.splice(0,1),Y(e,b,n)},N.negated=function(){var e=new G(this);return e.s=-e.s||null,e},N.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new G(e,t)).s,!i||!t)return new G(NaN);if(i!=t)return e.s=-t,n.minus(e);var s=n.e/l,o=e.e/l,a=n.c,c=e.c;if(!s||!o){if(!a||!c)return new G(i/0);if(!a[0]||!c[0])return c[0]?e:new G(a[0]?n:0*i)}if(s=f(s),o=f(o),a=a.slice(),i=s-o){for((r=0<i?(o=s,c):(i=-i,a)).reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=c.length)<0&&(r=c,c=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/u|0,a[t]=u===a[t]?0:a[t]%u;return i&&(a=[i].concat(a),++o),Y(e,a,o)},N.precision=N.sd=function(e,t){var r,n,i;if(null!=e&&e!==!!e)return b(e,1,p),null==t?t=W:b(t,0,8),Q(new G(this),e,t);if(!(r=this.c))return null;if(n=(i=r.length-1)*l+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];10<=i;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},N.shiftedBy=function(e){return b(e,-h,h),this.times("1e"+e)},N.squareRoot=N.sqrt=function(){var e,t,n,i,s,o=this,a=o.c,c=o.s,u=o.e,l=C+4,h=new G("0.5");if(1!==c||!a||!a[0])return new G(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);if((n=0==(c=Math.sqrt(+ee(o)))||c==1/0?(((t=m(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=f((u+1)/2)-(u<0||u%2),new G(t=c==1/0?"1e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):new G(c+"")).c[0])for((c=(u=n.e)+l)<3&&(c=0);;)if(s=n,n=h.times(s.plus(r(o,s,l,1))),m(s.c).slice(0,c)===(t=m(n.c)).slice(0,c)){if(n.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(Q(n,n.e+C+2,1),e=!n.times(n).eq(o));break}if(!i&&(Q(s,s.e+C+2,0),s.times(s).eq(o))){n=s;break}l+=4,c+=4,i=1}return Q(n,n.e+C+1,W,e)},N.toExponential=function(e,t){return null!=e&&(b(e,0,p),e++),J(this,e,t,1)},N.toFixed=function(e,t){return null!=e&&(b(e,0,p),e=e+this.e+1),J(this,e,t)},N.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=j;else if("object"!=typeof r)throw Error(a+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,s=n.split("."),o=+r.groupSize,c=+r.secondaryGroupSize,u=r.groupSeparator||"",l=s[0],h=s[1],d=this.s<0,g=d?l.slice(1):l,p=g.length;if(c&&(i=o,o=c,p-=c=i),0<o&&0<p){for(i=p%o||o,l=g.substr(0,i);i<p;i+=o)l+=u+g.substr(i,o);0<c&&(l+=u+g.slice(i)),d&&(l="-"+l)}n=h?l+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):l}return(r.prefix||"")+n+(r.suffix||"")},N.toFraction=function(e){var t,n,i,s,o,c,u,h,g,p,f,y,b=this,k=b.c;if(null!=e&&(!(u=new G(e)).isInteger()&&(u.c||1!==u.s)||u.lt(T)))throw Error(a+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+ee(u));if(!k)return new G(b);for(t=new G(T),g=n=new G(T),i=h=new G(T),y=m(k),o=t.e=y.length-b.e-1,t.c[0]=d[(c=o%l)<0?l+c:c],e=!e||0<u.comparedTo(t)?0<o?t:g:u,c=M,M=1/0,u=new G(y),h.c[0]=0;p=r(u,t,0,1),1!=(s=n.plus(p.times(i))).comparedTo(e);)n=i,i=s,g=h.plus(p.times(s=g)),h=s,t=u.minus(p.times(s=t)),u=s;return s=r(e.minus(n),i,0,1),h=h.plus(s.times(g)),n=n.plus(s.times(i)),h.s=g.s=b.s,f=r(g,i,o*=2,W).minus(b).abs().comparedTo(r(h,n,o,W).minus(b).abs())<1?[g,i]:[h,n],M=c,f},N.toNumber=function(){return+ee(this)},N.toPrecision=function(e,t){return null!=e&&b(e,1,p),J(this,e,t,2)},N.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(t=null==e?i<=U||z<=i?w(m(r.c),i):v(m(r.c),i,"0"):10===e?v(m((r=Q(new G(r),C+i+1,W)).c),r.e,"0"):(b(e,2,F.length,"Base"),_(v(m(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},N.valueOf=N.toJSON=function(){return ee(this)},N._isBigNumber=!0,i&&(N[Symbol.toStringTag]="BigNumber",N[Symbol.for("nodejs.util.inspect.custom")]=N.valueOf),null!=t&&G.set(t),G}()).default=r.BigNumber=r,void 0!==t&&t.exports?t.exports=r:(e=e||("undefined"!=typeof self&&self?self:window)).BigNumber=r}(this)},{}],2:[function(e,t,r){"use strict";t.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=e("./globalState"),s=e("./validating"),o=e("./parsing"),a=e("bignumber.js"),c={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},u={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},l=i.currentBytes(),h=l.binarySuffixes,d=l.decimalSuffixes,g={general:{scale:1024,suffixes:d,marker:"bd"},binary:{scale:1024,suffixes:h,marker:"b"},decimal:{scale:1e3,suffixes:d,marker:"d"}};function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length?arguments[2]:void 0;if("string"==typeof t&&(t=o.parseFormat(t)),!s.validateFormat(t))return"ERROR: invalid format";var n=t.prefix||"",a=t.postfix||"",c=function(e,t,r){switch(t.output){case"currency":return function(e,t,r){var n=r.currentCurrency(),i=Object.assign({},t),s=Object.assign({},u,i),o=void 0,a="",c=!!s.totalLength||!!s.forceAverage||s.average,l=i.currencyPosition||n.position,h=i.currencySymbol||n.symbol,d=void 0!==s.spaceSeparatedCurrency?s.spaceSeparatedCurrency:s.spaceSeparated;void 0===i.lowPrecision&&(i.lowPrecision=!1),d&&(a=" "),"infix"===l&&(o=a+h+a);var g=k({instance:e,providedFormat:i,state:r,decimalSeparator:o});return"prefix"===l&&(g=e._value<0&&"sign"===s.negative?"-".concat(a).concat(h).concat(g.slice(1)):0<e._value&&s.forceSign?"+".concat(a).concat(h).concat(g.slice(1)):h+a+g),l&&"postfix"!==l||(g=g+(a=!s.spaceSeparatedAbbreviation&&c?"":a)+h),g}(e,t=w(t,i.currentCurrencyDefaultFormat()),i);case"percent":return function(e,t,r,n){var i=t.prefixSymbol,s=k({instance:n(100*e._value),providedFormat:t,state:r}),o=Object.assign({},u,t);return i?"%".concat(o.spaceSeparated?" ":"").concat(s):"".concat(s).concat(o.spaceSeparated?" ":"","%")}(e,t=w(t,i.currentPercentageDefaultFormat()),i,r);case"byte":return function(e,t,r,n){var i=t.base||"binary",s=Object.assign({},u,t),o=r.currentBytes(),a=o.binarySuffixes,c=o.decimalSuffixes,l={general:{scale:1024,suffixes:c||d,marker:"bd"},binary:{scale:1024,suffixes:a||h,marker:"b"},decimal:{scale:1e3,suffixes:c||d,marker:"d"}}[i],g=f(e._value,l.suffixes,l.scale),p=g.value,m=g.suffix,y=k({instance:n(p),providedFormat:t,state:r,defaults:r.currentByteDefaultFormat()});return"".concat(y).concat(s.spaceSeparated?" ":"").concat(m)}(e,t=w(t,i.currentByteDefaultFormat()),i,r);case"time":return t=w(t,i.currentTimeDefaultFormat()),function(e){var t=Math.floor(e._value/60/60),r=Math.floor((e._value-60*t*60)/60),n=Math.round(e._value-60*t*60-60*r);return"".concat(t,":").concat(r<10?"0":"").concat(r,":").concat(n<10?"0":"").concat(n)}(e);case"ordinal":return function(e,t,r){var n=r.currentOrdinal(),i=Object.assign({},u,t),s=k({instance:e,providedFormat:t,state:r}),o=n(e._value);return"".concat(s).concat(i.spaceSeparated?" ":"").concat(o)}(e,t=w(t,i.currentOrdinalDefaultFormat()),i);default:return k({instance:e,providedFormat:t,numbro:r})}}(e,t,r);return(c=n+c)+a}function f(e,t,r){var n=t[0],i=Math.abs(e);if(r<=i){for(var s=1;s<t.length;++s){var o=Math.pow(r,s),a=Math.pow(r,s+1);if(o<=i&&i<a){n=t[s],e/=o;break}}n===t[0]&&(e/=Math.pow(r,t.length-1),n=t[t.length-1])}return{value:e,suffix:n}}function m(e){for(var t="",r=0;r<e;r++)t+="0";return t}function y(e,t,r){var i=2<arguments.length&&void 0!==r?r:Math.round;return-1!==e.toString().indexOf("e")?function(e,t){var r=e.toString(),i=n(r.split("e"),2),s=i[0],o=i[1],a=n(s.split("."),2),c=a[0],u=a[1],l=void 0===u?"":u;if(0<+o)r=c+l+m(o-l.length);else{var h=".";h=+c<0?"-0".concat(h):"0".concat(h);var d=(m(-o-1)+Math.abs(c)+l).substr(0,t);d.length<t&&(d+=m(t-d.length)),r=h+d}return 0<+o&&0<t&&(r+=".".concat(m(t))),r}(e,t):new a(i(+"".concat(e,"e+").concat(t))/Math.pow(10,t)).toFixed(t)}function b(e,t,r,n,i){var s=n.currentDelimiters(),o=s.thousands;i=i||s.decimal;var a=s.thousandsSize||3,c=e.toString(),u=c.split(".")[0],l=c.split(".")[1],h=t<0&&0===u.indexOf("-");return r&&(h&&(u=u.slice(1)),function(e,t){for(var r=[],n=0,i=e;0<i;i--)n===t&&(r.unshift(i),n=0),n++;return r}(u.length,a).forEach((function(e,t){u=u.slice(0,e+t)+o+u.slice(e+t)})),h&&(u="-".concat(u))),l?u+i+l:u}function k(e){var t=e.instance,r=e.providedFormat,s=e.state,o=void 0===s?i:s,a=e.decimalSeparator,l=e.defaults,h=void 0===l?o.currentDefaults():l,d=t._value;if(0===d&&o.hasZeroFormat())return o.getZeroFormat();if(!isFinite(d))return d.toString();var g,p,f,m,k,w,v,_,S=Object.assign({},u,h,r),I=S.totalLength,A=I?0:S.characteristic,E=S.optionalCharacteristic,P=S.forceAverage,x=S.lowPrecision,R=!!I||!!P||S.average,B=I?-1:R&&void 0===r.mantissa?0:S.mantissa,O=!I&&(void 0===r.optionalMantissa?-1===B:S.optionalMantissa),N=S.trimMantissa,T=S.thousandSeparated,C=S.spaceSeparated,W=S.negative,U=S.forceSign,z=S.exponential,L=S.roundingFunction,M="";if(R){var K=function(e){var t=e.value,r=e.forceAverage,n=e.lowPrecision,i=void 0===n||n,s=e.abbreviations,o=e.spaceSeparated,a=void 0!==o&&o,u=e.totalLength,l=void 0===u?0:u,h=e.roundingFunction,d=void 0===h?Math.round:h,g="",p=Math.abs(t),f=-1;if(r&&s[r]&&c[r]?(g=s[r],t/=c[r]):p>=c.trillion||i&&1===d(p/c.trillion)?(g=s.trillion,t/=c.trillion):p<c.trillion&&p>=c.billion||i&&1===d(p/c.billion)?(g=s.billion,t/=c.billion):p<c.billion&&p>=c.million||i&&1===d(p/c.million)?(g=s.million,t/=c.million):(p<c.million&&p>=c.thousand||i&&1===d(p/c.thousand))&&(g=s.thousand,t/=c.thousand),g=g&&(a?" ":"")+g,l){var m=t<0,y=t.toString().split(".")[0],b=m?y.length-1:y.length;f=Math.max(l-b,0)}return{value:t,abbreviation:g,mantissaPrecision:f}}({value:d,forceAverage:P,lowPrecision:x,abbreviations:o.currentAbbreviations(),spaceSeparated:C,roundingFunction:L,totalLength:I});d=K.value,M+=K.abbreviation,I&&(B=K.mantissaPrecision)}if(z){var D=(p=(g={value:d,characteristicPrecision:A}).value,m=void 0===(f=g.characteristicPrecision)?0:f,w=(k=n(p.toExponential().split("e"),2))[0],v=k[1],_=+w,m&&1<m&&(_*=Math.pow(10,m-1),v=0<=(v-=m-1)?"+".concat(v):v),{value:_,abbreviation:"e".concat(v)});d=D.value,M=D.abbreviation+M}var q,j,F,G=function(e,t,r,i,s,o){if(-1===i)return e;var a=y(t,i,o),c=n(a.toString().split("."),2),u=c[0],l=c[1],h=void 0===l?"":l;if(h.match(/^0+$/)&&(r||s))return u;var d=h.match(/0+$/);return s&&d?"".concat(u,".").concat(h.toString().slice(0,d.index)):a.toString()}(d.toString(),d,O,B,N,L);return G=b(G=function(e,t,r,i){var s=e,o=n(s.toString().split("."),2),a=o[0],c=o[1];if(a.match(/^-?0$/)&&r)return c?"".concat(a.replace("0",""),".").concat(c):a.replace("0","");var u=t<0&&0===a.indexOf("-");if(u&&(a=a.slice(1),s=s.slice(1)),a.length<i)for(var l=i-a.length,h=0;h<l;h++)s="0".concat(s);return u&&(s="-".concat(s)),s.toString()}(G,d,E,A),d,T,o,a),(R||z)&&(G+=M),(U||d<0)&&(q=G,F=W,G=0===(j=d)?q:0==+q?q.replace("-",""):0<j?"+".concat(q):"sign"===F?q:"(".concat(q.replace("-",""),")")),G}function w(e,t){if(!e)return t;var r=Object.keys(e);return 1===r.length&&"output"===r[0]?t:e}t.exports=function(e){return{format:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p.apply(void 0,r.concat([e]))},getByteUnit:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=g.general;return f(e._value,t.suffixes,t.scale).suffix}.apply(void 0,r.concat([e]))},getBinaryByteUnit:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=g.binary;return f(e._value,t.suffixes,t.scale).suffix}.apply(void 0,r.concat([e]))},getDecimalByteUnit:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e){var t=g.decimal;return f(e._value,t.suffixes,t.scale).suffix}.apply(void 0,r.concat([e]))},formatOrDefault:w}}},{"./globalState":4,"./parsing":8,"./validating":10,"bignumber.js":1}],4:[function(e,t,r){"use strict";var n=e("./en-US"),i=e("./validating"),s=e("./parsing"),o={},a=void 0,c={},u=null,l={};function h(e){a=e}function d(){return c[a]}o.languages=function(){return Object.assign({},c)},o.currentLanguage=function(){return a},o.currentBytes=function(){return d().bytes||{}},o.currentCurrency=function(){return d().currency},o.currentAbbreviations=function(){return d().abbreviations},o.currentDelimiters=function(){return d().delimiters},o.currentOrdinal=function(){return d().ordinal},o.currentDefaults=function(){return Object.assign({},d().defaults,l)},o.currentOrdinalDefaultFormat=function(){return Object.assign({},o.currentDefaults(),d().ordinalFormat)},o.currentByteDefaultFormat=function(){return Object.assign({},o.currentDefaults(),d().byteFormat)},o.currentPercentageDefaultFormat=function(){return Object.assign({},o.currentDefaults(),d().percentageFormat)},o.currentCurrencyDefaultFormat=function(){return Object.assign({},o.currentDefaults(),d().currencyFormat)},o.currentTimeDefaultFormat=function(){return Object.assign({},o.currentDefaults(),d().timeFormat)},o.setDefaults=function(e){e=s.parseFormat(e),i.validateFormat(e)&&(l=e)},o.getZeroFormat=function(){return u},o.setZeroFormat=function(e){return u="string"==typeof e?e:null},o.hasZeroFormat=function(){return null!==u},o.languageData=function(e){if(e){if(c[e])return c[e];throw new Error('Unknown tag "'.concat(e,'"'))}return d()},o.registerLanguage=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!i.validateLanguage(e))throw new Error("Invalid language data");c[e.languageTag]=e,t&&h(e.languageTag)},o.setLanguage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.languageTag;if(!c[e]){var r=e.split("-")[0],i=Object.keys(c).find((function(e){return e.split("-")[0]===r}));return c[i]?void h(i):void h(t)}h(e)},o.registerLanguage(n),a=n.languageTag,t.exports=o},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(e,t,r){"use strict";t.exports=function(t){return{loadLanguagesInNode:function(r){return n=t,void r.forEach((function(t){var r=void 0;try{r=e("../languages/".concat(t))}catch(r){console.error('Unable to load "'.concat(t,'". No matching language file found.'))}r&&n.registerLanguage(r)}));var n}}}},{}],6:[function(e,t,r){"use strict";var n=e("bignumber.js");function i(e,t,r){var i=new n(e._value),s=t;return r.isNumbro(t)&&(s=t._value),s=new n(s),e._value=i.minus(s).toNumber(),e}t.exports=function(e){return{add:function(t,r){return s=r,o=e,a=new n((i=t)._value),c=s,o.isNumbro(s)&&(c=s._value),c=new n(c),i._value=a.plus(c).toNumber(),i;var i,s,o,a,c},subtract:function(t,r){return i(t,r,e)},multiply:function(t,r){return s=r,o=e,a=new n((i=t)._value),c=s,o.isNumbro(s)&&(c=s._value),c=new n(c),i._value=a.times(c).toNumber(),i;var i,s,o,a,c},divide:function(t,r){return s=r,o=e,a=new n((i=t)._value),c=s,o.isNumbro(s)&&(c=s._value),c=new n(c),i._value=a.dividedBy(c).toNumber(),i;var i,s,o,a,c},set:function(t,r){return n=t,s=i=r,e.isNumbro(i)&&(s=i._value),n._value=s,n;var n,i,s},difference:function(t,r){return n=r,i(o=(s=e)(t._value),n,s),Math.abs(o._value);var n,s,o},BigNumber:n}}},{"bignumber.js":1}],7:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=e("./globalState"),s=e("./validating"),o=e("./loading")(g),a=e("./unformatting"),c=e("./formatting")(g),u=e("./manipulating")(g),l=e("./parsing"),h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._value=t}var t,r,s;return t=e,(r=[{key:"clone",value:function(){return g(this._value)}},{key:"format",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return c.format(this,t)}},{key:"formatCurrency",value:function(e){return"string"==typeof e&&(e=l.parseFormat(e)),(e=c.formatOrDefault(e,i.currentCurrencyDefaultFormat())).output="currency",c.format(this,e)}},{key:"formatTime",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return t.output="time",c.format(this,t)}},{key:"binaryByteUnits",value:function(){return c.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return c.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return c.getByteUnit(this)}},{key:"difference",value:function(e){return u.difference(this,e)}},{key:"add",value:function(e){return u.add(this,e)}},{key:"subtract",value:function(e){return u.subtract(this,e)}},{key:"multiply",value:function(e){return u.multiply(this,e)}},{key:"divide",value:function(e){return u.divide(this,e)}},{key:"set",value:function(e){return u.set(this,d(e))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&n(t.prototype,r),s&&n(t,s),e}();function d(e){var t=e;return g.isNumbro(e)?t=e._value:"string"==typeof e?t=g.unformat(e):isNaN(e)&&(t=NaN),t}function g(e){return new h(d(e))}g.version="2.3.6",g.isNumbro=function(e){return e instanceof h},g.language=i.currentLanguage,g.registerLanguage=i.registerLanguage,g.setLanguage=i.setLanguage,g.languages=i.languages,g.languageData=i.languageData,g.zeroFormat=i.setZeroFormat,g.defaultFormat=i.currentDefaults,g.setDefaults=i.setDefaults,g.defaultCurrencyFormat=i.currentCurrencyDefaultFormat,g.validate=s.validate,g.loadLanguagesInNode=o.loadLanguagesInNode,g.unformat=a.unformat,g.BigNumber=u.BigNumber,t.exports=g},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(e,t,r){"use strict";t.exports={parseFormat:function(e){var t,r,n,i,s,o,a,c,u,l,h,d,g,p,f,m,y,b,k,w,v,_,S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof e?e:(r=S,s=S,function(e,t){if(-1===e.indexOf("$")){if(-1===e.indexOf("%"))return-1!==e.indexOf("bd")?(t.output="byte",t.base="general"):-1!==e.indexOf("b")?(t.output="byte",t.base="binary"):-1!==e.indexOf("d")?(t.output="byte",t.base="decimal"):-1===e.indexOf(":")?-1!==e.indexOf("o")&&(t.output="ordinal"):t.output="time";t.output="percent"}else t.output="currency"}(e=(o=(i=e=(n=(t=e).match(/^{([^}]*)}/))?(r.prefix=n[1],t.slice(n[0].length)):t).match(/{([^}]*)}$/))?(s.postfix=o[1],i.slice(0,-o[0].length)):i,S),a=S,(c=e.match(/[1-9]+[0-9]*/))&&(a.totalLength=+c[0]),u=S,(l=e.split(".")[0].match(/0+/))&&(u.characteristic=l[0].length),function(e,t){if(-1!==e.indexOf(".")){var r=e.split(".")[0];t.optionalCharacteristic=-1===r.indexOf("0")}}(e,S),h=S,-1!==e.indexOf("a")&&(h.average=!0),g=S,-1!==(d=e).indexOf("K")?g.forceAverage="thousand":-1!==d.indexOf("M")?g.forceAverage="million":-1!==d.indexOf("B")?g.forceAverage="billion":-1!==d.indexOf("T")&&(g.forceAverage="trillion"),function(e,t){var r=e.split(".")[1];if(r){var n=r.match(/0+/);n&&(t.mantissa=n[0].length)}}(e,S),f=S,(p=e).match(/\[\.]/)?f.optionalMantissa=!0:p.match(/\./)&&(f.optionalMantissa=!1),m=S,(y=e.split(".")[1])&&(m.trimMantissa=-1!==y.indexOf("[")),b=S,-1!==e.indexOf(",")&&(b.thousandSeparated=!0),k=S,-1!==e.indexOf(" ")&&(k.spaceSeparated=!0,k.spaceSeparatedCurrency=!0,(k.average||k.forceAverage)&&(k.spaceSeparatedAbbreviation=!0)),v=S,(w=e).match(/^\+?\([^)]*\)$/)&&(v.negative="parenthesis"),w.match(/^\+?-/)&&(v.negative="sign"),_=S,e.match(/^\+/)&&(_.forceSign=!0),S)}}},{}],9:[function(e,t,r){"use strict";var n=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function i(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function s(e,t,r,s,o,a,c){var u=2<arguments.length&&void 0!==r?r:"",l=3<arguments.length?s:void 0,h=4<arguments.length?o:void 0,d=5<arguments.length?a:void 0,g=6<arguments.length?c:void 0;if(""!==e)return e===h?0:function e(t,r,s,o,a,c,u){var l=2<arguments.length&&void 0!==s?s:"",h=3<arguments.length?o:void 0,d=4<arguments.length?a:void 0,g=5<arguments.length?c:void 0,p=6<arguments.length?u:void 0;if(!isNaN(+t))return+t;var f="",m=t.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(m!==t)return-1*e(m,r,l,h,d,g,p);for(var y=0;y<n.length;y++){var b=n[y];if((f=t.replace(RegExp("([0-9 ])(".concat(b.key,")$")),"$1"))!==t)return e(f,r,l,h,d,g,p)*b.factor}if((f=t.replace("%",""))!==t)return e(f,r,l,h,d,g,p)/100;var k=parseFloat(t);if(!isNaN(k)){var w=h(k);if(w&&"."!==w&&(f=t.replace(new RegExp("".concat(i(w),"$")),""))!==t)return e(f,r,l,h,d,g,p);var v={};Object.keys(g).forEach((function(e){v[g[e]]=e}));for(var _=Object.keys(v).sort().reverse(),S=_.length,I=0;I<S;I++){var A=_[I],E=v[A];if((f=t.replace(A,""))!==t){var P=void 0;switch(E){case"thousand":P=Math.pow(10,3);break;case"million":P=Math.pow(10,6);break;case"billion":P=Math.pow(10,9);break;case"trillion":P=Math.pow(10,12)}return e(f,r,l,h,d,g,p)*P}}}}(function(e,t,r){var n=2<arguments.length&&void 0!==r?r:"",s=e.replace(n,"");return(s=s.replace(new RegExp("([0-9])".concat(i(t.thousands),"([0-9])"),"g"),"$1$2")).replace(t.decimal,".")}(e,t,u),t,u,l,h,d,g)}t.exports={unformat:function(t,r){var n,i,o,a=e("./globalState"),c=a.currentDelimiters(),u=a.currentCurrency().symbol,l=a.currentOrdinal(),h=a.getZeroFormat(),d=a.currentAbbreviations(),g=void 0;if("string"==typeof t)g=function(e,t){if(e.indexOf(":")&&":"!==t.thousands){var r=e.split(":");if(3===r.length){var n=+r[0],i=+r[1],s=+r[2];return!isNaN(n)&&!isNaN(i)&&!isNaN(s)}}}(t,c)?(i=+(n=t.split(":"))[0],o=+n[1],+n[2]+60*o+3600*i):s(t,c,u,l,h,d,r);else{if("number"!=typeof t)return;g=t}if(void 0!==g)return g}}},{"./globalState":4}],10:[function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=e("./unformatting"),o=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,a={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(e,t){return"byte"===t.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(e){return"byte"===e.output}},characteristic:{type:"number",restriction:function(e){return 0<=e},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",lowPrecision:{type:"boolean",restriction:function(e,t){return!0===t.average},message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(e){return 0<=e},message:"value must be positive"},{restriction:function(e,t){return!t.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(e){return 0<=e},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(e,t){return"percent"===t.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},c={languageTag:{type:"string",mandatory:!0,restriction:function(e){return e.match(o)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function u(e){return void 0!==s.unformat(e)}function l(e,t,r,s){var o=3<arguments.length&&void 0!==s&&s,c=Object.keys(e).map((function(n){if(!t[n])return console.error("".concat(r," Invalid key: ").concat(n)),!1;var s=e[n],o=t[n];if("string"==typeof o&&(o={type:o}),"format"===o.type){if(!l(s,a,"[Validate ".concat(n,"]"),!0))return!1}else if(i(s)!==o.type)return console.error("".concat(r," ").concat(n,' type mismatched: "').concat(o.type,'" expected, "').concat(i(s),'" provided')),!1;if(o.restrictions&&o.restrictions.length)for(var c=o.restrictions.length,u=0;u<c;u++){var h=o.restrictions[u],d=h.restriction,g=h.message;if(!d(s,e))return console.error("".concat(r," ").concat(n," invalid value: ").concat(g)),!1}return o.restriction&&!o.restriction(s,e)?(console.error("".concat(r," ").concat(n," invalid value: ").concat(o.message)),!1):o.validValues&&-1===o.validValues.indexOf(s)?(console.error("".concat(r," ").concat(n," invalid value: must be among ").concat(JSON.stringify(o.validValues),', "').concat(s,'" provided')),!1):!(o.children&&!l(s,o.children,"[Validate ".concat(n,"]")))}));return o||c.push.apply(c,n(Object.keys(t).map((function(n){var i=t[n];if("string"==typeof i&&(i={type:i}),i.mandatory){var s=i.mandatory;if("function"==typeof s&&(s=s(e)),s&&void 0===e[n])return console.error("".concat(r,' Missing mandatory key "').concat(n,'"')),!1}return!0})))),c.reduce((function(e,t){return e&&t}),!0)}function h(e){return l(e,a,"[Validate format]")}t.exports={validate:function(e,t){var r=u(e),n=h(t);return r&&n},validateFormat:h,validateInput:u,validateLanguage:function(e){return l(e,c,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)}}]);
//# sourceMappingURL=vendors-node_modules_project-serum_sol-wallet-adapter_dist_esm_index_js-node_modules_numbro_d-04cfe2.18d18dd0.chunk.js.map